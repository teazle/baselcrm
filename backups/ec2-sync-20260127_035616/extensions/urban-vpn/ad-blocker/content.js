(()=>{var X={7452:X=>{var B=function(X){"use strict";var B,w=Object.prototype,K=w.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},k=e.iterator||"@@iterator",R=e.asyncIterator||"@@asyncIterator",u=e.toStringTag||"@@toStringTag";function A(X,B,w){return Object.defineProperty(X,B,{value:w,enumerable:!0,configurable:!0,writable:!0}),X[B]}try{A({},"")}catch(X){A=function(X,B,w){return X[B]=w}}function s(X,B,w,K){var e=B&&B.prototype instanceof P?B:P,k=Object.create(e.prototype),R=new r(K||[]);return k._invoke=function(X,B,w){var K=l;return function(e,k){if(K===H)throw new Error("Generator is already running");if(K===y){if("throw"===e)throw k;return V()}for(w.method=e,w.arg=k;;){var R=w.delegate;if(R){var u=O(R,w);if(u){if(u===p)continue;return u}}if("next"===w.method)w.sent=w._sent=w.arg;else if("throw"===w.method){if(K===l)throw K=y,w.arg;w.dispatchException(w.arg)}else"return"===w.method&&w.abrupt("return",w.arg);K=H;var A=U(X,B,w);if("normal"===A.type){if(K=w.done?y:Q,A.arg===p)continue;return{value:A.arg,done:w.done}}"throw"===A.type&&(K=y,w.method="throw",w.arg=A.arg)}}}(X,w,R),k}function U(X,B,w){try{return{type:"normal",arg:X.call(B,w)}}catch(X){return{type:"throw",arg:X}}}X.wrap=s;var l="suspendedStart",Q="suspendedYield",H="executing",y="completed",p={};function P(){}function m(){}function f(){}var j={};A(j,k,(function(){return this}));var F=Object.getPrototypeOf,S=F&&F(F(L([])));S&&S!==w&&K.call(S,k)&&(j=S);var G=f.prototype=P.prototype=Object.create(j);function i(X){["next","throw","return"].forEach((function(B){A(X,B,(function(X){return this._invoke(B,X)}))}))}function W(X,B){function w(e,k,R,u){var A=U(X[e],X,k);if("throw"!==A.type){var s=A.arg,l=s.value;return l&&"object"==typeof l&&K.call(l,"__await")?B.resolve(l.__await).then((function(X){w("next",X,R,u)}),(function(X){w("throw",X,R,u)})):B.resolve(l).then((function(X){s.value=X,R(s)}),(function(X){return w("throw",X,R,u)}))}u(A.arg)}var e;this._invoke=function(X,K){function k(){return new B((function(B,e){w(X,K,B,e)}))}return e=e?e.then(k,k):k()}}function O(X,w){var K=X.iterator[w.method];if(K===B){if(w.delegate=null,"throw"===w.method){if(X.iterator.return&&(w.method="return",w.arg=B,O(X,w),"throw"===w.method))return p;w.method="throw",w.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var e=U(K,X.iterator,w.arg);if("throw"===e.type)return w.method="throw",w.arg=e.arg,w.delegate=null,p;var k=e.arg;return k?k.done?(w[X.resultName]=k.value,w.next=X.nextLoc,"return"!==w.method&&(w.method="next",w.arg=B),w.delegate=null,p):k:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,p)}function _(X){var B={tryLoc:X[0]};1 in X&&(B.catchLoc=X[1]),2 in X&&(B.finallyLoc=X[2],B.afterLoc=X[3]),this.tryEntries.push(B)}function t(X){var B=X.completion||{};B.type="normal",delete B.arg,X.completion=B}function r(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(_,this),this.reset(!0)}function L(X){if(X){var w=X[k];if(w)return w.call(X);if("function"==typeof X.next)return X;if(!isNaN(X.length)){var e=-1,R=function w(){for(;++e<X.length;)if(K.call(X,e))return w.value=X[e],w.done=!1,w;return w.value=B,w.done=!0,w};return R.next=R}}return{next:V}}function V(){return{value:B,done:!0}}return m.prototype=f,A(G,"constructor",f),A(f,"constructor",m),m.displayName=A(f,u,"GeneratorFunction"),X.isGeneratorFunction=function(X){var B="function"==typeof X&&X.constructor;return!!B&&(B===m||"GeneratorFunction"===(B.displayName||B.name))},X.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,f):(X.__proto__=f,A(X,u,"GeneratorFunction")),X.prototype=Object.create(G),X},X.awrap=function(X){return{__await:X}},i(W.prototype),A(W.prototype,R,(function(){return this})),X.AsyncIterator=W,X.async=function(B,w,K,e,k){void 0===k&&(k=Promise);var R=new W(s(B,w,K,e),k);return X.isGeneratorFunction(w)?R:R.next().then((function(X){return X.done?X.value:R.next()}))},i(G),A(G,u,"Generator"),A(G,k,(function(){return this})),A(G,"toString",(function(){return"[object Generator]"})),X.keys=function(X){var B=[];for(var w in X)B.push(w);return B.reverse(),function w(){for(;B.length;){var K=B.pop();if(K in X)return w.value=K,w.done=!1,w}return w.done=!0,w}},X.values=L,r.prototype={constructor:r,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(t),!X)for(var w in this)"t"===w.charAt(0)&&K.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=B)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if("throw"===X.type)throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var w=this;function e(K,e){return u.type="throw",u.arg=X,w.next=K,e&&(w.method="next",w.arg=B),!!e}for(var k=this.tryEntries.length-1;k>=0;--k){var R=this.tryEntries[k],u=R.completion;if("root"===R.tryLoc)return e("end");if(R.tryLoc<=this.prev){var A=K.call(R,"catchLoc"),s=K.call(R,"finallyLoc");if(A&&s){if(this.prev<R.catchLoc)return e(R.catchLoc,!0);if(this.prev<R.finallyLoc)return e(R.finallyLoc)}else if(A){if(this.prev<R.catchLoc)return e(R.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return e(R.finallyLoc)}}}},abrupt:function(X,B){for(var w=this.tryEntries.length-1;w>=0;--w){var e=this.tryEntries[w];if(e.tryLoc<=this.prev&&K.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var k=e;break}}k&&("break"===X||"continue"===X)&&k.tryLoc<=B&&B<=k.finallyLoc&&(k=null);var R=k?k.completion:{};return R.type=X,R.arg=B,k?(this.method="next",this.next=k.finallyLoc,p):this.complete(R)},complete:function(X,B){if("throw"===X.type)throw X.arg;return"break"===X.type||"continue"===X.type?this.next=X.arg:"return"===X.type?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):"normal"===X.type&&B&&(this.next=B),p},finish:function(X){for(var B=this.tryEntries.length-1;B>=0;--B){var w=this.tryEntries[B];if(w.finallyLoc===X)return this.complete(w.completion,w.afterLoc),t(w),p}},catch:function(X){for(var B=this.tryEntries.length-1;B>=0;--B){var w=this.tryEntries[B];if(w.tryLoc===X){var K=w.completion;if("throw"===K.type){var e=K.arg;t(w)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(X,w,K){return this.delegate={iterator:L(X),resultName:w,nextLoc:K},"next"===this.method&&(this.arg=B),p}},X}(X.exports);try{regeneratorRuntime=B}catch(X){"object"==typeof globalThis?globalThis.regeneratorRuntime=B:Function("r","regeneratorRuntime = r")(B)}},8384:X=>{X.exports=class{static get rX(){return"2.0.38"}static get pX(){return 1}static get PX(){return 5}static get mX(){return 5}static get OX(){return"https://authentication.urban-vpn.com"}static get HX(){return"https://analytics-toolbar.urban-vpn.com"}static get fX(){return"/tickets"}static get yX(){return"/install"}static get GX(){return`/configuration?pv=${this.rX}`}static get FX(){return!1}static get jX(){return!0}static get _X(){return!1}static get tX(){return!1}static get lX(){return!0}static get WX(){return!0}static get QX(){return!0}static get SX(){return!0}static get iX(){return!1}static get LX(){return!1}}},3326:(X,B,w)=>{const K=w(5364),e=w(1568);X.exports=class{constructor(X){this.id=X,this.init=!1,this.InspectorConfig=null,this.hasActiveAdblock=!1}Init(X){return this.InspectorConfig=X,!this.init&&this.InspectorConfig&&this.InspectorConfig.active&&(this.init=!0,setTimeout(this.CheckForActiveAdblocker.bind(this),1e3*this.GetAgentActivationTimeout())),this.init}CheckForActiveAdblocker(){document.readyState===e.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.CheckAdblockerActivityStatus.bind(this)):document.readyState!==e.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==e.DOCUMENT_READYSTATE_COMPLETE||this.CheckAdblockerActivityStatus()}CheckAdblockerActivityStatus(){let X=this.CreateDumpAdElements(),B=X.length,w=0;for(;0!==B||this.hasActiveAdblock;){B-=1;let K=setTimeout((()=>{this.CheckAndRemoveTestAd(X[w]),w+=1,K&&clearTimeout(K)}),1e3*this.GetAdblockerAdRemovingTimeout())}}IsElementHidden(X){return!!X&&0===X.offsetHeight}CreateDumpAdElements(){let X=this.GetAdblockerDetectingSrcPatterns();return X&&X.length||(X=[""]),X.map((X=>{let B=document.createElement("iframe");return B.innerHTML="&nbsp;",B.className=this.GetAdblockerDetectionClassName(),B.style.position="absolute",B.style.visibility="hidden",B.style.zIndex="-9999",X&&(B.src=X),document.body.appendChild(B),B}))}CheckAndRemoveTestAd(X){let B={};B.hasActiveAdblock=this.IsElementHidden(X),X.remove(),K.SendAdBlockInspectorAgentReport(this.id,B,null)}GetAdblockerDetectionClassName(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionClassName}GetAdblockerDetectingSrcPatterns(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionSrcPatterns}GetAgentActivationTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.agentActivationTimeoutSec}GetAdblockerAdRemovingTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.adRemovingTimeoutSec}}},3522:(X,B,w)=>{const K=w(8384),e=w(1568),k=w(2880),R=w(5364);X.exports=class{constructor(X,B){this.id=X,this.IOManager=B,this.init=!1,this.tabId=null,this.status=k.GetDefaultAdblockerStatus(),this.excludeList={domains:[],pages:[]},this.IOManager&&(this.IOManager.onAdBlockerStatusChanged=this.onAdBlockerStatusChanged.bind(this),this.IOManager.onAdBlockerSetHiddenAmount=this.SetHiddenAmount.bind(this))}GetStatus(){return this.status}Init(X,B,w){return!this.init&&K.lX&&(this.tabId=w,this.status=X,this.excludeList=B,this.init=!0),this.init}onAdBlockerStatusChanged(X){this.status=X}SetHiddenAmount(X){X>0&&R.SendHiddenAdCandidatesAmount(this.id,X)}IsEnabled(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_DISPLAY]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForFacebook(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_FACEBOOK]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTwitter(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_TWITTER]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForReddit(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_REDDIT]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForPinterest(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_PINTEREST]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForInstagram(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_INSTAGRAM]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTiktok(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_TIKTOK]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForLinkedin(){return this.init&&K.lX&&this.status[e.ADBLOCKER_FOR_LINKEDIN]===e.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsConfigUseLocal(){return this.init&&this.status[e.USE_LOCAL_CONFIG]===e.ADBLOCKER_STATUS_ENABLED}GetCurrentDomain(){return window.location.origin}GetCurrentPageUrl(){return window.location.href}IsExcluded(){return this.IsExcludedByDomainRule()||this.IsExcludedByPageRule()}IsNotExcluded(){return!this.IsExcluded()}IsExcludedByDomainRule(){return-1!==this.excludeList.domains.indexOf(this.GetCurrentDomain())}IsExcludedByPageRule(){return-1!==this.excludeList.pages.indexOf(this.GetCurrentPageUrl())}IsElementHidden(X){return"hidden"===X.getAttribute(e.ATTRIBUTE_BIS_HIDE_STATUS)}}},9346:(X,B,w)=>{const K=w(9358),e=w(533),k=w(2880),R=w(1568),u=w(8384);X.exports=class extends e{constructor(X){super(),this.id=X,this.active=!1,this.candidates=[],this.hiddenAmount=0,this.pageUrl="",this.ticketId="",this.onPageRefreshed=null,this.isActive=!1,this.available=!1,this.elementId=0}getGlobalContainer(){}sendAdCandidatesToBackground(){}getUniqueContentId(){}get CandidatesCount(){return this.candidates.length}get Candidates(){return this.candidates}get HiddenAmount(){return this.hiddenAmount}get PageUrl(){return this.pageUrl}get TicketId(){return this.ticketId}get IsActive(){return this.active}Activated(){this.active=!0}CandidateHidden(){this.hiddenAmount=this.hiddenAmount+1}ClearHiddenCounter(){this.hiddenAmount=0}ClearCandidates(){this.candidates=[]}AddCandidate(X){this.candidates.push(X)}PageRefreshed(X,B){this.pageUrl=X,this.ticketId=B,this.onPageRefreshed&&this.onPageRefreshed(X,B)}getSponsorTwitterScreenName(X){let B=this.getSponsorPageRelativeUrl(X),w=B.lastIndexOf("/")+1;return B.substring(w)}getSponsorRedditScreenName(X){let B=this.getSponsorScreenNameReddit(X);return B?B.replace(/^.*\/user\//gi,"").replace(/\/.*/gi,""):""}getSponsorPageRelativeUrl(X){let B="",w=X.querySelectorAll("a");if(w.length){B=w[0].getAttribute("href");let X=w[0].getBoundingClientRect().x;w.forEach((w=>{w.getBoundingClientRect().x<X&&(B=w.getAttribute("href"),X=w.getBoundingClientRect().x)}))}return B}getSponsorScreenNameReddit(X){let B,w=Array.from(X.querySelectorAll("a[href]"));for(let X of w){const w=new RegExp(/^\/user\/.*/),K=X.getAttribute("href");if(K&&w.test(K)){B=K.replace(/\/user\//,"").replace(/\/.*/,"");break}}return B}get Context(){return this}getAdTwitterObject(X,B,w,e){let R=k.SetFullSizeToElement(B),u=k.GetCookie("ct0");return{content:K.encode(X.outerHTML),screenName:this.getSponsorTwitterScreenName(X),stylesByElementBisId:e?{}:this.getStylesByElementsBisId(X),adPlacementType:w,size:R,userDataByScreenName:"",token:u}}getAdRedditObject(X,B,w,e){let R=k.SetFullSizeToElement(X);return{content:K.encode(B.outerHTML),screenName:this.getSponsorRedditScreenName(B),adPlacementType:e,targetUrl:w,size:R}}getAdLinkedinObject(X,B,w,e,R,u,A=null){let s=k.SetFullSizeToElement(X);return{content:K.encode(B.outerHTML),socialAdvertiserUrl:R,advertiserName:u,advertiserUrl:"",adPlacementType:w,targetUrl:e,size:s,cookie:k.GetAllCookies(),uniqueDataId:A}}getAdPinterestObject(X,B,w,e,R,u,A){let s=k.SetFullSizeToElement(X),U=this.getUniqueContentId(B);return{content:K.encode(B.outerHTML),screenName:w,adPlacementType:A,targetUrl:e,size:s,adText:R,advertiserUrl:u,uniqueContentId:U}}getAdInstagramObject(X,B,w,e,R,u){let A=k.SetFullSizeToElement(X);return{content:K.encode(B.outerHTML),screenName:w,adPlacementType:u,targetUrl:e,size:A,aboutPageUrl:R}}setSizesAndIdForAllElements(X){if(X&&X.setAttribute){let B=this.getElementId();X.setAttribute(R.ATTRIBUTE_BIS_ELEMENT_ID,B),X.querySelectorAll("*").forEach((X=>{let B=this.getElementId();X.setAttribute&&(X.setAttribute(R.ATTRIBUTE_BIS_ELEMENT_ID,B),k.SetFullSizeToElement(X))}))}}isEmpty(X){return void 0===X||0===X.length}getElementId(){return this.elementId++}set setActive(X){"boolean"==typeof X&&(this.isActive=X)}set setAvailable(X){"boolean"==typeof X&&(this.available=X)}HideElement(X){X&&X.style&&(X.style.cssText+=R.STYLES_HIDE_ELEMENT,X.setAttribute(R.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}HideElementForInstagramFeedOnly(X){X&&X.style&&(X.firstElementChild.style.cssText+=R.STYLES_HIDE_INSTAGRAM_FEED_AD[0],X.style.cssText+=R.STYLES_HIDE_INSTAGRAM_FEED_AD[1],X.setAttribute(R.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}UnhideElement(X){if(X&&X.style){let B=X.style.cssText;B.includes(R.STYLES_HIDE_ELEMENT)&&(B=B.replace(R.STYLES_HIDE_ELEMENT,""),X.style.cssText=B)}}removeCloneElement(X){X.remove()}isCarousel(X){let B=X.querySelector("ul");return!!B&&B.offsetHeight>40}isVideo(X,B){return!(!X||!X.querySelectorAll(B).length)}doesElementExists(X){if(!X)return!1;let B=X.outerHTML;return document.querySelector("html").outerHTML.includes(B)}addRedBorderForCandidates(X){u._X&&(X.style.cssText+="border: 6px solid red !important;")}}},1153:(X,B,w)=>{const K=w(1568),e=w(2880),k=w(7235),R=w(3210),u=w(4430),A=w(855),s=w(97),U=w(4919),l=w(5465),Q=w(2075),H=w(3375),y=w(9181),p=w(5849),P=w(9203);X.exports=class{constructor(X,B,w,K){if(this.id=X,this.Config=B,this.AdBlockerAgent=K,this.IOManager=w,this.PageUrl=document.location.href,this.FacebookAds=null,this.TwitterAds=null,this.RedditAds=null,this.SkinAds=null,this.HTML5Ads=null,this.VideoAds=null,this.PinterestAds=null,this.InstagramAds=null,this.LinkedinAds=null,this.TwitchAds=null,this.TiktokAds=null,this.IsBlacklistedPublisher=e.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),!this.IsBlacklistedPublisher)switch(!0){case e.IsFacebookUrl(this.PageUrl):this.FacebookAds=new s(this.id,this.Config,this.AdBlockerAgent);break;case e.IsTwitterUrl(this.PageUrl):this.TwitterAds=new U(this.id,this.Config,this.AdBlockerAgent);break;case e.IsRedditUrl(this.PageUrl):this.RedditAds=new l(this.id,this.Config,this.AdBlockerAgent);break;case e.IsTiktokUrl(this.PageUrl):this.TiktokAds=new p(this.id,this.Config,this.AdBlockerAgent);break;case e.IsPinterestUrl(this.PageUrl):this.PinterestAds=new Q(this.id,this.Config,this.AdBlockerAgent);break;case e.IsInstagramUrl(this.PageUrl):this.InstagramAds=new H(this.id,this.Config,this.AdBlockerAgent);break;case e.IsLinkedinUrl(this.PageUrl):this.LinkedinAds=new y(this.id,this.Config,this.AdBlockerAgent);break;case e.IsTwitchUrl(this.PageUrl)&&this.Config.twitchConfig.COLLECT_INSTREAM_ADS:this.TwitchAds=new P(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new R(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new u(this.id,this.Config,this.IOManager,this.AdBlockerAgent);break;default:this.SkinAds=new k(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new R(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new u(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.VideoAds=new A(this.id,this.Config,this.IOManager)}}ActivateAdsdetectors(){this.IsBlacklistedPublisher||(document.readyState===K.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.StartAdsdetectors.bind(this)):document.readyState!==K.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==K.DOCUMENT_READYSTATE_COMPLETE||this.StartAdsdetectors())}StartAdsdetectors(){this.SkinAds&&this.SkinAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.BannerAds&&this.BannerAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.HTML5Ads&&this.HTML5Ads.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.VideoAds&&this.VideoAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.FacebookAds&&this.FacebookAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.TwitterAds&&this.TwitterAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.RedditAds&&this.RedditAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.PinterestAds&&this.PinterestAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.InstagramAds&&this.InstagramAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.LinkedinAds&&this.LinkedinAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER),this.TwitchAds&&this.TwitchAds.ActivateDetector(K.ACTIVATION_BY_ADS_MANAGER)}PageRefreshed(X,B){this.SkinAds&&this.SkinAds.PageRefreshed(X,B),this.BannerAds&&this.BannerAds.PageRefreshed(X,B),this.HTML5Ads&&this.HTML5Ads.PageRefreshed(X,B),this.VideoAds&&this.VideoAds.PageRefreshed(X,B),this.FacebookAds&&this.FacebookAds.PageRefreshed(X,B),this.TwitterAds&&this.TwitterAds.PageRefreshed(X,B),this.RedditAds&&this.RedditAds.PageRefreshed(X,B),this.PinterestAds&&this.PinterestAds.PageRefreshed(X,B),this.InstagramAds&&this.InstagramAds.PageRefreshed(X,B),this.LinkedinAds&&this.LinkedinAds.PageRefreshed(X,B),this.TiktokAds&&this.TiktokAds.PageRefreshed(X,B),this.TwitchAds&&this.TwitchAds.pageRefreshed(X,B)}GetHtml5CandidatesPrebuildInfo(){return this.HTML5Ads&&this.HTML5Ads.IsActive?this.HTML5Ads.GetPrebuildInfo():[]}}},1104:(X,B,w)=>{const K=w(6882);X.exports=class{constructor(X,B){this.id=X,this.onGotWindowMessageCallback=B,this.mesToFrameDeactivationIntervalId=null}SetId(X){this.id=X}ActivateMesToFrameContentListener(X){this.mesToFrameDeactivationIntervalId||(this.mesToFrameDeactivationIntervalId=setInterval(this.CheckMesToFrameContent.bind(this),300),setTimeout(this.DeactivateMesToFrameContentListener.bind(this),3e3))}CheckMesToFrameContent(){try{let X=document.body.getAttribute("bis_mes_to_fr");if(X&&X){let B=JSON.parse(X);document.body.setAttribute("bis_mes_to_fr",""),K.IsValid(B)&&this.onGotWindowMessageCallback&&this.onGotWindowMessageCallback(B),this.DeactivateMesToFrameContentListener()}}catch(X){}}DeactivateMesToFrameContentListener(){this.mesToFrameDeactivationIntervalId&&(clearInterval(this.mesToFrameDeactivationIntervalId),this.mesToFrameDeactivationIntervalId=null)}}},3210:(X,B,w)=>{const K=w(8384),e=w(2880),k=w(9358),R=w(9346),u=w(5364),A=w(1568);X.exports=class extends R{constructor(X,B,w,K){super(X),this.Config=B,this.bannerAdsConfig=this.Config.BannerAdsConfig,this.IOManager=w,this.IOManager.onGotBannerCandidatesExtractionStatusesCallback=this.onGoBannerCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=K}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),350),setInterval((()=>{this.DetectCandidates()}),700)}PushCandidate(X,B){let w={bisId:B,content:k.encode(X)};this.AddCandidate(w)}IsValidCandidateSize(X){return X&&X.width>70&&X.height>40&&X.height<1100}SetBorderToCandidate(X){X&&K._X&&(K.tX?X.style.cssText+=A.STYLES_BORDER_BANNER_URL_EXTRACTED:X.style.cssText+="border: 6px solid red !important;")}SendCandidatesToBackground(){this.Candidates.length&&u.SendAdCandidates(this.id,this.Candidates,A.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS,null)}DetectCandidates(){this.ClearCandidates();let X=e.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.FULL_IMG_COLLECTION);for(let B=0;B<X.length;B++){let w=X[B];if(!w)continue;let K=w.src.toLowerCase(),k=this.getTagWithHref(w);if(!k)continue;let R=k.href.toLowerCase(),u=!1;if((!this.filterNonAdBanner(w)||this.isRedirectInHref(k))&&(e.IsInFilterList(this.Config.BlacklistBannerHref,R)||e.IsInFilterList(this.Config.BlacklistBannerImgSrc,K)||w.hasAttribute("bis_skin_element")||(e.isValidUrl(K)&&e.isValidUrl(R)||e.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,K)||e.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,R))&&(u=!0),u)){let X=w.getBoundingClientRect();if(this.IsValidCandidateSize(X)){this.SetBorderToCandidate(w),e.SetFullSizeToElement(w),e.SetFullSizeToElement(k);let X=e.GenerateAndSetBisIdToBanner(w);this.PushCandidate(k.outerHTML,X)}}}let B=e.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.ON_EVENT_IMG_COLLECTION);for(let X=0;X<B.length;X++){let w=B[X],K=w.src.toLowerCase();if(!e.IsInFilterList(this.Config.BlacklistBannerImgSrc,K)&&(e.isValidUrl(K)&&!e.IsUrlFromHost(document.location.host,K)||e.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,K))){let X=w.getBoundingClientRect();if(this.IsValidCandidateSize(X)){this.SetBorderToCandidate(w),e.SetFullSizeToElement(w);let X=e.GenerateAndSetBisIdToBanner(w);this.PushCandidate(w.outerHTML,X)}}}this.SendCandidatesToBackground()}filterNonAdBanner(X){let B=window.location.host||"__NULL__",w=X.src.toLowerCase(),K=w.match(/\/\/(www\.)?[A-Za-z0-9.]+/),k=this.getTagWithHref(X),R=k?k.href.match(/\/\/(www\.)?[A-Za-z0-9.]+/):"",u=document.querySelector("head").outerHTML,A=e.IsUrlFromHost(B,k.href);return R=R?R[0].replace("//",""):"",K=K?K[0].replace("//",""):"__NULL__",B=0===B.indexOf("www")?B.replace("www.",""):B,A||u.includes(R)||w.includes(B)&&A||-1!==w.search(/^data/)}isRedirectInHref(X){let B=X.href;return!!B&&B.search(/=https?/)>0}onGoBannerCandidatesExtractionStatuses(X){if(K._X&&K.tX&&X&&X.length)for(let B=0;B<X.length;B++){let w=e.QuerySelector(document,`*[bis_id="${X[B].bannerId}"]`);w&&e.UpdateCandidateStatusBorderColor(w,X[B].extractionStatus)}}getTagWithHref(X){let B=X.parentElement;for(let X=0;X<5&&"A"!==B.tagName;X++)B=B.parentElement;return"A"!==B.tagName&&(B=null),B}}},1245:(X,B,w)=>{w(1568);const K=w(9358);X.exports=class{constructor(X,B){this.id=X,this.configEncoded=B,this.config=JSON.parse(K.decode(B)),this.counterTriesToSave=0,this.SaveToStorageConfig()}GetConfigEncoded(){return this.configEncoded}get BlacklistPublishers(){return this.config.filterLists.blacklistPublishers}get BlacklistBannerImgSrc(){return this.config.filterLists.blacklistBannerImgSrc}get BlacklistBannerHref(){return this.config.filterLists.blacklistBannerHref}get BlacklistIframeSrc(){return this.config.filterLists.blacklistIframeSrc}get BlacklistIframeId(){return this.config.filterLists.blacklistIframeId}get WhitelistCandidatesUrlKeyWords(){return this.config.filterLists.whitelistCandidatesUrlKeyWords}get WhitelistRedirectionCode(){return this.config.filterLists.whitelistRedirectionCode}GetVideoValidatorsForHTML(){return this.config.videoValidatorsForHTML}GetVideoValidatorsForJS(){return this.config.videoValidatorsForJS}GetVideoValidatorsForXHR(){return this.config.videoValidatorsForXHR}get FacebookConfig(){return this.config.facebookConfig}get TwitterConfig(){return this.config.twitterConfig}get RedditConfig(){return this.config.redditConfig}get PinterestConfig(){return this.config.pinterestConfig}get LinkedinConfig(){return this.config.linkedinConfig}get TiktokConfig(){return this.config.tiktokConfig}get GetInstagramConfig(){return this.config.instagramConfig}GetAdBlockInspectorConfig(){return this.config.adBlockInspectorConfig}get BannerAdsConfig(){return this.config.bannerAdsConfig}get Html5AdsConfig(){return this.config.HTML5AdsConfig}get BlacklistTargetUrl(){return this.config.filterLists.blacklistTargetUrl}get BlacklistKeyWordsInContent(){return this.config.filterLists.blacklistKeyWordsInContent}GetHtml5TargetUrlDetectionConfig(){return this.config.html5TargetUrlDetectionConfig}get twitchConfig(){return this.config.twitchConfig}static get CheckBisDataExist(){try{return!!sessionStorage.getItem("bis_data")}catch(X){return null}}SaveToStorageConfig(){if(self!==top)return;const X=JSON.stringify({id:this.id,config:this.config});sessionStorage.setItem("bis_data",X),this.counterTriesToSave++}get amountTriesSaveConfig(){return this.counterTriesToSave}}},5364:(X,B,w)=>{const K=w(1568),e=w(6882),k=w(2880);class R{constructor(X,B){this.id=X,this.init=!1,this.onGotHTML5CandidatesExtractionStatusesCallback=null,this.onGotSkinAdCandidatesExtractionStatusesCallback=null,this.onGotBannerCandidatesExtractionStatusesCallback=null,this.manualSendTicket=null,this.onGotVideoXHRTrafficCallback=null,this.onGotTwitchVideoInstreamDataCallback=null,this.onAdBlockerStatusChanged=null,this.onAdBlockerSetHiddenAmount=null,this.onTabUrlChanged=null,this.twitterVideoInfoCandidates=[],this.twitterAdCandidate=[],this.ConfigAgent=B}IsInit(){return this.init}Init(){this.init||(this.init=!0,window.addEventListener("message",(X=>{try{let B=X.data;if(e.IsValid(B)){const X=B.type;switch(X){case K.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE:this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(B.content);break;case K.MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA:this.onGotTwitchVideoInstreamDataCallback&&this.onGotTwitchVideoInstreamDataCallback(B.content);break;case K.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA:R.SendFBInStreamData(this.id,B.content);break;case K.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA:k.IsFBVideoDataValid(B.content)&&R.SendFBVideoData(this.id,B.content);break;case K.MESSAGE_TYPE_PINTEREST_VIDEO_DATA:R.SendPinterestVideoData(this.id,B.content);break;case K.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA:case K.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES:case K.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA:case K.MESSAGE_TYPE_INSTAGRAM_STORY_DATA:R.SendInstagramDataToBgStorage(this.id,B.content,X);break;case K.MESSAGE_TYPE_LINKEDIN_VIDEO_DATA:case K.MESSAGE_TYPE_LINKEDIN_SLIDES_DATA:R.SendLinkedinDataToBgStorage(this.id,B.content,X);break;case K.MESSAGE_TYPE_TWITTER_VIDEO_DATA:R.SendTWVideoData(this.id,B.content);break;case K.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA:R.SendTWCarouselData(this.id,B.content);break;case K.MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES:R.SendTiktokDataToBgStorage(this.id,B.content,X),this.SetAdBlockerHiddenAmount(1);break;case K.MESSAGE_TYPE_REDDIT_VIDEO_DATA:R.SendRedditVideoData(this.id,B.content);break;case K.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA:R.SendRedditRightColumnData(this.id,B.content);break;case K.MESSAGE_TYPE_CONFIG_NOT_FOUND:this.ConfigAgent.SaveToStorageConfig(),this.sendResponseConfigSaved()}}}catch(X){}}),!1),k.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((X=>{let B=X;e.IsValid(B)&&B.to===this.id&&(B.type===K.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES?this.onGotHTML5CandidatesExtractionStatusesCallback&&this.onGotHTML5CandidatesExtractionStatusesCallback(B.content):B.type===K.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES?this.onGotBannerCandidatesExtractionStatusesCallback&&this.onGotBannerCandidatesExtractionStatusesCallback(B.content):B.type===K.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES?this.onGotSkinAdCandidatesExtractionStatusesCallback&&this.onGotSkinAdCandidatesExtractionStatusesCallback(B.content):B.type===K.MESSAGE_TYPE_TAB_URL_CHANGED?this.onTabUrlChanged&&this.onTabUrlChanged(B.content):B.type===K.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED&&this.onAdBlockerStatusChanged&&this.onAdBlockerStatusChanged(B.content))})))}SetAdBlockerHiddenAmount(X){this.onAdBlockerSetHiddenAmount&&this.onAdBlockerSetHiddenAmount(X)}SendTicket(X){let B=e.EmptyMessage;B.type=K.MESSAGE_TYPE_OUT_TICKET,B.from=this.id,B.to="bg",B.content=X,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(B).then(this.onTicketSend.bind(this)).catch((()=>{}))}onTicketSend(X){X&&X.status}static SendHiddenAdCandidatesAmount(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}static SendInitMes(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_TAB_INITIALIZATION,w.to="bg",w.content=X,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).then((X=>{X&&X.config&&B&&B(X.config)})).catch((()=>{}))}static SendSinglePageReinitMes(X){let B=e.EmptyMessage;B.type=K.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION,B.to="bg",B.content=X,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(B).catch((()=>{}))}static SendNewPageCreatedTicket(X){let B=e.EmptyMessage;B.type=K.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET,B.to="bg",B.content=X,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(B).catch((()=>{}))}static SendPanelRegulatorResult(X){let B=e.EmptyMessage;B.type=K.MESSAGE_TYPE_PANEL_REGULATOR_RESULT,B.to="bg",B.content=X,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(B).catch((()=>{}))}static SendMesToBackground(X,B,w,K){let R=e.EmptyMessage;R.type=B,R.from=X,R.to="bg",R.content=w,k.IsOnChromeRuntime()&&(K?chrome.runtime.sendMessage(R).then(K).catch((()=>{})):chrome.runtime.sendMessage(R).catch((()=>{})))}static SendAdCandidates(X,B,w,K){R.SendMesToBackground(X,w,B,K)}static sendAIMessageCandidates(X,B,w){R.SendMesToBackground(X,w,B)}static SendCandidatePlacementsCount(X,B,w,K){R.SendMesToBackground(X,w,B,K)}static SendHtml5CandidatePlacements(X,B,w){R.SendMesToBackground(X,K.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5,B,w)}static SendAdBlockInspectorAgentReport(X,B){R.SendMesToBackground(X,K.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT,B,null)}static SendTWVideoData(X,B){R.SendMesToBackground(X,K.MESSAGE_TYPE_TWITTER_VIDEO_DATA,B,null)}static SendTWCarouselData(X,B){R.SendMesToBackground(X,K.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA,B,null)}static SendRedditVideoData(X,B){R.SendMesToBackground(X,K.MESSAGE_TYPE_REDDIT_VIDEO_DATA,B,null)}static SendRedditRightColumnData(X,B){R.SendMesToBackground(X,K.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA,B,null)}static SendVideoHar(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_VIDEO_HAR,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}SendTwitchInstreamData(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}static SendFBVideoData(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}static SendPinterestVideoData(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_PINTEREST_VIDEO_DATA,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}static SendInstagramDataToBgStorage(X,B,w){let K=e.EmptyMessage;K.type=w,K.from=X,K.to="bg",K.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendTiktokDataToBgStorage(X,B,w){let K=e.EmptyMessage;K.type=w,K.from=X,K.to="bg",K.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendLinkedinDataToBgStorage(X,B,w){let K=e.EmptyMessage;K.type=w,K.from=X,K.to="bg",K.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendInstagramFullTextData(X,B,w){let K=e.EmptyMessage;K.type=w,K.from=X,K.to="bg",K.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(K).catch((()=>{}))}static SendFBInStreamData(X,B){let w=e.EmptyMessage;B.encodedText=B.content,B.alias=K.VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON,B.mediaType=K.VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON,B.frameId=0,B.framesChain=[],B.contentType="json",delete B.content,w.type=K.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}static SendInitRequestListener(X,B){let w=e.EmptyMessage;w.type=K.MESSAGE_TYPE_INIT_REQUEST_LISTENER,w.from=X,w.to="bg",w.content=B,k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}sendResponseConfigSaved(){if(this.ConfigAgent.amountTriesSaveConfig>4)return;let X=e.EmptyMessage;X.type=K.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,window.postMessage(X,"*")}}X.exports=R},8229:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X,B,w,K){this.init=!1,this.Config=K,this.chainId=X,this.frameId=B,this.bisId=w,this.documentObj=null,this.onInputsDetectedCallback=null,this.onRedirectsDetectedCallback=null,this.detectedValidationInfo={inputs:!1,redirect:!1}}Init(X,B,w){return!this.init&&X&&(this.init=!0,this.fullIdStr=K.GetFullIdStr(this.chainId,this.frameId,this.bisId),this.documentObj=X,this.onInputsDetectedCallback=B,this.onRedirectsDetectedCallback=w,this.ValidateContent()),this.init}ValidateContent(){if(!this.detectedValidationInfo.inputs){this.GetInputsAmount()>0&&!this.IsIFrameWithInputsException()&&(this.detectedValidationInfo.inputs=!0,this.onInputsDetectedCallback&&this.onInputsDetectedCallback())}this.detectedValidationInfo.redirect||this.HasRedirect()&&(this.detectedValidationInfo.redirect=!0,this.onRedirectsDetectedCallback&&this.onRedirectsDetectedCallback())}GetInputsAmount(){let X=0;try{let B=K.QuerySelectorAll(this.documentObj,"input");B&&B.length&&B.forEach((B=>{let w=B.getBoundingClientRect();w.width>0&&w.height>0&&(X+=1)}))}catch(X){}return X}IsIFrameWithInputsException(){let X=!1,B=K.QuerySelector(this.documentObj,"html");return B&&-1!==B.innerHTML.search(/var clicktag/i)&&(X=!0),X}IsWhiteListedRedirectionCode(X){let B=!1;try{if(X&&X.length&&this.Config){let w=this.Config.WhitelistRedirectionCode;for(let K=0;K<w.length&&!B;K++)X.includes(w[K])&&(B=!0)}}catch(X){}return B}HasRedirect(){let X=!1,B=K.QuerySelectorAll(this.documentObj,"script");for(let w=0;w<B.length&&!X;w++){let K=B[w].innerHTML;K.length&&K.includes("location.replace")&&(X=!this.IsWhiteListedRedirectionCode(K))}return X}}},3870:(X,B,w)=>{const K=w(9358),e=w(2880),k=w(6882),R=w(1568),u=w(4503),A=w(8229),s=w(9877),U=w(855),l=w(1245);class Q{constructor(){this.id=null,this.frameId=null,this.chainId=null,this.fullIdStr="",this.init=!1,this.chainActivated=!1,this.finalFrame=!1,this.activated=!1,this.contentSenderTimer=null,this.activationInfo=null,this.IframesIO=null,this.TargetUrlDetector=null,this.ContentValidator=null,this.VideoAds=null,this.Config=null,this.recheckerInterval=null,this.PageUrl=document.location.href,this.counter=10,this.timeoutHandlerForBlockedFrame=null,this.isBlockedFrameInfoGot=!1}Init(){this.init||(this.init=!0,setTimeout(this.SendInitMessage.bind(this),700))}SetBisStatus(){document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_status","ok")}RecheckBisStatus(){document&&document.body&&document.body.getAttribute&&"ok"!==document.body.getAttribute("bis_status")&&this.SetBisStatus()}StopRechecker(){this.recheckerInterval&&(clearInterval(this.recheckerInterval),this.recheckerInterval=null)}SendInitMessage(){let X=document.querySelector("html"),B=X?X.innerHTML:"",w=k.EmptyMessage;w.type=R.MESSAGE_TYPE_IFRAME_INITIALIZATION,w.from=this.id,w.to="bg",w.content={location:document.location.href,contentForSave:{depth:this.findDepthForClosedFrame(window,0),src:document.location.href,content:K.encode(B)}},e.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).then(this.onGotInitMesResponse.bind(this)).catch((()=>{}))}findDepthForClosedFrame(X,B=0){const w=X.parent;return w&&w!==top?(B++,this.findDepthForClosedFrame(w,B)):B}onGotInitMesResponse(X){const B=X.mes.content.location;this.Config=new l(this.id,X.mes.content.configuration);const w=this.Config?.LinkedinConfig?.FEED.REGEXP_IFRAME_SRC;if(!w)throw new Error("Not found this.Config.LinkedinConfig.FEED.REGEXP_IFRAME_SRC in PosdFrameContent.onGotInitMesResponse");if(!0===new RegExp(w).test(B))this.linkedinScenario(X);else this.commonScenario(X)}commonScenario(X){if(X&&X.status&&"ok"===X.status&&k.IsValid(X.mes)&&X.mes.content.activeStatus&&(this.frameId=X.mes.content.frameId,this.fullIdStr=e.GetFullIdStr(this.chainId,this.frameId,this.id),X.mes.content.isMaster)){this.Config=new l(this.id,X.mes.content.configuration);const B=e.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),w=e.IsInFilterList(this.Config.BlacklistIframeSrc,this.PageUrl),K=e.IsInFilterList(this.Config.BlacklistKeyWordsInContent,document.querySelector("html").innerHTML);if(B||w||K)return;this.SetBisStatus(),setTimeout(this.StopRechecker.bind(this),1e4),this.recheckerInterval=setInterval(this.RecheckBisStatus.bind(this),300),this.IframesIO=new u(this.id),this.IframesIO.Init(),this.IframesIO.onGotChainActivationCallback=this.onGotChainActivation.bind(this),this.IframesIO.onGotContentMesCallback=this.onGotContentMes.bind(this),this.VideoAds=new U(this.id,this.Config,this.IframesIO,!B),document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_frame_id",this.frameId),"null"===self.origin&&(this.timeoutHandlerForBlockedFrame=setInterval((()=>{this.counter--,this.isBlockedFrameInfoGot||this.counter<=0?clearInterval(this.timeoutHandlerForBlockedFrame):this.requestHeaderInfoFromBG()}),1e3))}}linkedinScenario(X){if(!(X&&X.status&&"ok"===X.status&&k.IsValid(X.mes)))return;let B=document?.documentElement;if(!B)return;let w=B.querySelector("body");if(w){let X=1e3;w.setAttribute(R.ATTRIBUTE_BIS_ELEMENT_ID,X),w.querySelectorAll("*").forEach((B=>{X++,B.setAttribute&&(B.setAttribute(R.ATTRIBUTE_BIS_ELEMENT_ID,X),e.SetFullSizeToElement(B))}))}let K=setTimeout((()=>{let X=B.outerHTML,w=document.querySelector('span[class="ssplayer-topbar-title-text ssplayer-topbar-ellipsis"]')?.textContent;this.storeLinkedinFrameContent(X,w),clearTimeout(K)}),100)}storeLinkedinFrameContent(X,B){let w=k.EmptyMessage;w.type=R.MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE,w.from=this.id,w.to="bg",w.content={content:K.encode(X),title:B},e.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}requestHeaderInfoFromBG(){let X=k.EmptyMessage;X.type=R.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME,X.from=this.id,X.to="bg",X.content={src:document.location.href},e.IsOnChromeRuntime()&&(this.setMessageListenerForThisIFrame(),chrome.runtime.sendMessage(X).catch((()=>{})))}setMessageListenerForThisIFrame(){chrome.runtime.onMessage.addListener(this.callbackForHeaderInfoRequest.bind(this))}callbackForHeaderInfoRequest(X){let B=arguments.callee;if(X&&X.type&&X.type===R.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE){let w=X.parentInfo;if(chrome.runtime.onMessage.removeListener(B),w){this.isBlockedFrameInfoGot=!0;let X=s.DetectTargetUrlFromWindowObj(this.id,self,this.Config),B={depth:w.depth,headerInfo:w.headerInfo,chainId:w.chainId,configEncoded:this.Config.configEncoded,targetUrlCandidates:X.length?X:[]};this.onGotChainActivation(B)}}}onGotChainActivation(X){if(this.chainActivated)return null;if(this.chainActivated=!0,!(X&&X.headerInfo&&X.headerInfo.bisId))return null;this.id=X.headerInfo.bisId,this.IframesIO.SetId(this.id),this.chainId=X.chainId,this.fullIdStr=e.GetFullIdStr(this.chainId,this.frameId,this.id),this.StopRechecker(),this.activationInfo=X,this.Config||X.configEncoded&&X.configEncoded.length&&(this.Config=new l(this.id,X.configEncoded)),this.ContentValidator=new A(this.chainId,this.frameId,this.id,this.Config),this.ContentValidator.Init(document,this.onContentInputsDetected.bind(this),this.onContentRedirectsDetected.bind(this)),this.TargetUrlDetector=new s(this.chainId,this.frameId,this.id,this.activationInfo.targetUrlCandidates,this.Config),this.TargetUrlDetector.Init(this.IframesIO),Q.SetBisId(document,window,this.id),e.SetBisDepth(document.body,X.depth),e.SetBisChainId(document.body,X.chainId),this.InjectJs();let B=setTimeout((()=>{this.onGotActivationMes(),clearTimeout(B)}),50)}onGotActivationMes(){if(!this.activated){this.activated=!0;var X=e.QuerySelectorAll(document,"iframe, frame");if(X.length)for(let B=0;B<X.length;B++){const w=X[B];if(e.SetFullSizeToElement(w,Q.GetAbsoluteCoordinates(this.activationInfo)),e.GenerateAndSetBisIdToFrame(w),e.SetBisDepth(w,this.activationInfo.depth+1),e.SetBisChainId(w,this.activationInfo.chainId),e.IsIframeHasContentScript(X[B]))Q.SendActivationMesToFrame(this.id,this.activationInfo.chainId,w,this.activationInfo.depth+1,this.Config);else{let X=Q.GetInvalidChainSegmentContent(this.id,this.activationInfo.chainId,w,this.activationInfo.depth+1,this.Config);Q.SendInvalidChainSegmentContent(this.id,X)}}this.TargetUrlDetector.DetectTargetUrl(1e3,this.onTargerUrlDetected.bind(this))}}onTargerUrlDetected(){if(!this.contentSenderTimer){let X=e.GetRandomIntInRange(0,200);this.contentSenderTimer=setTimeout(this.SendContent.bind(this),X)}}SendContent(){Q.PrepareContent(this.fullIdStr,document,Q.GetAbsoluteCoordinates(this.activationInfo)),Q.RemoveInjectedJs(this.fullIdStr,document);let X=document.querySelector("html");if(!X)return;let B=X.outerHTML;if(B.length){let X=k.EmptyMessage;X.type=R.MESSAGE_TYPE_IFRAME_CONTENT,X.from=this.id,X.to="bg",X.content={isValid:!0,headerInfo:this.activationInfo.headerInfo,contentFinal:K.encode(B),targetUrl:this.TargetUrlDetector.FrameTargetUrl},e.IsOnChromeRuntime()&&chrome.runtime.sendMessage(X).catch((()=>{}))}}onGotChainActivationResponse(){}onGotContentMes(){}onContentInputsDetected(){this.IframesIO.SendInputsDetected()}onContentRedirectsDetected(){this.IframesIO.SendRedirectDetected()}static SetBisId(X,B,w){B&&(B.bis_id=w),X&&(X.bis_id=w),X.body&&X.body.setAttribute&&X.body.setAttribute("bis_body_id",w)}static RemoveInjectedJs(X,B){try{let X=B.head.querySelectorAll("script[bis_script]");if(X&&X.length)for(let B=0;B<X.length;B++)X[B].remove()}catch(X){}}static GetAbsoluteCoordinates(X){return{x:X.headerInfo.size.abs_x,y:X.headerInfo.size.abs_y}}static PrepareContent(X,B,w){for(var K=e.QuerySelectorAll(B,"*:not(html):not(script):not(head):not(meta):not(link):not(title):not(style):not(param)"),k=0;k<K.length;k++){var R=K[k];if(R)try{var u=!1,A=window.getComputedStyle(R).backgroundImage;if(A&&A.length&&"none"!=A&&A.includes("url")&&(A=A.replace(/"/g,"'"),u=!0),R.hasAttribute("style")){var s=R.getAttribute("style");s&&R.setAttribute&&(s=s.replace(/"/g,"'"),R.setAttribute("style",s),u&&(R.style.cssText+="background-image: "+A+";",R.setAttribute("bis_label","style")))}else u&&R.setAttribute&&(R.setAttribute("style","background-image: "+A+";"),R.setAttribute("bis_label","style"));try{if(R.attributes&&R.attributes.length)for(var U=0;U<R.attributes.length;U++)R.attributes[U]&&R.attributes[U].value&&R.attributes[U].value.length&&"src"!==R.attributes[U].name&&R.attributes[U].value.includes('"')&&(R.attributes[U].value=R.attributes[U].value.replace(/"/g,"'"))}catch(X){}e.SetFullSizeToElement(R,w)}catch(X){}}}static ExtractContent(X,B){return B.document.querySelector("html").outerHTML}static GetFrameHeaderInfo(X,B,w){let e={depth:w,chainId:X,frameId:B.id,src:B.src,size:JSON.parse(B.getAttribute("bis_size")),bisId:B.getAttribute("bis_id")};return 0===w&&(e.topHeaderContent=K.encode(B.outerHTML)),e}static SendActivationMesToFrame(X,B,w,u,A){let U=!1;try{const l=document.querySelector("body"),H=self===top?0:l?+l.getAttribute("bis_frame_id"):null;let y="";if(A&&A.GetConfigEncoded&&(y=A.GetConfigEncoded()),w){let l,p=k.EmptyMessage;try{l=w.contentWindow&&Object.keys(w.contentWindow).includes("origin")?w.contentWindow.origin:w.src}catch(X){l=w.src}p.type=R.MESSAGE_TYPE_CHAIN_ACTIVATION,p.from=X,p.to="fr",p.content={chainId:B,depth:u,headerInfo:Q.GetFrameHeaderInfo(B,w,u),configEncoded:y,targetUrlCandidates:[]};let P=k.EmptyMessage;if(P.type=R.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE,P.from=X,P.to="bg",P.content={chainId:B,depth:u,frameId:H,headerInfo:Q.GetFrameHeaderInfo(B,w,u)},e.IsOnChromeRuntime()&&chrome.runtime.sendMessage(P).catch((()=>{})),e.IsIframeSecure(w)){if(w.contentWindow&&w.contentWindow.postMessage)try{w.contentWindow.postMessage(p,l)}catch(X){}}else{try{let B=s.DetectTargetUrlFromWindowObj(X,w.contentWindow,A);B.length&&(p.content.targetUrlCandidates=B)}catch(X){}w.contentWindow.document.body.setAttribute&&w.contentWindow.document.body.setAttribute("bis_activation",K.encode(JSON.stringify(p)))}U=!0}}catch(X){}return U}static GetInvalidChainSegmentContent(X,B,w,k,R){let u={},A=!1,U=Q.GetFrameHeaderInfo(B,w,k),l={x:U.size.x,y:U.size.y};try{let H=e.QuerySelectorAll(w.contentWindow.document,"iframe, frame");if(0===H.length)A=!0;else{A=!1;for(let w=0;w<H.length;w++)e.SetFullSizeToElement(H[w],l),e.GenerateAndSetBisIdToFrame(H[w]),e.SetBisDepth(H[w],k+1),Q.SendActivationMesToFrame(X,B,H[w],k+1,R)}Q.PrepareContent(X,w.contentWindow.document,l),u.isValid=!1,u.isChainCompleted=A,u.headerInfo=U,u.contentFinal=K.encode(Q.ExtractContent(X,w.contentWindow)),u.targetUrl=s.DetectTargetUrlFromWindowObj(X,w.contentWindow,R)}catch(X){}return u}static SendInvalidChainSegmentContent(X,B){if(B){let w=k.EmptyMessage;w.type=R.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT,w.from=X,w.to="bg",w.content=B,e.IsOnChromeRuntime()&&chrome.runtime.sendMessage(w).catch((()=>{}))}}InjectJs(){if(this.#X())return;let X=document.createElement("script"),B=document.querySelector("head");this.setAttributes(X),B&&B.appendChild(X)}setAttributes(X){const B=e.getURL("../executors/frame.js");X.setAttribute("bis_use","true"),X.setAttribute("bis_script","display"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("bis_id",this.id),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("frame.js")))}}X.exports=Q},4430:(X,B,w)=>{const K=w(8384),e=w(2880),k=w(1568),R=w(9346),u=w(3870),A=w(5364);X.exports=class extends R{constructor(X,B,w,K){super(X),this.Config=B,this.HTML5AdsConfig=this.Config.Html5AdsConfig,this.IOManager=w,this.IOManager.onGotHTML5CandidatesExtractionStatusesCallback=this.onGotHTML5CandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=K,this.topFramesCandidates=[],this.onDetectedCallback=null,this.chainIdCounter=0,this.maxTriesForPreciseAds=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.MAX_TRIES_FIND_ADS}ActivateDetector(){this.Activated(),this.sequentialDetection().catch((()=>{}))}async sequentialDetection(){let X=await this.asyncStartDetectPreciseAds();this.startDetectCandidates(X)}startDetectCandidates(X){X?setInterval(this.startDetectPreciseAds.bind(this),600):setTimeout(this.sequentialDetection.bind(this),500)}startDetectPreciseAds(){this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter();let X=this.detectByQuerySelectors();if(!X.length)return void this.startDetectHTML5AdsCandidates();let B=0;for(let w=0;w<X.length;w++){const K=X[w];K.setAttribute&&(K.setAttribute(k.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(K,!0),this.addRedBorderForCandidates(K),B++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(K))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.startToProcessCandidates(B),this.startDetectHTML5AdsCandidates()}asyncStartDetectPreciseAds(){return new Promise((X=>{this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter(),this.maxTriesForPreciseAds<=0&&(this.maxTriesForPreciseAds--,X(!0));let B=this.detectByQuerySelectors();if(!B.length)return X(!1),void this.maxTriesForPreciseAds--;let w=0;for(let X=0;X<B.length;X++){const K=B[X];K.setAttribute&&(K.setAttribute(k.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(K,!0),this.addRedBorderForCandidates(K),w++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(K))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.maxTriesForPreciseAds--,this.startToProcessCandidates(w),X(B.length>0)}))}detectByQuerySelectors(){const X=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.QUERY_SELECTORS;let B=[];for(let w of X){let X=Array.from(e.QuerySelectorAll(document,`${w}:not([${k.ATTRIBUTE_BIS_PRECISE_AD}]):not([${k.ATTRIBUTE_BIS_SIZE}])`));X.length&&(B=B.concat(...X))}return B}startDetectHTML5AdsCandidates(){let X=e.QuerySelectorAll(document,this.HTML5AdsConfig.QUERIES.IFRAMES_COLLECTION),B=0;if(X.length){for(let w=0;w<X.length;w++){const K=X[w];if(K.getAttribute(k.ATTRIBUTE_BIS_PRECISE_AD))continue;let R=K.src?K.src.toLowerCase():K.src;this.preCheckFrameContent(K)&&(e.IsInFilterList(this.Config.BlacklistIframeSrc,R)||e.IsInFilterList(this.Config.BlacklistIframeId,K.id)?e.SetFullSizeToElement(K):!this.IsFrameFromSite(R)||e.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,R)?(this.buildCandidateObject(K,!1),B+=1,this.addRedBorderForCandidates(K)):e.SetFullSizeToElement(K))}B>0&&this.startToProcessCandidates(B)}}startToProcessCandidates(X){A.SendHtml5CandidatePlacements(this.id,X,null);for(let X=0;X<this.topFramesCandidates.length;X++)this.topFramesCandidates[X].status===k.CANDIDATE_PROCESS_STATUS_DETECTED&&(this.topFramesCandidates[X].status=k.CANDIDATE_PROCESS_STATUS_START_PROCESSING,setTimeout((()=>{this.ActivateCandidateProcessing(this.topFramesCandidates[X])}),3e3+e.GetRandomIntInRange(0,500)))}buildCandidateObject(X,B){let w=X.getBoundingClientRect();if(!B&&w.width<=70&&w.height<=40&&w.height>=1100)return;e.SetFullSizeToElement(X);let K=e.GenerateAndSetBisIdToFrame(X);this.chainIdCounter=this.chainIdCounter+1;let R={ticketId:this.TicketId,pageUrl:this.PageUrl,bisId:K,chainId:this.chainIdCounter,detectionTime:(new Date).getTime(),processingStartTime:null,frame:X,isSecure:e.IsIframeSecure(X),hasContentScript:e.IsIframeHasContentScript(X),status:k.CANDIDATE_PROCESS_STATUS_DETECTED};this.topFramesCandidates.push(R),e.SetBisDepth(X,0),e.SetBisChainId(X,this.chainIdCounter)}preCheckFrameContent(X){if(!X.contentDocument)return!0;const B=X.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.ACCEPTABLE_NODES_IN_IFRAME),w=X.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.UNACCEPTABLE_NODES_IN_IFRAME);let K=!1;return B.length&&!w.length&&(K=!0),K}onGotHTML5CandidatesExtractionStatuses(X){if(X&&X.length)for(let B=0;B<X.length;B++)if(this.AdBlockerAgent.IsEnabled()&&X[B].extractionStatus.filteredOut)this.UnhideElement(e.QuerySelector(document,`iframe[bis_chainid="${X[B].chainId}"]`));else if(K._X&&K.tX){let w=e.QuerySelector(document,`iframe[bis_chainid="${X[B].chainId}"]`);w&&e.UpdateCandidateStatusBorderColor(w,X[B].extractionStatus)}}ActivateCandidateProcessing(X){if(X&&X.status&&X.status===k.CANDIDATE_PROCESS_STATUS_START_PROCESSING){X.processingStartTime=(new Date).getTime(),X.status=k.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED;let B=e.IsIframeSecure(X.frame);X.isSecure!==B&&(X.isSecure=B);let w=e.IsIframeHasContentScript(X.frame);if(X.hasContentScript!==w&&(X.hasContentScript=w),X.hasContentScript)u.SendActivationMesToFrame(this.id,X.chainId,X.frame,0,this.Config);else{let B=u.GetInvalidChainSegmentContent(this.id,X.chainId,X.frame,0,this.Config);if(K._X&&K.tX&&B.isChainCompleted){let w={fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1};B.contentFinal&&B.contentFinal.length&&(w.fullContentExtracted=!0),B.targetUrl&&B.targetUrl.length&&(w.targetUrlExtracted=!0),e.UpdateCandidateStatusBorderColor(X.frame,w)}u.SendInvalidChainSegmentContent(this.id,B)}}}GetPrebuildInfo(){let X=[],B=(new Date).getTime();for(let w=0;w<this.topFramesCandidates.length;w++)this.topFramesCandidates[w].status===k.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED&&(this.topFramesCandidates[w].status=k.CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT,X.push({ticketId:this.topFramesCandidates[w].ticketId,pageUrl:this.topFramesCandidates[w].pageUrl,bisId:this.topFramesCandidates[w].bisId,chainId:this.topFramesCandidates[w].chainId,timeAfterDetection:B-this.topFramesCandidates[w].detectionTime,timeAfterProcessingStart:B-this.topFramesCandidates[w].processingStartTime}));return X}IsFrameFromSite(X){let B=!1,w=X;if(w.length){let K=w.indexOf("?");K>0?w=X.substring(0,K):(K=w.indexOf("#"),K>0&&(w=X.substring(0,K))),-1!==w.indexOf(window.location.host)?B=!0:e.isValidUrl(w)||"about:blank"===w||(B=!0)}return B}}},4503:(X,B,w)=>{const K=w(6882),e=w(1568),k=w(2880),R=w(9358),u=w(1104);X.exports=class{constructor(X){this.id=X,this.init=!1,this.AtrMessageListeners=[],this.webNavigationIframes=[],this.chainActivationListernerIntervalId=null,this.onWindowEmbeddedTargetUrlDetectionCallback=null,this.onGotContentMesCallback=null,this.onGotChainActivationCallback=null,this.onGotVideoXHRTrafficCallback=null,this.chainActivationEventProcessed=!1,this.processedMessages=[]}IsInit(){return this.init}get Context(){return this}SetId(X){this.id=X,this.AtrMessageListener&&this.AtrMessageListener.SetId(X)}Init(){this.init||(this.init=!0,window.addEventListener("message",(X=>{try{var B=X.data;this.ProcessWindowMessage(B)}catch(X){}}),!1),k.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((X=>{var B=X;K.IsValid(B)&&(B.type===e.MESSAGE_TYPE_GET_FRAME_CONTENT?B.multiTo.includes(this.id)&&(this.webNavigationIframes=B.content,this.onGotContentMesCallback&&this.onGotContentMesCallback()):B.type===e.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK&&B.multiTo.includes(this.id)&&this.ActivateWindowClickTargetUrlDetection(B.content))})),this.chainActivationListernerIntervalId=setInterval((()=>{try{if(!this.chainActivationEventProcessed&&document&&document.body){let X=document.body.getAttribute("bis_activation");if(X&&X.length){let B=R.decode(X);if("{"===B[0]&&"}"===B[B.length-1]){let X=JSON.parse(B);K.IsValid(X)&&X.type===e.MESSAGE_TYPE_CHAIN_ACTIVATION&&(this.chainActivationEventProcessed=!0,clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null,document.body.setAttribute("bis_activation","done"),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(X.content))}}document.body.removeAttribute("bis_activation")}}catch(X){}}),500))}ProcessWindowMessage(X){K.IsValid(X)&&X.posdHash&&!this.processedMessages.includes(X.posdHash)&&(X.posdHash&&X.posdHash.length&&this.processedMessages.push(X.posdHash),X.type===e.MESSAGE_TYPE_CHAIN_ACTIVATION?(this.chainActivationListernerIntervalId&&(clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(X.content)):X.type===e.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND?this.onWindowEmbeddedTargetUrlDetectionCallback&&this.onWindowEmbeddedTargetUrlDetectionCallback(X.content.targetUrlList):X.type===e.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND?(X.to="bg",k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(X).catch((()=>{}))):X.type===e.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE&&this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(X.content))}ActivateWindowEmbeddedTargetUrlDetection(X){try{this.onWindowEmbeddedTargetUrlDetectionCallback=X;let w=K.EmptyMessage;w.type=e.MESSAGE_TYPE_GET_WINDOW_TARGET_URL,w.from=this.id,w.to=this.id+"_w",window.postMessage&&window.postMessage(w,"*");var B=new u(this.id,this.ProcessWindowMessage.bind(this));B.ActivateMesToFrameContentListener(e.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND),this.AtrMessageListeners.push(B)}catch(X){}}ActivateWindowClickTargetUrlDetection(X){try{let w=K.EmptyMessage;w.type=e.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL,w.from=this.id,w.to=this.id+"_w",w.content=X,window.postMessage&&window.postMessage(w,"*");var B=new u(this.id,this.ProcessWindowMessage.bind(this));B.ActivateMesToFrameContentListener(e.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL),this.AtrMessageListeners.push(B)}catch(X){}}SendInputsDetected(){let X=K.EmptyMessage;X.type=e.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS,X.from=this.id,X.to="bg",k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(X).catch((()=>{}))}SendRedirectDetected(){let X=K.EmptyMessage;X.type=e.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS,X.from=this.id,X.to="bg",k.IsOnChromeRuntime()&&chrome.runtime.sendMessage(X).catch((()=>{}))}}},3129:(X,B,w)=>{const K=w(2880),e=w(1568),k=w(7584),R=w(1153),u=w(5364),A=w(3522),s=w(3326),U=w(1245),l=w(7376);X.exports=class{constructor(){this.id=null,this.tabId=null,this.init=!1,this.panalyticsId="",this.adsCandidatesDetectionInterval=null,this.ticket=null,this.cycleNumber=0,this.RefreshTicket(),u.SendNewPageCreatedTicket(K.ToJSON(this.ticket))}RefreshTicket(){this.pageUrl=document.location.href,this.ticketId=K.GenerateUUID(),this.cycleNumber=0,this.ticket=k.GetSingleOutTicket(this.panalyticsId,this.ticketId,this.tabId),this.init&&this.AdsManager&&this.AdsManager.PageRefreshed(this.pageUrl,this.ticketId)}Init(){this.init||u.SendInitMes({ticketId:this.ticketId,url:this.pageUrl},this.onGetInitConfig.bind(this))}onGetInitConfig(X){return X.activeStatus?this.init?null:(this.init=!0,this.tabId=X.tabId,this.id="mp_"+X.tabId,this.panalyticsId=X.panalyticsId,this.ticket.tabId=this.tabId,this.ticket[e.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.Config=new U(this.id,X.configuration),this.IOManager=new u(this.id,this.Config),this.IOManager.onTabUrlChanged=this.onTabUrlChanged.bind(this),this.IOManager.manualSendTicket=this.prepareAndSendTicket.bind(this),this.IOManager.Init(),this.AdBlockerAgent=new A(this.id,this.IOManager),this.AdBlockerAgent.Init(X.adBlockerStatus,X.excludeList,X.tabId),this.AdsManager=new R(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.PanelsRegulator=new l(this.id),this.PanelsRegulator.Init(this.AdBlockerAgent,this.onGotRegulatorRespond.bind(this)),void(X.activeAdBlockInspectorAgent&&(this.AdBlockInspectorAgent=new s(this.id),this.AdBlockInspectorAgent.Init(this.Config.GetAdBlockInspectorConfig())))):null}onGotRegulatorRespond(X){return!!this.init&&(!!X&&(this.adsCandidatesDetectionInterval=setInterval(this.onAdsCandidatesDetected.bind(this),1e4),this.AdsManager.ActivateAdsdetectors(),u.SendNewPageCreatedTicket(K.ToJSON(this.ticket)),void u.SendPanelRegulatorResult(X)))}onTabUrlChanged(X){return!(!X?.newUrl||!X?.initedTicketId)&&((X.newUrl!==this.pageUrl||X.initedTicketId===this.ticketId)&&(this.RefreshTicket(),u.SendSinglePageReinitMes({ticketId:this.ticketId,url:this.pageUrl}),void u.SendNewPageCreatedTicket(K.ToJSON(this.ticket))))}onAdsCandidatesDetected(){return!!this.init&&(K.IsOnChromeRuntime()?!!this.panalyticsId.length&&void this.prepareAndSendTicket():(this.adsCandidatesDetectionInterval&&clearInterval(this.adsCandidatesDetectionInterval),!1))}prepareAndSendTicket(){this.cycleNumber=this.cycleNumber+1,this.ticket[e.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.ticket.windowSize=K.GetWindowSize(),this.ticket.firstVisit=this.cycleNumber<=1,this.ticket.adCandidatesHtml5=this.AdsManager.GetHtml5CandidatesPrebuildInfo(),this.IOManager.SendTicket(K.ToJSON(this.ticket))}}},7376:(X,B,w)=>{const K=w(8384),e=w(1568),k=w(2880),R=w(9358);X.exports=class{constructor(X){this.id=X,this.init=!1,this.extensionId=""+chrome.runtime.id,this.AdBlockerAgent=null,this.onInitCallback=null}Init(X,B){!this.init&&X&&(this.onInitCallback=B,this.init=!0,this.AdBlockerAgent=X,document.readyState===e.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.ActivateRegulator.bind(this)):document.readyState!==e.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==e.DOCUMENT_READYSTATE_COMPLETE||this.ActivateRegulator())}ActivateRegulator(){this.RegisterPanel(),setTimeout(this.Regulate.bind(this),500)}Regulate(){let X=!0,B="",w=[];try{let K=document.body.getAttribute("bis_register");if(K&&K.length){w=JSON.parse(R.decode(K));for(let X=0;X<w.length&&0===B.length;X++)w[X].master&&(B=w[X].extensionId);B.length&&this.extensionId!==B&&(X=!1)}}catch(X){}this.onInitCallback&&this.onInitCallback(X)}GetPanelScore(){let X=K.rX.split("."),B=1e4*parseInt(X[0])+100*parseInt(X[1])+parseInt(X[2]),w=this.AdBlockerAgent.GetStatus();return k.IsFacebookUrl(document.location.href)?w[e.ADBLOCKER_FOR_FACEBOOK]===e.ADBLOCKER_STATUS_ENABLED&&(B*=10):k.IsTwitterUrl(document.location.href)?w[e.ADBLOCKER_FOR_TWITTER]===e.ADBLOCKER_STATUS_ENABLED&&(B*=10):k.IsRedditUrl(document.location.href)?w[e.ADBLOCKER_FOR_REDDIT]===e.ADBLOCKER_STATUS_ENABLED&&(B*=10):w[e.ADBLOCKER_FOR_DISPLAY]===e.ADBLOCKER_STATUS_ENABLED&&(B*=10),B}UpdateRegister(X){let B={master:!0,extensionId:this.extensionId,adblockerStatus:this.AdBlockerAgent.GetStatus(),version:K.rX,score:this.GetPanelScore()},w=!0;for(let K=0;K<X.length&&w;K++)X[K].extensionId===this.extensionId&&(w=!1,X[K]=B);w&&X.push(B)}ChooseWinner(X){if(X&&X.length)if(1===X.length);else{let B=0,w=X[B].score;for(let K=0;K<X.length;K++)X[K].master=!1,X[K].score>w&&(w=X[K].score,B=K);X[B].master=!0}}RegisterPanel(){try{let X=[],B=document.body.getAttribute("bis_register");B&&B.length&&(X=JSON.parse(R.decode(B))),this.UpdateRegister(X),this.ChooseWinner(X),document.body.setAttribute("bis_register",R.encode(JSON.stringify(X)))}catch(X){}}}},7235:(X,B,w)=>{const K=w(2880),e=w(8384),k=w(9346),R=w(5364),u=w(1568);X.exports=class extends k{constructor(X,B,w,K){super(X),this.Config=B,this.skinAdsConfig=B.config.skinAdsConfig,this.IOManager=w,this.IOManager.onGotSkinAdCandidatesExtractionStatusesCallback=this.onGotSkinAdCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=K}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),500),setInterval((()=>{this.DetectCandidates()}),1e3)}SendCandidatesToBackground(){this.Candidates.length&&R.SendAdCandidates(this.id,this.Candidates,u.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS,null)}DetectCandidates(){this.ClearCandidates(),this.GetSkinAdFromBodyBackground(),0==this.CandidatesCount&&this.GetSkinAdFromDivBackground(),this.SendCandidatesToBackground()}GetSkinAdFromBodyBackground(){var X,B={source:[],targetUrl:[]},w=document.body;if(w&&!w.hasAttribute("bis_skin_checked")&&(X=K.GetUrlFromStyleStr(window.getComputedStyle(w).backgroundImage)),X&&K.isValidUrl(X)){w.setAttribute("bis_skin_checked","1");var e={type:"single",src:X,size:K.GetFullElementSize(w)};B.source.push(e);for(var k=K.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION),R=0;R<k.length;R++){var u=k[R];u.setAttribute&&u.setAttribute("bis_skin_checked","1");var A=u.getBoundingClientRect(),s=u.firstElementChild?u.firstElementChild.getBoundingClientRect():null;u.href&&(A.width>50&&A.height>=100&&0==A.left||s&&s.width>50&&s.height>=100&&0==s.left)&&K.isValidUrl(u.href)&&!B.targetUrl.includes(u.href)&&B.targetUrl.push(u.href),this.findElementsByHref(B.targetUrl,u)}}B.source.length&&B.targetUrl.length&&this.AddCandidate(B)}GetSkinAdFromDivBackground(){let X={source:[],targetUrl:[]},B=!1,w=K.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_DIV_COLLECTION);for(let e=0;e<w.length&&!B;e++){let k=w[e];k.setAttribute&&k.setAttribute("bis_skin_checked","1");let R=k.getBoundingClientRect();if(R.width>50&&R.height>500&&0==R.left){let w=K.GetUrlFromStyleStr(window.getComputedStyle(k).backgroundImage);if(w&&K.isValidUrl(w)){let e={type:"single",src:w,size:K.GetFullElementSize(k)};X.source.push(e),B=!0}}}if(B){let B=K.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION);for(let w=0;w<B.length;w++){let e=B[w];e.setAttribute&&e.setAttribute("bis_skin_checked","1");let k=e.getBoundingClientRect();e.href&&0==k.left&&(k.width>50&&k.height>500||k.width>500&&k.height>50)&&K.isValidUrl(e.href)&&!X.targetUrl.includes(e.href)&&X.targetUrl.push(e.href)}}X.source.length&&X.targetUrl.length&&this.AddCandidate(X)}findElementsByHref(X,B){const w=B.href;X.includes(w)&&(this.SetBorderToCandidate(B),B.setAttribute("bis_skin_element","1"))}SetBorderToCandidate(X){const B=X.getBoundingClientRect();X&&(B.width>1&&B.height>1?X.style.cssText+="border: 6px solid red !important; display: block;":X.firstElementChild.style.cssText+="border: 6px solid red !important; display: block;")}onGotSkinAdCandidatesExtractionStatuses(X){if(e._X&&e.tX&&X&&X.length)for(let B=0;B<X.length;B++){let w=K.QuerySelectorAll(document,X[B].query);w&&w.forEach((w=>{w&&K.UpdateCandidateStatusBorderColor(w,X[B].extractionStatus)}))}}}},7584:(X,B,w)=>{const K=w(8384),e=w(2880),k=w(1568);X.exports=class{static GetSingleOutTicket(X,B,w){let R={tabId:w,ticketFormatVersion:3,partnerId:K.PX,distributorId:K.mX,ticketId:B,firstVisit:!1,url:document.location.href,userAgent:navigator.userAgent,creationTime:e.GetCurrentDataTimeStr(),windowSize:e.GetWindowSize(),timeOnPage:0,adCandidatesSkinAd:[],adCandidatesBanner:[],adCandidatesHtml5:[],adsFacebook:[],adsTwitter:[],adsReddit:[],adsPinterest:[],adsInstagram:[],adsLinkedin:[],adsTiktok:[],adCandidatePlacements:{skinAd:0,banner:0,html5:0,facebook:0,twitter:0,reddit:0,pinterest:0,tiktok:0,instagram:0,linkedin:0},videoTraffics:[],activeAdBlocker:!1};R[k.TICKET_ALIAS_PANALYTICSID]=X,R[k.TICKET_ALIAS_PINSTANCEID]=K.pX;let u=e.GetBaseHref();""!==u&&(R.base=u);let A=chrome.runtime.getManifest();return R.extensionVersion=A.version,R.panelosVersion=K.rX,R}}},855:(X,B,w)=>{const K=w(1568),e=w(9358),k=w(2880),R=w(1936),u=w(2938),A=w(8940),s=w(5364);X.exports=class{constructor(X,B,w){this.id=X,this.Config=B,this.IOManager=w,this.onDetectVideoHarCallback=null,this.VideoTrafficValidator=new A(this.id,this.Config),this.VideoTrafficDetector=new u(this.id),this.VideoTrafficDetector.InjectXhrDetector(this.Config),this.IOManager.onGotVideoXHRTrafficCallback=this.ProcessVideoXHRTraffic.bind(this)}ActivateDetector(){this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS()}PageRefreshed(X,B){k.IsYouTubeUrl(X)||(this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS())}CheckVideoTrafficInHTML(){let X=new R(K.VIDEO_TRAFFIC_SOURCE_HTML,"GET",window.location.href,"text/html",document.documentElement.outerHTML),B=this.VideoTrafficValidator.Validate(X);B&&this.SendVideoTraffic(X,B)}CheckVideoTrafficInJS(){let X=k.QuerySelectorAll(document,"script");for(let B=0;B<X.length;B++){let w=new R(K.VIDEO_TRAFFIC_SOURCE_JS,"GET",X[B].src,"text/javascript",X[B].innerHTML),e=this.VideoTrafficValidator.Validate(w);e&&this.SendVideoTraffic(w,e)}}ProcessVideoXHRTraffic(X){if(R.IsXHRvalid(X)){let B=new R(K.VIDEO_TRAFFIC_SOURCE_XHR,X.requestMethod,X.url,X.type,X.content,X.encodedPostBody),w=this.VideoTrafficValidator.Validate(B);w&&this.SendVideoTraffic(B,w)}}SendVideoTraffic(X,B){if(X&&B){let w={requestMethod:X.GetRequestMethod(),url:X.GetUrl(),contentType:X.GetType(),mediaType:B.name,alias:B.alias};if(X.IsEncodedPostBodyExist()&&(w.encodedPostBody=X.GetEncodedPostBody()),B.reduceSizeFilter&&B.reduceSizeFilter.active){let K;if(null!==(K=A.CreateRegExp(B.reduceSizeFilter.reducePattern).exec(X.GetContent()))&&K.length>0&&Math.max(...B.reduceSizeFilter.regResIndexes)<K.length){let X=K.filter(((X,w)=>B.reduceSizeFilter.regResIndexes.includes(w)));w.encodedText=e.encode(X.join(" "))}}else w.encodedText=e.encode(X.GetContent());s.SendVideoHar(this.id,w)}}}},1936:(X,B,w)=>{const K=w(9358);X.exports=class{constructor(X,B,w,K,e,k=null){this.trafficSource=X,this.requestMethod=B,this.url=w,this.type=K,this.content=e,this.SetEncodedPostBody(k)}static IsXHRvalid(X){return X&&X.hasOwnProperty("requestMethod")&&X.hasOwnProperty("url")&&""!==X.url}SetEncodedPostBody(X){X&&"string"==typeof X&&X.length>0&&(this.encodedPostBody=K.encode(X))}GetEncodedPostBody(){return this.encodedPostBody?this.encodedPostBody:null}IsEncodedPostBodyExist(){return!!this.encodedPostBody}GetTrafficSource(){return this.trafficSource}GetRequestMethod(){return this.requestMethod}GetUrl(){return this.url}GetType(){return this.type}GetContent(){return this.content}SetContent(X){this.content=X}SetUrl(X){this.url=X}}},2938:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X){this.id=X}InjectXhrDetector(X){if(!this.#X()&&document.head){let B=document.createElement("script");this.setAttributes(B,X),document.head.appendChild(B)}}setAttributes(X,B){const w=K.getURL("../executors/traffic.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("data-bis-config",JSON.stringify(B.config.filterLists.blacklistIframeSrc)),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=w}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("traffic.js")))}}},8940:(X,B,w)=>{const K=w(1568);class e{constructor(X,B){this.id=X,this.Config=B}Validate(X){let B=[],w=!1;if(X&&(X.GetTrafficSource()===K.VIDEO_TRAFFIC_SOURCE_HTML?(B=this.Config.GetVideoValidatorsForHTML(),w=!0):X.GetTrafficSource()===K.VIDEO_TRAFFIC_SOURCE_XHR?(B=this.Config.GetVideoValidatorsForXHR(),w=!0):X.GetTrafficSource()===K.VIDEO_TRAFFIC_SOURCE_JS&&(B=this.Config.GetVideoValidatorsForJS(),w=!0),w))for(let w of B){if(this.ValidateUseConfiguration(X,w))return this.specificFilterCandidate(X,w)}return!1}ValidateUseConfiguration(X,B){const w=Object.keys(B);let K=[];for(let X of w)-1!==X.indexOf("Pattern")&&K.push(X);let k=0,R={domainPattern:"GetUrl",mimePattern:"GetType",contentPattern:"GetContent"};for(let w of K)try{let K=e.CreateRegExp(B[w]),u=R[w];k+=K.test(X[u]())?1:0}catch(X){}return k===K.length}static CreateRegExp(X){let B=X.replace(/.*\/([gimy]*)$/,"$1"),w=X.replace(new RegExp("^/(.*?)/"+B+"$"),"$1");return new RegExp(w,B)}specificFilterCandidate(X,B){return!(!X.IsEncodedPostBodyExist()&&"YT_FORCING_KEY"===B.alias)&&B}}X.exports=e},655:(X,B,w)=>{const K=w(2880),e=w(1568);X.exports=class{constructor(X,B,w){this.id=X,this.options=B,this.AdBlockerAgent=w,this.active=!1,this.lastDetectTime=K.GetCurrentTimestampMs()-1e3,this.activateDetectorTime=K.GetCurrentTimestampMs(),this.detectorInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.isObserverAlreadySet=!1,this.onScrollListenerHandler=null,this.onScrollListenerIsOn=!1,this.onScrollCallback=null}ActualizeDetector(){}ActivateMutationObserver(){}DeactivateMutationObserver(){}Detector(){}HideAd(X,B,w){}CheckIfAd(X){}CheckIfAdRendered(X){}ExtractAd(X){}ActivateDetector(){this.active||(this.activateDetectorTime=K.GetCurrentTimestampMs(),this.active=!0,this.options.firstDetectionAfterActivationTimeoutMs&&this.options.firstDetectionAfterActivationTimeoutMs>0&&setTimeout((()=>{this.DetectCandidates(e.AD_DETECTOR_INITIATOR_ACTIVATION)}),this.options.firstDetectionAfterActivationTimeoutMs),this.startIntervalDetectCandidates(e.AD_DETECTOR_INITIATOR_TIMER),this.options.useObserver&&this.IsActualByKeyWordInUrl&&(this.observerNodesListenerInterval=setInterval((()=>{this.observerNodesChecksAmount=this.observerNodesChecksAmount+1,this.ActivateMutationObserver(),(this.isObserverAlreadySet||this.observerNodesChecksAmount>this.options.observerNodesChecksMaxAmount)&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.activateOnScrollEvent())}),this.options.observerNodesCheckIntervalMs)))}DeactivateDetector(X){X===e.AD_DETECTOR_INITIATOR_URL&&(this.DeactivateMutationObserver(),(this.onScrollCallback||this.onScrollListenerIsOn)&&(window.removeEventListener("scroll",this.onScrollCallback),this.onScrollCallback=null,this.onScrollListenerIsOn=!1,this.onScrollListenerHandler&&(clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null))),this.detectorInterval&&(clearInterval(this.detectorInterval),this.detectorInterval=null),this.observerNodesListenerInterval&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0),this.activateDetectorTime=K.GetCurrentTimestampMs(),this.lastDetectTime=K.GetCurrentTimestampMs()-1e3,this.active=!1}DetectCandidates(X,B){if(!this.ActualizeDetector()||!this.IsActualByKeyWordInUrl)return void this.checkLimits(X);let w=K.GetCurrentTimestampMs();K.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs?(this.checkLimits(X),B&&this.startIntervalDetectCandidates(X)):w-this.lastDetectTime>this.options.minTimeAfterLastDetectionMs&&(this.lastDetectTime=w,this.Detector())}get IsActualByKeyWordInUrl(){const X=this.options.urlInvalidKeyWord,B=this.options.urlValidationByKeyWord;if(!X&&!B)return!0;const w=window.location.href;let K=!!X&&X.some((X=>w.includes(X))),e=!B||w.includes(B);return!K&&e}checkLimits(X){return!this.options.maxActualizeDetectorWaitTimeMs||(!(K.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs)||(this.DeactivateDetector(X),!1))}activateOnScrollEvent(){this.options.useOnScroll&&!this.onScrollListenerIsOn&&this.IsActualByKeyWordInUrl&&this.ActualizeDetector()&&(this.onScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0)}onScroll(X){this.DetectCandidates(e.AD_DETECTOR_INITIATOR_SCROLL_EVENT),this.startIntervalDetectCandidates(e.AD_DETECTOR_INITIATOR_SCROLL_EVENT),window.removeEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!1,this.onScrollListenerHandler=setTimeout((()=>{window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0,clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null}),this.options.onScrollTimeout)}startIntervalDetectCandidates(X){this.detectorInterval||(this.detectorInterval=setInterval((()=>{this.DetectCandidates(X)}),this.options.detectionIntervalMs))}}},97:(X,B,w)=>{const K=w(8384),e=w(2880),k=w(9358),R=w(1568),u=w(9346),A=w(5364),s=w(7678),U=w(6335),l=w(7948),Q=w(1899),H=w(2300),y=w(1454);X.exports=class extends u{constructor(X,B,w){super(X),this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.fbConfig=B.FacebookConfig,this.AdBlockerAgent=w,this.VideoTrafficDetector=new y(this.id),this.VideoTrafficDetector.InjectDetector()}onPageUrlChanged(X,B){this.available&&setTimeout((()=>{this.DeactivateDetectors(R.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetector(X){X===R.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.fbContent=document.querySelector(this.fbConfig.FB_CONTENT),this.fbContent&&(this.DetectorFeed=new U(this.id,this.fbConfig.FEED_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorFeed.HideAd=this.HideAd.bind(this),this.DetectorFeed.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorFeed.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorRightColumn=new Q(this.id,this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorRightColumn.HideAd=this.HideAd.bind(this),this.DetectorRightColumn.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorRightColumn.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorWatch=new l(this.id,this.fbConfig.FEED_WATCH_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorWatch.HideAd=this.HideAd.bind(this),this.DetectorWatch.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorWatch.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorMarketplace=new H(this.id,this.fbConfig.MARKETPLACE_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorMarketplace.HideAd=this.HideAd.bind(this),this.DetectorMarketplace.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorMarketplace.ExtractAd=this.ProcessFbCreative.bind(this),this.ActivateDetectors())}ActivateDetectors(){this.DetectorRightColumn.ActivateDetector(),this.DetectorFeed.ActivateDetector(),this.DetectorWatch.ActivateDetector(),this.DetectorMarketplace.ActivateDetector()}DeactivateDetectors(X){this.DetectorRightColumn.DeactivateDetector(X),this.DetectorFeed.DeactivateDetector(X),this.DetectorWatch.DeactivateDetector(X),this.DetectorMarketplace.DeactivateDetector(X)}ProcessFbCreative(X,B,w){try{let k=!1,u=!1,U=!1;if(X){let l=document.querySelector(`[${R.ATTRIBUTE_BIS_ID}=${X}]`);if(l)if(k=!0,u=this.IsAdContentRendered(l,s.GetMinImgsSpacePercentag(this.fbConfig,w)),u){U=this.IsVideoCreative(l),A.SendCandidatePlacementsCount(this.id,1,R.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK,null);let X={x:0,y:0};if(s.IsPostHidden(l)){l.setAttribute(R.ATTRIBUTE_BIS_SIZE,e.ToJSON(s.GetPostContainerSize(l)));let B=l.getAttribute(R.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);B&&(X.x=parseInt(B))}else e.SetFullSizeToElement(l);let k=l.querySelectorAll("*");for(let B=0;B<k.length;B++)e.SetFullSizeToElement(k[B],null,X);let u=[];u.push(this.BuildCreative(l,U,B,w)),this.SendFacebookCandidates(u),K._X&&K.tX&&(this.IsVideoCreative(l)?l.style.cssText+=R.STYLES_OUTLINE_VIDEO_AD:l.style.cssText+=R.STYLES_OUTLINE_SUCCESS_DETECT)}else l.removeAttribute&&l.removeAttribute(R.ATTRIBUTE_BIS_ID)}}catch(X){}}BuildCreative(X,B,w,K){let e=s.GetPostContainerSize(X),u=Array.from(document.querySelectorAll("link")),A=Array.from(document.querySelector("head").querySelectorAll("style[nonce]")),U=u.concat(A),l='<html><head><meta charset="utf-8">';for(let X of U)l+=X.outerHTML;if(l+=`</head><body style='position:absolute; top:0px; left:0px; width:${e.w}px; height:${e.h}px;'>${X.outerHTML}</body></html>`,this.AdBlockerAgent.IsEnabledForFacebook()&&w?.length&&l.includes(w)){let X="";l=l.replace(w,X)}let Q="",H=!1;this.fbConfig.ABOUT_SECTION_CONFIG&&this.fbConfig.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(H=!0),this.fbConfig&&H&&(this.DetectorFeed&&K===R.FACEBOOK_AD_PLACEMENT_TYPE_FEED?Q=this.DetectorFeed.GetAboutPageLink(X):this.DetectorWatch&&K===R.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH&&(Q=this.DetectorWatch.GetAboutPageLink(X)));let y={content:k.encode(l),adPlacementType:K,designVersion:R.FACEBOOK_DESIGN_VERSION_NEW,aboutPageLink:Q,aboutSectionContent:"",size:e};return B&&(y.videoData={videoId:"",videoUrl:"",audioUrl:""}),X.setAttribute(R.ATTRIBUTE_BIS_STATUS,"extracted"),y}HideAd(X,B,w){let K="";return X&&B&&X&&X.style&&(K=`position: absolute !important; width: ${B.w}px; overflow: hidden; height: 0px;`,s.IsPostHidden(X)||(X.style.cssText+=K,X.setAttribute(R.ATTRIBUTE_BIS_HIDE_HEIGHT,B.h),X.setAttribute(R.ATTRIBUTE_BIS_HIDE_WIDTH,B.w),X.setAttribute(R.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"))),X.style.cssText}IsAdContentRendered(X,B){let w=s.GetPostContainerSize(X);if(e.GetImagesSpacePercentage(this.fbConfig.TAGS_FOR_LOADING_CHECK,X,w).some((X=>X>=B)))return!0;let K=X.querySelector(`a[${R.ATTRIBUTE_BIS_LABEL}]`);return K&&K.removeAttribute(R.ATTRIBUTE_BIS_LABEL),!1}IsVideoCreative(X){return 0!==X.querySelectorAll("video").length}AddNeededStylesForElement(X,B){try{if(B.w<=3&&B.h<=3&&("SPAN"===X.nodeName||"DIV"===X.nodeName)){let B=X.getAttribute("class");if(B&&B.includes("accessible_elem")){let B=getComputedStyle(X);X.setAttribute(R.ATTRIBUTE_BIS_STYLE,`clip:${B.getPropertyValue("clip")}; height:${B.getPropertyValue("height")}; overflow:${B.getPropertyValue("overflow")}; position:${B.getPropertyValue("position")}; white-space:${B.getPropertyValue("white-space")}; width:${B.getPropertyValue("width")};`)}}}catch(X){}}LoadAboutPageAndSendCandidates(X){if(X&&X.length){let B=X[0].aboutPageLink;B&&B.length?fetch(B,{headers:this.fbConfig.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then((B=>{try{if(200===B.status)return B.text();this.SendFacebookCandidates(X)}catch(X){}})).then((B=>{let w="",K=B.split(/\r?\n/);if(K.length)for(let X=0;X<K.length;X++){!new RegExp(this.fbConfig.ABOUT_SECTION_CONFIG.CONTENT_CHECK_STRING).test(K[X])||w.includes("delegate_page_id")&&w.includes("about_app_sections")||(w+=K[X])}X[0].aboutSectionContent=k.encode(w),this.SendFacebookCandidates(X)})).catch((()=>{this.SendFacebookCandidates(X)})):this.SendFacebookCandidates(X)}}SendFacebookCandidates(X){A.SendAdCandidates(this.id,X,R.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK,null),this.AdBlockerAgent.IsEnabledForFacebook()&&this.AdBlockerAgent.SetHiddenAmount(X.length)}}},7678:(X,B,w)=>{const K=w(1568),e=w(2880);class k{static GetVisibleText(X){let B=X.querySelectorAll(":scope > *");if(0!==B.length)return Array.prototype.slice.call(B).map(k.GetVisibleText).flat();if("none"!==getComputedStyle(X).display){let B=X.innerText;try{if(0===B.length&&X.getAttribute){let w=X.getAttribute("data-content");w&&w.length&&(B=w)}}catch(X){}return B}return""}static GetVisibleSpansText(X,B,w=[]){if(X.hasAttribute&&X.hasAttribute("bis_sponsor_checked")&&3==X.getAttribute("bis_sponsor_checked"))return"";let K=X.querySelectorAll(B),e="",k=parseInt(X.getAttribute("bis_sponsor_checked"))||0;return K.forEach((X=>{const B=getComputedStyle(X);if("none"!==B.display&&"absolute"!==B.position)try{let B=Array.from(X.childNodes).filter((X=>3===X.nodeType)).map((X=>X.nodeValue.trim())).reduce(((X,B)=>X+B),"");if(0===B.length&&X.getAttribute){let w=X.getAttribute("data-content");w&&w.length&&(B=w)}e+=B}catch(X){}})),X.setAttribute("bis_sponsor_checked",parseInt(k)+1),e&&w.length&&!w.includes(e)&&(e=this.checkLettersOfAlly(e,w)),e}static checkLettersOfAlly(X,B){const w=X.split(""),K=w.length-1,e=B.length;let k=1,R=!1,u=0,A="";for(;!R&&k<=e;){const e=B[k-1],s=w[u];-1!==e.indexOf(s)&&e.length===w.length?K!==u?u+=1:K===u&&X.length===e.length?(R=!0,A=e):(k+=1,u=0):(k+=1,u=0)}return A}static HideSateliteSponsoredString(X,B){try{B&&B.forEach((B=>{if(B.innerText){let w=B.innerText;X.SPONSORED_TEXTS.some((X=>-1!==w.indexOf(X)))&&(B.style="display:none")}}))}catch(X){}}static GetMinImgsSpacePercentag(X,B){return B===K.FACEBOOK_AD_PLACEMENT_TYPE_FEED?X.FEED_PAGE.MIN_IMGS_SPACE_PERCENTAGE:B===K.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?X.MARKETPLACE_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:B===K.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN?X.RIGHT_COLUMN_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:B===K.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH?X.FEED_WATCH_PAGE.MIN_IMGS_SPACE_PERCENTAGE:0}static IsInitiallyRendered(X,B){return!!k.IsPostHidden(X)||B.w>0&&B.h>10}static IsPostHidden(X){return"hidden"===X.getAttribute(K.ATTRIBUTE_BIS_HIDE_STATUS)}static GetPostContainerSize(X){let B=e.GetFullElementSize(X);if(k.IsPostHidden(X)){let w=X.getAttribute(K.ATTRIBUTE_BIS_HIDE_HEIGHT);w&&(B.h=parseInt(w));let e=X.getAttribute(K.ATTRIBUTE_BIS_HIDE_WIDTH);e&&(B.w=parseInt(e));let k=X.getAttribute(K.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);k&&(B.x=B.x+parseInt(k),B.abs_x=B.abs_x+parseInt(k))}return B}}X.exports=k},6335:(X,B,w)=>{const K=w(655),e=w(7678),k=w(2880),R=w(1568),u=w(6882);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.fbConfig=K,this.fbFeed=null,this.fbFeedObserver=null}ActualizeDetector(){return!!this.isValidUrl&&(this.fbFeed=this.FeedContainer,!!this.fbFeed)}ActivateMutationObserver(){this.fbFeed?(this.fbFeedObserver||(this.fbFeedObserver=new MutationObserver(this.DetectCandidates.bind(this,R.AD_DETECTOR_INITIATOR_MUTATION)),this.fbFeedObserver.observe(this.fbFeed,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedContainer(){const X=this.fbConfig.FEED_PAGE.MIN_HEIGHT,B=this.fbConfig.FEED_PAGE.FEED_QUERIES,w=B.length;let K=!1,e=null;for(let k=0;k<w&&!K;k++){let w=B[k],R=document.querySelector(w);if(R){const B=R.offsetHeight;if(R.children.length>2&&B>X)e=R,K=!0;else if(R.nodeName.search(/span/i)>-1){let B=R.nextElementSibling;if(B&&B.children){const w=B.offsetHeight;1===B.children.length&&B.querySelector("h3")?(e=B.querySelector("h3").parentElement,K=!0):2===B.children.length?(R=B.querySelector("div:not([class])"),R&&R.offsetHeight>X&&(e=R,K=!0)):B.children.length>1&&w>X&&(e=B,K=!0)}}}}return e}DeactivateMutationObserver(){this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}Detector(){let X=this.FeedContainer;if(X){let B=Array.from(X.children);if(B.length&&1!==B.length||(B=document.querySelectorAll(this.fbConfig.FEED_PAGE.POSTS_QUERY)),!B)return;for(let X=0;X<B.length;X++){let w=B[X],K=k.GetElementSize(w);if(!w.hasAttribute(R.ATTRIBUTE_BIS_ID)&&e.IsInitiallyRendered(w,K)&&this.CheckIfAdRendered(w,e.GetMinImgsSpacePercentag(this.fbConfig,R.FACEBOOK_AD_PLACEMENT_TYPE_FEED))&&this.CheckIfAd(w)){let e="";this.AdBlockerAgent.IsEnabledForFacebook()&&(e=this.HideAd(B[X],K,R.FACEBOOK_AD_PLACEMENT_TYPE_FEED)),this.addCoverImageSrcAttribute(w);let u=k.GenerateAndSetBisIdToFBAds(w),A=this.options.extractAdStaticPartTimeoutMs+k.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(w),setTimeout(this.ReadyToExtractAd.bind(this,u,e),A)}}}}ReadyToExtractAd(X,B){try{if(X){let w=document.querySelector(`[${R.ATTRIBUTE_BIS_ID}=${X}]`);if(!w)return;let K=w.querySelector(`[${R.ATTRIBUTE_BIS_LABEL}="fb_feed_ad"]`);K?this.ExtractAd(X,B,R.FACEBOOK_AD_PLACEMENT_TYPE_FEED):null!==K&&(K.removeAttribute(R.ATTRIBUTE_BIS_ID),w.removeAttribute(R.ATTRIBUTE_BIS_ID))}}catch(X){}}CheckIfAd(X){const B=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let w=!1;for(let K=0;K<B.length&&!w;K++){const e=B[K];let k=X.querySelectorAll(e);if(w=this.GetTextCustom(k),w||(w=this.GetTextFromXlink(k)),w||(w=this.GetTextIfUseCanvas(k)),w){X.firstElementChild.setAttribute(R.ATTRIBUTE_BIS_LABEL,"fb_feed_ad");break}}return!!w}GetTextCustom(X){for(let B=0;B<X.length;B++){const w=X[B];let K=w.innerText,k=w.getAttribute(this.options.attributeWithSponsorAlly),u=k?[K,k]:K;if("string"==typeof K&&K.length&&this.isTagSponsored(u))return!0;if(K&&K.length>=2&&!w.hasAttribute(R.ATTRIBUTE_BIS_LABEL)){let X=e.GetVisibleSpansText(w,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(X!==K&&X!==k&&"string"==typeof X&&X.length&&this.isTagSponsored(X))return!0}}return!1}GetTextFromXlink(X){let B="";for(let w of X){if(!w.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const X=w.parentElement;let K="";if(X?.hasAttribute("bis_processed")&&X?.hasAttribute(R.ATTRIBUTE_BIS_LABEL))continue;const e=Array.from(X.children);if(e&&e.forEach((X=>{let B=X.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const w=document.querySelector(B);w&&("text"===w.nodeName.toLowerCase()?K+=w.textContent:"svg"===w.nodeName.toLowerCase()&&(K=this.GetTextFromXlink([w.firstElementChild])))})),X.setAttribute("bis_processed",""),this.isTagSponsored(K))return B=K,X.removeAttribute("bis_processed"),B;B=""}return B}GetTextIfUseCanvas(X){let B="";for(let w of X){if("canvas"!==w.nodeName.toLowerCase()||w.hasAttribute(R.ATTRIBUTE_BIS_LABEL))continue;let X=this.CheckAndGetFieldName(w);if("string"==typeof X&&this.isTagSponsored(X)){B=X;break}}return B}CheckAndGetFieldName(X){if(X.hasAttribute("bis-text"))return X.getAttribute("bis-text");let B=u.EmptyMessage;B.type=R.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,B.content={attribute:"bis-text"},window.postMessage({attribute:"bis-text"},window.location.origin)}AddHiddenTextTags(X){const B=X.querySelectorAll("svg>use");if(B)for(let X=0;X<B.length;X++){const w=B[X],K=w.parentElement;let e=w.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let k=document.querySelector(e).cloneNode(!0);k.style.display="none",k.id=k.id+"_bis",K&&K.appendChild(k)}}isTagSponsored(X){let B=!1;if(!X)return B;if("string"==typeof X)B=this.fbConfig.SPONSORED_TEXTS.some((B=>B===X));else for(let w of X)if(B=this.fbConfig.SPONSORED_TEXTS.some((X=>X===w)),B)break;return B}GetAboutPageLink(X){let B="",w=this.fbConfig.ABOUT_SECTION_CONFIG,K=X.querySelectorAll(w.QUERY_ABOUT_PAGE_HREF);if(!K?.length)return B;let e="";for(let B=0;B<K.length;B++){let k=K[B];if(!k.href)continue;if(!w.ABOUT_PAGE_BAD_WORDS_MATCHES.every((X=>-1===k.href.indexOf(X))))continue;let R=X.getBoundingClientRect().top,u=k.getBoundingClientRect();u.top>R&&u.top-R<=w.MAX_DISTANCE_FROM_POST_TOP&&(e=k.href)}if(!e.length)return B;const k=new RegExp(w.QUERY_GET_USER_ID_FROM_HREF);let R=e.match(k)?.groups?.username||"";return B=w.ABOUT_PAGE_TEMPLATE.replace("%1",R),B}get isValidUrl(){return!this.fbConfig.FEED_PAGE.INVALID_URL_PATHS.some((X=>window.location.href.includes(X)))}addCoverImageSrcAttribute(X){let B=X.querySelector(this.fbConfig.FEED_PAGE.COVER_IMAGE_QUERY);if(B&&B.hasAttribute("src")){let w=B.getAttribute("src");X.setAttribute("data-cover-image-src",w)}}}},2300:(X,B,w)=>{const K=w(655),e=w(2880),k=w(7678),R=w(1568);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.fbConfig=K,this.fbMarketplace=null,this.fbMarketplaceObserver=null}ActualizeDetector(){return this.fbMarketplace=this.MainContainer,!!this.fbMarketplace}get MainContainer(){return document.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.CONTAINER)}ActivateMutationObserver(){this.fbMarketplace?(this.fbMarketplaceObserver||(this.fbMarketplaceObserver=new MutationObserver(this.DetectCandidates.bind(this,R.AD_DETECTOR_INITIATOR_MUTATION)),this.fbMarketplaceObserver.observe(this.fbMarketplace,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}Detector(){let X=this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.CARDS);if(X?.length)for(let B=0;B<X.length;B++){const w=X[B];let K=e.GetElementSize(w);if(this.addCoverImageSrcAttribute(w),!w.hasAttribute(R.ATTRIBUTE_BIS_ID)&&k.IsInitiallyRendered(w,K)&&(this.addCoverImageSrcAttribute(w),this.CheckIfAd(w))){let X;if(this.AdBlockerAgent.IsEnabledForFacebook()&&(k.HideSateliteSponsoredString(this.fbConfig,document.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SATELITE_SPONSORED_STRING)),X=this.HideAd(w,K,R.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE)),this.CheckIfAdRendered(w,k.GetMinImgsSpacePercentag(this.fbConfig,R.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE))){let B=e.GenerateAndSetBisIdToFBAds(w),K=this.options.extractAdStaticPartTimeoutMs+e.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.addCoverImageSrcAttribute(w),setTimeout(this.ExtractAd.bind(this,B,X,R.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE),K)}}}}addCoverImageSrcAttribute(X){let B=X.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.COVER_IMAGE_QUERY);if(B&&B.hasAttribute("src")&&!X.hasAttribute("data-cover-image-src")){let w=B.getAttribute("src");X.setAttribute("data-cover-image-src",w)}}CheckIfAd(X){let B=!1;if(!X||!this.MainContainer)return B;const w=X.getBoundingClientRect();let K=Array.from(this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSOR_BLOCKS));if(!K?.length)return B;for(let e of K){const K=e.getBoundingClientRect();if(K.x-w.x<=5&&K.x-w.x>=-5){let w=k.GetVisibleSpansText(e,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((X=>-1!==w.indexOf(X)))){X.setAttribute(R.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),B=!0;break}}else if(this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH){let w=X;for(let X of this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH)if(w[X])w=w[X];else if(X.includes(",")){const B=X.split(",");w=w[B[0]](B[1])}if(w){let K=k.GetVisibleSpansText(w,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((X=>-1!==K.indexOf(X)))){X.setAttribute(R.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),B=!0;break}}}}return B||(B=this.checkAHref(X)),B}checkAHref(X){return!!X.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSORED_HREF_CHECK)}}},1899:(X,B,w)=>{const K=w(655),e=w(2880),k=w(7678),R=w(1568),u=w(8384);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.fbConfig=K,this.fbRightColumn=null,this.fbRightColumnObserver=null,this.options=B}ActualizeDetector(){return this.fbRightColumn=this.getRightColumnContainer(),!!this.fbRightColumn}ActivateMutationObserver(){this.fbRightColumn?(this.fbRightColumnObserver||(this.fbRightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,R.AD_DETECTOR_INITIATOR_MUTATION)),this.fbRightColumnObserver.observe(this.fbRightColumn,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){let X=this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CARDS);if(X?.length)for(let B=0;B<X.length;B++){let w=X[B],K=null,A=Array.from(this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.SATELITE_SPONSORED_STRING)),s=e.GetElementSize(w);if(k.IsInitiallyRendered(w,s))if(w.hasAttribute(R.ATTRIBUTE_BIS_ID))this.CheckIfAdRotated(w)&&w.removeAttribute&&(w.removeAttribute(R.ATTRIBUTE_BIS_ID),w.removeAttribute(R.ATTRIBUTE_BIS_SIZE),w.removeAttribute(R.ATTRIBUTE_BIS_STATUS),u._X&&u.tX&&"border: 6px solid green !important;"===w.style.cssText&&(w.style.cssText=""));else if(this.CheckIfAd(w,A)&&(this.AdBlockerAgent.IsEnabledForFacebook()&&(k.HideSateliteSponsoredString(this.fbConfig,A),K=this.HideAd(w,s,R.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)),this.CheckIfAdRendered(w,k.GetMinImgsSpacePercentag(this.fbConfig,R.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)))){let X=e.GenerateAndSetBisIdToFBAds(w),B=this.options.extractAdStaticPartTimeoutMs+e.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);setTimeout(this.ExtractAd.bind(this,X,K,R.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN),B)}}}CheckIfAd(X,B){const w=this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IMPOSSIBLE_HREF_REG_FOR_AD,K=this.fbConfig.SPONSORED_TEXTS;if(B?.length)for(let X of B){let B=X.innerText;if(K.some((X=>X===B)))return!0}const e=Array.from(X.querySelectorAll(`${this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IF_AD}, [${this.options.attributeWithSponsorAlly}]`));return!!e.length&&e.some((X=>{const B=X.href;if(-1===B?.indexOf(w))return!0;const e=X.getAttribute(this.options.attributeWithSponsorAlly);return!!e&&K.some((X=>e===X))}))}CheckIfAdRotated(X){let B=!1;if(X&&"extracted"===X.getAttribute(R.ATTRIBUTE_BIS_STATUS)){let w=0,K=0,e=0,k=X.querySelectorAll("*");k&&k.length&&(k.forEach((X=>{X.getAttribute(R.ATTRIBUTE_BIS_SIZE)?w+=1:K+=1})),0===w&&K>0?B=!0:w>0&&K>0&&(e=K/k.length*100|0,e>50&&(B=!0)))}return B}getRightColumnContainer(){return document.querySelector(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CONTAINER)}}},1454:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X){this.id=X}InjectDetector(){if(!this.#X()&&document.head){let X=document.createElement("script");this.setAttributes(X),document.head.appendChild(X)}}setAttributes(X){const B=K.getURL("../executors/facebook.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("facebook.js")))}}},7948:(X,B,w)=>{const K=w(655),e=w(7678),k=w(2880),R=w(1568);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.fbConfig=K,this.fbWatch=null,this.fbWatchObserver=null}ActualizeDetector(){return this.fbWatch=this.FeedWatchContainer,!!this.fbWatch}ActivateMutationObserver(){this.fbWatch?(this.fbWatchObserver||(this.fbWatchObserver=new MutationObserver(this.DetectCandidates.bind(this,R.AD_DETECTOR_INITIATOR_MUTATION)),this.fbWatchObserver.observe(this.fbWatch,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedWatchContainer(){const X=this.fbConfig.FEED_WATCH_PAGE.FEED_WATCH_QUERIES,B=X.length;let w=!1,K=null;for(let e=0;e<B&&!w;e++){let B=X[e],k=Array.from(document.querySelectorAll(B));if(!k.length)continue;let R=k.filter((X=>X.children&&X.children.length>2));R.length&&1===R.length&&(K=R[0],w=!0)}return K}DeactivateMutationObserver(){this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}Detector(){let X=this.fbWatch;if(X){let B=Array.from(X.children);for(let X=0;X<B.length;X++){const w=B[X];let K=k.GetElementSize(w);if(!w.hasAttribute(R.ATTRIBUTE_BIS_ID)&&e.IsInitiallyRendered(w,K)&&this.CheckIfAd(w)){let X="";if(this.AdBlockerAgent.IsEnabledForFacebook()&&(X=this.HideAd(w,K,R.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH)),this.CheckIfAdRendered(w,e.GetMinImgsSpacePercentag(this.fbConfig,R.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH))){this.addCoverImageSrcAttribute(w);let B=k.GenerateAndSetBisIdToFBAds(w),K=this.options.extractAdStaticPartTimeoutMs+k.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(w),setTimeout(this.ReadyToExtractAd.bind(this,B,X),K)}}}}}ReadyToExtractAd(X,B){try{if(X){let w=document.querySelector(`[${R.ATTRIBUTE_BIS_ID}=${X}]`),K=w.querySelector(`[${R.ATTRIBUTE_BIS_LABEL}="fb_watch_ad"]`);w&&K?this.ExtractAd(X,B,R.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH):(K.removeAttribute(R.ATTRIBUTE_BIS_ID),w.removeAttribute(R.ATTRIBUTE_BIS_ID))}}catch(X){}}CheckIfAd(X){const B=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let w=!1;for(let K=0;K<B.length&&!w;K++){const e=B[K];let k=X.querySelectorAll(e);if(w=this.GetTextCustom(k),w||(w=this.GetTextFromXlink(k)),w||(w=this.GetTextIfUseCanvas(k)),w){X.firstElementChild.setAttribute(R.ATTRIBUTE_BIS_LABEL,"fb_watch_ad");break}}return!!w}GetTextCustom(X){for(let B=0;B<X.length;B++){const w=X[B];let K=w.innerText,k=w.getAttribute(this.options.attributeWithSponsorAlly),u=k?[K,k]:K;if("string"==typeof K&&K.length&&this.isTagSponsored(u))return!0;if(K&&K.length>=2&&!w.hasAttribute(R.ATTRIBUTE_BIS_LABEL)){let X=e.GetVisibleSpansText(w,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(X!==K&&X!==k&&"string"==typeof X&&X.length&&this.isTagSponsored(X))return!0}}return!1}GetTextFromXlink(X){let B="";for(let w of X){if(!w.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const X=w.parentElement;let K="";if(X?.hasAttribute("bis_processed")&&X?.hasAttribute(R.ATTRIBUTE_BIS_LABEL))continue;const e=Array.from(X.children);if(e&&e.forEach((X=>{let B=X.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const w=document.querySelector(B);w&&("text"===w.nodeName.toLowerCase()?K+=w.textContent:"svg"===w.nodeName.toLowerCase()&&(K=this.GetTextFromXlink([w.firstElementChild])))})),X.setAttribute("bis_processed",""),this.isTagSponsored(K))return B=K,X.removeAttribute("bis_processed"),B;B=""}return B}GetTextIfUseCanvas(X){let B="";for(let w of X){if("canvas"!==w.nodeName.toLowerCase()||w.hasAttribute(R.ATTRIBUTE_BIS_LABEL))continue;let X=this.CheckAndGetFieldName(w);if("string"==typeof X&&this.isTagSponsored(X)){B=X;break}}return B}AddHiddenTextTags(X){const B=X.querySelectorAll("svg>use");if(B)for(let X=0;X<B.length;X++){const w=B[X],K=w.parentElement;let e=w.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let k=document.querySelector(e).cloneNode(!0);k.style.display="none",K&&K.appendChild(k)}}isTagSponsored(X){let B=!1;if(!X)return B;if("string"==typeof X)B=this.fbConfig.SPONSORED_TEXTS.some((B=>B===X));else for(let w of X)if(B=this.fbConfig.SPONSORED_TEXTS.some((X=>X===w)),B)break;return B}GetAboutPageLink(X){let B="",w=this.fbConfig.ABOUT_SECTION_CONFIG,K=X.querySelectorAll(w.QUERY_ABOUT_PAGE_HREF);if(!K?.length)return B;let e="";for(let B=0;B<K.length;B++){let k=K[B];if(!k.href)continue;if(!w.ABOUT_PAGE_BAD_WORDS_MATCHES.every((X=>-1===k.href.indexOf(X))))continue;let R=X.getBoundingClientRect().top,u=k.getBoundingClientRect();u.top>R&&u.top-R<=w.MAX_DISTANCE_FROM_POST_TOP&&(e=k.href)}if(!e.length)return B;const k=new RegExp(w.QUERY_GET_USER_ID_FROM_HREF);let R=e.match(k)?.groups?.username||"";return B=w.ABOUT_PAGE_TEMPLATE.replace("%1",R),B}addCoverImageSrcAttribute(X){let B=X.querySelector(this.fbConfig.FEED_WATCH_PAGE.COVER_IMAGE_QUERY);if(B&&B.hasAttribute("src")){let w=B.getAttribute("src");X.setAttribute("data-cover-image-src",w)}}}},3162:(X,B,w)=>{const K=w(2880),e=w(9358);class k{static GetHyperlinkEmbeddedTargetUrlDataList(X,B,w){let e,k,R,u=K.QuerySelectorAll(B,"A[href]"),A=[];for(var s=0;s<u.length;s++)if(e=u[s],!K.IsInFilterList(w,e.href)){k=K.GetElementSize(e),R=k.w*k.h;let X=e.querySelectorAll("img, canvas");if(X.length){let B,w;for(var U=0;U<X.length;U++)B=K.GetElementSize(X[U]),w=B.w*B.h,w>R&&(R=w,k.w=B.w,k.h=B.h)}R>=100&&K.isValidUrl(e.href)&&A.push({href:e.href,square:R})}return A&&A.length,A}static GetDocumentEmbeddedTargetUrlDataList(X,B,w){let K=[this.strategyStrictFinalUrl,this.strategyScriptClickTag,this.strategyAppnexus,this.strategyNoscriptAnchors,this.strategyScriptAndMetaContentJsonKeyWords,this.strategyLookingForPropertyInsideWindow],e=this.processStrategyList(B,K,w);return e&&e.length,e}static processStrategyList(X,B,w){let K=[];for(let e of B)try{let B=e(X,w);B&&B.href&&K.push(B)}catch(X){}return K}static strategyStrictFinalUrl(X,B){for(var w=K.QuerySelectorAll(X,'script[type="application/json"]'),e=0;e<w.length;e++){var k=w[e].outerText;if(k.length>1&&"{"===k[0]&&"}"===k[k.length-1]&&-1!=k.indexOf("targets")&&-1!=k.indexOf("redirectUrl")&&-1!=k.indexOf("finalUrl")){var R=JSON.parse(k);if(void 0!==R.targets&&void 0!==R.targets.redirectUrl&&void 0!==R.targets.redirectUrl.finalUrl){let X=R.targets.redirectUrl.finalUrl;if(K.isValidUrl(X))return{href:X,square:1e6}}}}}static strategyScriptClickTag(X,B){let w=K.QuerySelectorAll(X,"script");for(let X=0;X<w.length;X++){let B=w[X].outerText;if(B.length>1&&-1!==B.indexOf("clickTag")&&(B=B.replace(/\s/g,""),B.startsWith('varclickTag="')&&B.endsWith('";'))){let X=B.indexOf('"'),w=B.lastIndexOf('"'),e=B.substring(X+1,w);if(K.isValidUrl(e))return{href:e,square:1e6}}}}static strategyAppnexus(X,B){let w=K.QuerySelectorAll(X,".GoogleActiveViewElement script"),e=Array.from(w).map((X=>X.innerHTML)).filter((X=>X.indexOf("APPNEXUS.placement")>=0));for(let X=0;X<e.length;X++){let B=k(e[X]);if(K.isValidUrl(B))return{href:B,square:1e6}}function k(X){let B=(X=X.replace(/(\r\n|\n|\r|\s)/gm,"")).match(/APPNEXUS.placement\(".+","(.+)",.+/);return B&&B.length>1?B[1]:null}}static strategyNoscriptAnchors(X,B){let w=K.QuerySelectorAll(X,"noscript");for(let B=0;B<w.length;B++){let e=X.createElement("div");e.innerHTML=w[B].innerText;let k=e.querySelector("a[href]");if(k){let X=k.getAttribute("href");if(K.isValidUrl(X))return{href:X,square:1}}}}static strategyScriptAndMetaContentJsonKeyWords(X,B,w=null){if(w){let X=k(w,B);return K.isValidUrl(X)?{href:X,square:999999}:void 0}let e=K.QuerySelectorAll(X,"script, meta[content]");for(let X of e){let w="script"===X.nodeName.toLowerCase()?X.outerText:X.getAttribute("content");if(w.length>1&&"{"===w[0]&&"}"===w[w.length-1]){let X=k(JSON.parse(w),B);if(K.isValidUrl(X))return{href:X,square:999999}}}function k(X,B,w=[]){let e=B.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(w.length>e)return null;let u=Object.getOwnPropertyNames(X);for(let e of u)try{let u=X[e];if(!u)return null;let A=w.concat(e);if("string"==typeof u&&u.length>1&&"{"===u[0]&&"}"===u[u.length-1]){let X=k(JSON.parse(u),B,A);if(X)return X}if("object"==typeof u){let X=k(u,B,A);if(X)return X}else if("string"==typeof u&&R(e,B)&&K.isValidUrl(u))return u}catch(X){}return null}function R(X,B){let w=function(X){let B=X.toLowerCase();return B.replace(/[^a-zA-Z]+/g,"")}(X),K=B.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let X of K){if(w===X)return!0}return!1}}static strategyLookingForPropertyInsideWindow(X,B){const w=X.defaultView,K=B.WINDOW_PROPERTY_NAMES;for(let e of K){let K=w[e];if(K){if("string"==typeof K)return!K.search(/^http/)>-1&&(K=R(K)),{href:K,square:1e6};if("object"==typeof K)return k.strategyScriptAndMetaContentJsonKeyWords(X,B,K)}}function R(w){try{const K=e.decode(w);if(K){if("string"==typeof K&&"{"===K[0]){let w=JSON.parse(K);return k.strategyScriptAndMetaContentJsonKeyWords(X,B,w).href}return""}}catch(X){}}}}X.exports=k},9877:(X,B,w)=>{const K=w(2880),e=w(7817),k=w(3162);class R{constructor(X,B,w,e,k){this.id=w,this.fullIdStr=K.GetFullIdStr(X,B,w),this.init=!1,this.targetUrlDataList=[],this.targetUrlDetected=!1,this.IframesIO=null,this.activationTargetUrlCandidates=e,this.html5TargetUrlDetectionConfig=k.GetHtml5TargetUrlDetectionConfig(),this.blacklistedTargetUrls=k.BlacklistTargetUrl,this.detectionTimerId=null,this.onDetectTargetUrlCallBack=null}get FrameTargetUrl(){return this.targetUrlDataList}Init(X){return X&&(this.IframesIO=X,this.init=!0),this.init}DetectTargetUrl(X,B){if(this.init&&!this.targetUrlDetected&&this.html5TargetUrlDetectionConfig)if(this.onDetectTargetUrlCallBack=B,this.detectionTimerId=setTimeout(this.onTargetUrlDetectionTimout.bind(this),X),this.activationTargetUrlCandidates&&this.activationTargetUrlCandidates.length)this.targetUrlDataList=this.activationTargetUrlCandidates,this.TargetUrlDetected();else{let X=k.GetHyperlinkEmbeddedTargetUrlDataList(this.id,document,this.blacklistedTargetUrls);this.targetUrlDataList=this.targetUrlDataList.concat(X);let B=k.GetDocumentEmbeddedTargetUrlDataList(this.id,document,this.html5TargetUrlDetectionConfig);B=R.filterTargetUrlDataList(B,this.blacklistedTargetUrls),this.targetUrlDataList=this.targetUrlDataList.concat(B),this.targetUrlDataList&&this.targetUrlDataList.length?this.TargetUrlDetected():this.IframesIO.ActivateWindowEmbeddedTargetUrlDetection(this.onGetWindowEmbeddedTargetUrlData.bind(this))}}static filterTargetUrlDataList(X,B){if(!X||0===X.length)return[];return X.filter((X=>{if(X.href&&0===X.href.search(/^http/)&&!K.IsInFilterList(B,X.href))return!0}))}onGetWindowEmbeddedTargetUrlData(X){let B=R.filterTargetUrlDataList(X,this.blacklistedTargetUrls);this.targetUrlDataList.push(B),this.concatTargetUrlsDataIfNeed(),!B||B.length,this.TargetUrlDetected()}concatTargetUrlsDataIfNeed(){this.targetUrlDataList[0].length&&(this.targetUrlDataList=this.targetUrlDataList.flat(1))}onTargetUrlDetectionTimout(){this.targetUrlDetected||this.TargetUrlDetected()}TargetUrlDetected(){this.targetUrlDetected=!0,this.detectionTimerId&&(clearTimeout(this.detectionTimerId),this.detectionTimerId=null),this.onDetectTargetUrlCallBack&&this.onDetectTargetUrlCallBack()}static DetectTargetUrlFromWindowObj(X,B,w){var K=[];let R=w.GetHtml5TargetUrlDetectionConfig(),u=w.BlacklistTargetUrl;try{let w=k.GetHyperlinkEmbeddedTargetUrlDataList(X,B.document,R);K=K.concat(w)}catch(X){}try{let w=k.GetDocumentEmbeddedTargetUrlDataList(X,B.document,R);w=this.filterTargetUrlDataList(w,u),K=K.concat(w)}catch(X){}try{let w=e.GetWindowEmbeddedTargetUrlDataList(X,B,R,this.defaultWindowProps);w=this.filterTargetUrlDataList(w,u),K=K.concat(w)}catch(X){}return K&&K.length,K}}X.exports=R},7817:X=>{X.exports=class{static GetWindowEmbeddedTargetUrlDataList(X,B,w){let K=[function(X){if(void 0!==X.clickTag&&k(X.clickTag))return{href:X.clickTag,square:1000001}},function(X){if(void 0!==X.adData){if(void 0!==X.adData.destination_url&&k(X.adData.destination_url))return{href:X.adData.destination_url,square:1000001};if(void 0!==X.adData.redirect_url&&k(X.adData.redirect_url))return{href:X.adData.redirect_url,square:1000001}}},function(X){if(void 0!==X.BF&&void 0!==X.BF.Parameters&&void 0!==X.BF.Parameters.targeturl&&k(X.BF.Parameters.targeturl))return{href:X.BF.Parameters.targeturl,square:1000001}},function(X){if(void 0!==X.ADAPT&&void 0!==X.ADAPT.symbols&&void 0!==X.ADAPT.symbols.stage&&void 0!==X.ADAPT.symbols.stage.clickUrl&&k(X.ADAPT.symbols.stage.clickUrl))return{href:X.ADAPT.symbols.stage.clickUrl,square:1000001}},function(X){if(void 0!==X.admixAPI&&void 0!==X.admixAPI.ownerBanner&&void 0!==X.admixAPI.ownerBanner.clickUrl&&k(X.admixAPI.ownerBanner.clickUrl))return{href:X.admixAPI.ownerBanner.clickUrl,square:1000001}},function(X,B){let w=function(X,B,w){let K=function(X,B){let w=Object.getOwnPropertyNames(X);return w.filter((X=>B.WINDOW_PROPERTY_NAMES.indexOf(X)<0))}(B,w);if(!K||0===K.length)return null;return R(B,K,w)}(0,X,B);if(k(w))return{href:w,square:999999}}],e=function(X,B,w){let K=[];for(let e of B)try{let B=e(X,w);B&&B.href&&K.push(B)}catch(X){}return K}(B,K,w);return e&&e.length,e;function k(X){return"string"==typeof X&&X.length>0&&(-1!==X.indexOf("http")||-1!==X.indexOf("//"))}function R(X,B,w,K=[]){let e=w.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(K.length>e)return null;for(let e of B)try{let B=X[e];if(!B)return null;let A=K.concat(e);if("object"==typeof B){let X=R(B,Object.getOwnPropertyNames(B),w,A);if(X)return X}else if("string"==typeof B&&u(e,w)&&k(B))return B}catch(X){}return null}function u(X,B){let w=function(X){let B=X.toLowerCase();return B.replace(/[^a-zA-Z]+/g,"")}(X),K=B.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let X of K){if(w===X)return!0}return!1}}}},3375:(X,B,w)=>{const K=w(8384),e=w(1568),k=w(5364),R=w(5337),u=w(5972),A=w(9944),s=w(9346);X.exports=class extends s{constructor(X,B,w){super(X),this.id=X,this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.instaConfig=B.GetInstagramConfig,this.AdBlockerAgent=w,this.DetectorFeed=null,this.DetectorStories=null,this.headersEntries=[],this.ActivateVideoTrafficDetector()}onPageUrlChanged(X,B){this.available&&setTimeout((()=>{this.DeactivateDetectors(e.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),0)}ActivateDetector(X){X===e.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.DetectorFeed=new R(this.id,this.instaConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.DetectorStories=new A(this.id,this.instaConfig.STORIES.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.DetectorFeed.isVideo=this.isVideo.bind(this),this.DetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorFeed.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorFeed.HideElement=this.HideElementForInstagramFeedOnly.bind(this),this.DetectorFeed.isCarousel=this.isCarousel.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this),this.DetectorStories.HideElement=this.HideElement.bind(this),this.DetectorStories.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorStories.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorStories.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector=new u(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_w",JSON.stringify(this.instaConfig.TRAFFIC_LISTENER_CONFIG))}ActivateDetectors(){this.GetHeadersDataForLoader(),this.DetectorFeed.ActivateDetector(),this.DetectorStories.ActivateDetector()}DeactivateDetectors(X){this.DetectorFeed.DeactivateDetector(X),this.DetectorStories.DeactivateDetector(X)}processAndSendInstagramAd(X,B,w){let R=document.querySelector(`[${e.ATTRIBUTE_BIS_ID}=${X}]`);R&&(this.addFieldsToCandidateAboutHeaders(B),k.SendCandidatePlacementsCount(this.id,1,e.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM,null),k.SendAdCandidates(this.id,[B],e.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM,null),K._X&&K.tX&&(R.style.cssText+=w?e.STYLES_OUTLINE_VIDEO_AD:e.STYLES_OUTLINE_SUCCESS_DETECT))}GetHeadersDataForLoader(){let X=this.instaConfig.LOAD_USER_DATA.HEADERS_VALUES_QUERIES;for(let B of X){let X=new RegExp(B[1]),w=B[0],K=new RegExp(w,"i"),e=Array.from(document.querySelectorAll("script")).filter((X=>X.innerHTML.search(K)>-1));if(!e.length)return;let k=e[0].innerHTML.match(X)[1];this.headersEntries.push([w,k])}}addFieldsToCandidateAboutHeaders(X){this.headersEntries.length&&X.aboutPageUrl&&(X.headers=Object.fromEntries(this.headersEntries))}}},5337:(X,B,w)=>{const K=w(2880),e=w(1568),k=w(655);X.exports=class extends k{constructor(X,B,w,K){super(X,B,w),this.instaConfig=K,this.timeOptions=this.instaConfig.FEED.TIMEOUT_OPTIONS,this.id=X,this.adBlockerAgent=w,this.feedContainer=null,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.processInstagramAdsInterval=null}HideElement(X){}setSizesAndIdForAllElements(X){}getAdInstagramObject(X,B,w,K,e,k){}isCarousel(X){}isVideo(X,B){}removeCloneElement(X){}ActualizeDetector(){return this.feedContainer=this.FeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processFeedAds()}get FeedContainer(){const X=this.instaConfig.FEED.CONTAINER_QUERIES,B=this.instaConfig.FEED.CONTAINER_MIN_HEIGHT;for(let w of X){let X=document.querySelector(w);if(X){if(X.offsetHeight>=B)return X}}}checkAdBlockerAndHide(X){this.adBlockerAgent.IsEnabledForInstagram()&&!this.adBlockerAgent.IsElementHidden(X)&&(this.HideElement(X),this.adBlockerAgent.SetHiddenAmount(1))}processFeedAds(){let X=this.detectPromotedPosts();if(X&&X.length)for(let B of X){K.GetElementSize(B);if(!B.hasAttribute(e.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(B);let X=K.GenerateAndSetBisIdToInstagramAds(B),w=this.createHTML(B);const k=this.getAdvertiserName(B),R=this.getTargetUrl(B),u=this.getAboutPageUrl(B);this.AddHiddenTextTags(w);const A=this.isCarousel(B),s=this.isVideo(B,this.instaConfig.TAGS_FOR_VIDEO_CHECK),U=this.getAdInstagramObject(B,w,k,R,u,e.INSTAGRAM_AD_PLACEMENT_TYPE_FEED);s&&!A&&(U.videoData={}),A&&(U.carouselSlidesSources=[]),this.removeCloneElement(w),this.checkAdBlockerAndHide(B);let l=setTimeout((()=>{this.ExtractAd.call(this,X,U,s),clearTimeout(l)}),100)}}}AddHiddenTextTags(X){const B=X.querySelectorAll("svg>use");if(B)for(let X=0;X<B.length;X++){const w=B[X],K=w.parentElement;let e=w.getAttribute("xlink:href");let k=document.querySelector(e).cloneNode(!0);k.style.display="none",k.id=k.id+"_bis",K&&K.appendChild(k)}}RemoveHideStylesFromClone(X){let B=X.querySelector("div"),w=B?B.firstElementChild:null,K=w?w.firstElementChild:null;return K?(w.style.cssText=w.style.cssText.replace(e.STYLES_HIDE_INSTAGRAM_FEED_AD[1],""),K.style.cssText=K.style.cssText.replace(e.STYLES_HIDE_INSTAGRAM_FEED_AD[0],""),X):X}detectPromotedPosts(){if(!this.feedContainer)return[];const X=this.instaConfig.FEED.IMG_SPACE_PERCENTAGE,B=this.instaConfig.PROMOTED_ALIASES;let w=Array.from(this.feedContainer.children),K=[];for(let e of w)if(this.IsPostContentRendered(e,X)){const X=e.querySelectorAll(this.instaConfig.FEED.PROMOTED_QUERY);for(let w of X){if(!w)continue;let X=w.hasAttribute("xlink:href")?this.GetTextFromXlink(w):w.innerText;if(X.includes("#"))continue;if(B.some((B=>X.search(B)>=0))){K.push(e);break}}}return K}GetTextFromXlink(X){let B=X.getAttribute("xlink:href");if(B){return document.querySelector(B).textContent}return""}IsPostContentRendered(X,B){let w=!1;if(X){let e=K.GetFullElementSize(X);if(e.w>0){K.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,X,e).some((X=>X>=B))&&(w=!0)}}return w}createHTML(X){const B=document.createElement("html"),w=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,e=X.cloneNode(!0),k=this.feedContainer,R=k.cloneNode();return this.styleFixes(R),this.setWrapperStyles(k,R),R.appendChild(e),w.appendChild(R),B.appendChild(K),B.appendChild(w),B}setWrapperStyles(X,B){B.style.cssText=B.style.cssText+` max-width: ${this.maxWidthContainer(X)}`}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}styleFixes(X){X.style.paddingBottom=0}get cloneBodyWithStyles(){const X=document.createElement("body"),B=document.querySelectorAll('body style, body link[rel="stylesheet"]');return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}get cloneHeadWithStyles(){const X=document.createElement("head"),B=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return B&&B.forEach((B=>{let w=B.cloneNode(!0);X.appendChild(w)})),X}getAboutPageUrl(X){const B=this.instaConfig.FEED.ABOUT_PAGE_URL_QUERY;let w=X.querySelector(B);return w&&w.href?w.href:""}getAdvertiserName(X){const B=this.instaConfig.FEED.ADVERTISER_NAME_QUERY;let w=X.querySelector(B),K="";if(w){if(K=w.innerText,K)return K;if(K=w.innerHTML,-1===K.search(/\<\//))return K}return""}getTargetUrl(X){const B=this.instaConfig.FEED.TARGET_URL_QUERY;let w=X.querySelector(B),K="";return w&&w.href&&(K=w.href),K}}},9944:(X,B,w)=>{const K=w(2880),e=w(1568),k=w(655);X.exports=class extends k{constructor(X,B,w,K){super(X,B,w),this.instaConfig=K,this.id=X,this.adBlockerAgent=w,this.storyContainer=null,this.storiesObserver=null,this.processInstagramAdsInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}HideElement(X){}setSizesAndIdForAllElements(X){}getAdInstagramObject(X,B,w,K,e,k){}removeCloneElement(X){}ActualizeDetector(){return this.storyContainer=this.StoryContainer,!!this.storyContainer}ActivateMutationObserver(){this.storyContainer?(this.storiesObserver||(this.storiesObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.storiesObserver.observe(this.storyContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.storyContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processStoriesAds()}processStoriesAds(){let X=this.detectPromotedMarkedStory();if(X&&(K.GetElementSize(X),!X.hasAttribute(e.ATTRIBUTE_BIS_ID))){let B=K.GenerateAndSetBisIdToInstagramAds(X);this.setSizesAndIdForAllElements(X);const w=this.createHTML(X),k=this.getAdvertiserName(X),R=this.getTargetUrl(X),u=this.getAboutPageUrl(X);this.AddHiddenTextTags(w);const A=this.getAdInstagramObject(X,w,k,R,u,e.INSTAGRAM_AD_PLACEMENT_TYPE_STORY);this.adBlockerAgent.IsEnabledForInstagram(),this.removeCloneElement(w);let s=setTimeout((()=>{this.ExtractAd.call(this,B,A),clearTimeout(s)}),100)}}AddHiddenTextTags(X){const B=X.querySelectorAll("svg>use");if(B)for(let X=0;X<B.length;X++){const w=B[X],K=w.parentElement;let e=w.getAttribute("xlink:href");let k=document.querySelector(e).cloneNode(!0);k.style.display="none",k.id=k.id+"_bis",K&&K.appendChild(k)}}createHTML(X){const B=document.createElement("html"),w=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,e=X.cloneNode(!0),k=document.createElement("div");return this.styleFixes(e),this.setWrapperStyles(X,k),k.appendChild(e),w.appendChild(k),B.appendChild(K),B.appendChild(w),B}get cloneBodyWithStyles(){const X=document.createElement("body"),B=document.querySelectorAll('body style, body link[rel="stylesheet"]');return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}get cloneHeadWithStyles(){const X=document.createElement("head"),B=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return B&&B.forEach((B=>{let w=B.cloneNode(!0);X.appendChild(w)})),X}detectPromotedMarkedStory(){if(!this.storyContainer)return null;const X=this.instaConfig.STORIES.IMG_SPACE_PERCENTAGE,B=this.instaConfig.PROMOTED_ALIASES;let w=this.storyContainer;if(this.IsStoryContentRendered(w,X)){const X=w.querySelectorAll(this.instaConfig.STORIES.PROMOTED_QUERY);for(let K of X){if(!K)continue;let X=K.hasAttribute("xlink:href")?this.GetTextFromXlink(K):K.innerText;if(X.includes("#"))continue;if(B.some((B=>X.search(B)>=0)))return w}}return null}GetTextFromXlink(X){let B=X.getAttribute("xlink:href");if(B){return document.querySelector(B).textContent}return""}getAdvertiserName(X){const B=this.instaConfig.STORIES.ADVERTISER_NAME_QUERY;let w=X.querySelector(B);return w?w.innerText:""}getTargetUrl(X){const B=this.instaConfig.STORIES.TARGET_URL_QUERY;let w=X.querySelector(B),K="";return w&&w.href&&(K=w.href),K}getAboutPageUrl(X){const B=this.instaConfig.STORIES.ABOUT_PAGE_URL_QUERY;let w=X.querySelector(B);return w&&w.href?w.href:""}IsStoryContentRendered(X,B){let w=!1;if(X){let e=K.GetFullElementSize(X);if(e.w>0){K.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,X,e).some((X=>X>=B))&&(w=!0)}}return w}setWrapperStyles(X,B){B.style.cssText=B.style.cssText+` max-width: ${this.maxWidthContainer(X)}`}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}styleFixes(X){X.style.transform=""}get StoryContainer(){return document.querySelector(this.instaConfig.STORIES.STORY_QUERY)}}},5972:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X,B){this.id=X,this.AdBlockerAgent=B}InjectDetector(X,B){if(!this.#X()&&document.head){var w=document.createElement("script");this.setAttributes(w),document.head.appendChild(w)}}setAttributes(X){const B=K.getURL("../executors/insta.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),this.AdBlockerAgent.IsEnabledForInstagram()&&X.setAttribute("ad-opt-on",""),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("insta.js")))}}},9181:(X,B,w)=>{const K=w(9346),e=w(9170),k=w(1568),R=w(8384),u=w(5364),A=w(2880),s=w(1291),U=w(8247);X.exports=class extends K{constructor(X,B,w){super(X),this.id=X,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=w,this.linkedinConfig=B.LinkedinConfig,this.LinkedinDetectorFeed=null,this.LinkedinDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(X,B){this.available&&setTimeout((()=>{this.DeactivateDetectors(k.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.LinkedinDetectorFeed.ActivateDetector(),this.LinkedinDetectorRightColumn.ActivateDetector()}DeactivateDetectors(X){this.LinkedinDetectorFeed.DeactivateDetector(X),this.LinkedinDetectorRightColumn.DeactivateDetector(X)}ActivateDetector(X){X===k.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.LinkedinDetectorFeed=new s(this.id,this.linkedinConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.LinkedinDetectorRightColumn=new U(this.id,this.linkedinConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.LinkedinDetectorFeed.isVideo=this.isVideo.bind(this),this.LinkedinDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorFeed.getAdLinkedinObject=this.getAdLinkedinObject.bind(this),this.LinkedinDetectorFeed.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorFeed.HideElement=this.HideElement.bind(this),this.LinkedinDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorFeed.isCarousel=this.isCarousel.bind(this),this.LinkedinDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.LinkedinDetectorRightColumn.HideElement=this.HideElement.bind(this),this.LinkedinDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorRightColumn.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorRightColumn.getAdLinkedinObject=this.getAdLinkedinObject.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new e(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_l",JSON.stringify(this.linkedinConfig)))}IsAdContentRendered(X,B){let w=A.GetFullElementSize(X);return A.GetImagesSpacePercentage(this.linkedinConfig.TAGS_FOR_LOADING_CHECK,X,w).some((X=>X>=B))}processAndSendLinkedinAd(X,B,w=!1,K=document){let e=K.querySelector(`[${k.ATTRIBUTE_BIS_ID}=${X}]`);e&&(u.SendCandidatePlacementsCount(this.id,1,k.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN,null),u.SendAdCandidates(this.id,[B],k.MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN,null),R._X&&R.tX&&(e.style.cssText+=w?k.STYLES_OUTLINE_VIDEO_AD:k.STYLES_OUTLINE_SUCCESS_DETECT))}}},1291:(X,B,w)=>{const K=w(655),e=w(1568),k=w(2880);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.id=X,this.feedObserver=null,this.linkedinConfig=K,this.feedContainer=null,this.AdBlockerAgent=w,this.adPlacementType=e.LINKEDIN_AD_PLACEMENT_TYPE_FEED}HideElement(){}setSizesAndIdForAllElements(X){}getAdLinkedinObject(X,B,w,K,e,k){}doesElementExists(X){}isCarousel(X){}isVideo(X,B){}IsAdContentRendered(X,B){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds()}processFeedAds(){this.extractOccurrences()}get getFeedContainer(){const X=this.linkedinConfig.FEED.QUERY_CONTAINER,B=this.linkedinConfig.FEED.QUERY_IFRAME_PRELOAD;let w=document.querySelector(X)||document.querySelector(B)?.contentDocument?.querySelector(X);return!w||w.children.length<3?null:w}extractOccurrences(){let{allCells:X,minImgSquarePercentage:B}=this.allCellsAndMinImgSpace();if(X.length)for(let w of X){if(k.GetElementSize(w),w.hasAttribute(e.ATTRIBUTE_BIS_ID))continue;if(!this.IsAdContentRendered(w,B))continue;let X=k.GenerateAndSetBisIdToLinkedinAds(w);this.setSizesAndIdForAllElements(w);const K=this.createHTML(w),R=this.getTargetUrl(w),u=this.getSocialAdvertiserUrl(w),A=this.getAdvertiserName(w),s=this.isCarousel(w),U=this.isVideo(w,this.linkedinConfig.TAGS_FOR_VIDEO_CHECK),l=this.getUniqueDataId(w);this.removeBisAttribute(K);let Q=this.getAdLinkedinObject(w,K,this.adPlacementType,R,u,A,l);if(this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(w)&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),s&&(Q.carouselSlidesData=this.getCarouselSlidesFromDOM(u,w)),w.querySelector("iframe")&&(Q.doesHaveIframe=!0),U&&!s){const X=this.getVideoIdAndThumbnail(w);Q.videoData=X||{}}setTimeout(this.ExtractAd.bind(this,X,Q,U,this.feedContainer),100)}}allCellsAndMinImgSpace(){let X=[],B=0;return this.feedContainer&&(X=Array.from(this.feedContainer.children),B=this.linkedinConfig.FEED.IMG_SPACE_PERCENTAGE),X=X.filter((X=>this.linkedinConfig.FEED.COLLECT_AD_TYPE_EVENT?this.isPromoted(X):this.isPromoted(X)&&!X.querySelector(this.linkedinConfig.FEED.QUERY_CHECK_AD_TYPE_EVENT))),{allCells:X,minImgSquarePercentage:B}}isPromoted(X){const B=this.linkedinConfig.FEED.QUERIES_IS_PROMOTED,w=this.linkedinConfig.PROMOTED_ALIASES;let K=!1;for(let e of B){let B=Array.from(X.querySelectorAll(e));B.length&&(K=B.some((X=>{let B=X.textContent.trim().toLowerCase();if(B)return w.some((X=>B.indexOf(X)>=0))})))}return K}createHTML(X){const B=document.createElement("html"),w=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,e=X.cloneNode(!0),k=this.feedContainer,R=k.cloneNode();return this.styleFixes(R),this.setWrapperStyles(k,R,X),R.appendChild(e),w.appendChild(R),B.appendChild(K),B.appendChild(w),B}setWrapperStyles(X,B,w){B.style.cssText=B.style.cssText+` max-width: ${this.maxWidthContainer(X)}`,B.style.cssText=B.style.cssText+` max-height: ${this.maxHeightContainer(w)}`}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}maxHeightContainer(X){return X?X.offsetHeight+"px":"auto"}styleFixes(X){X.style.overflow="hidden"}get cloneBodyWithStyles(){const X=document.createElement("body"),B=document.querySelectorAll('body style, body link[rel="stylesheet"]');return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}get cloneHeadWithStyles(){const X=document.createElement("head"),B=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),w=document.createElement("meta");return w.setAttribute("charset","UTF-8"),X.append(w),B&&B.forEach((B=>{let w=B.cloneNode(!0);X.appendChild(w)})),X}getTargetUrl(X){const B=this.linkedinConfig.FEED.QUERY_TARGET_URL;let w=X.querySelector(B);return w&&w.href?w.href:""}getSocialAdvertiserUrl(X){const B=this.linkedinConfig.FEED.QUERY_ADVERTISER_URL;let w=X.querySelector(B),K="";return w&&w.href?(K=w.href,K):K}getAdvertiserName(X){let B=X.querySelector(this.linkedinConfig.FEED.QUERY_ADVERTISER_NAME);return B?B.innerText.trim():""}getVideoIdAndThumbnail(X){const B=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.QUERY_VIDEO_TAG_GET_VIDEO_ID,w=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.REGEXP_VIDEO_ID),K=X.querySelector(B);if(!K)return null;const e=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.ATTRIBUTE_NAME_WITH_VIDEO_ID;let k=K.getAttribute(e);if(!k)return null;let R=k.match(w);return{videoId:R?.groups?.videoId?R.groups.videoId:null,previewImageUrl:k}}getCarouselSlidesFromDOM(X,B){let w=this.searchFirstImage(B);if(!w)return[];let K=this.searchMatchedImgId(w);if(!K)return[];let e=this.getAllCodeElements();if(!e.length)return[];let k=this.filterCodeElements(e,K);if(!k.length)return[];let R=this.getSlidesDatas(k,X);return R.length?this.getSlidesImagesSources(R):[]}searchFirstImage(X){return X.querySelector(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_FIRST_IMG)}searchMatchedImgId(X){let B=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.REGEXP_IMG_ID),w=X.src.match(B);return w.length&&1!==w.length?w[1]:null}getAllCodeElements(){return Array.from(document.querySelectorAll(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_CODE_ELEMENTS))}filterCodeElements(X,B){return X.filter((X=>X.innerHTML.includes(B))).map((X=>"{"===X.innerHTML.trim()[0]?JSON.parse(X.innerHTML):{}))}getSlidesDatas(X,B){const w=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SOCIAL_ADV_URL,K=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_DATA;let e=X.map((X=>{if(!X.included)return{};let e=X.included.filter((X=>{let K=X;for(let X of w)if(K[X]&&(K=K[X]),B===K)return!0}));if(!e.length)return!1;let k=e[0];for(let X of K)k[X]&&(k=k[X]);return k}));return e.length?e[0]:[]}getSlidesImagesSources(X){const B=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_ROOT_URL,w=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_PATH_URL,K=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SLIDE_TEXT;let e=[];for(let k of X){let X=k,R=k,u=k;for(let w of B)X[w]&&(X=X[w]);if(!X||"string"!=typeof X)break;for(let X of w)R[X]&&(R=R[X]);if(!R||"string"!=typeof R)break;for(let X of K)u[X]&&(u=u[X]);if(!u||"string"!=typeof u)break;let A=X+R,s={source:this.transformToValidUrl(A),text:u};e.push(s)}return e}transformToValidUrl(X){return X.replace(/amp\;/g,"")}removeBisAttribute(X){let B=X.querySelectorAll(`*[${e.ATTRIBUTE_BIS_ID}]`);B.length&&B.forEach((X=>{X.removeAttribute(e.ATTRIBUTE_BIS_ID)}))}getUniqueDataId(X){return X.querySelector(this.linkedinConfig.FEED.QUERY_GET_UNIQUE_ID)?.getAttribute("data-id")}}},8247:(X,B,w)=>{const K=w(655),e=w(2880),k=w(1568);w(9358);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.rightColumnContainer=null,this.rightColumnObserver=null,this.linkedinConfig=K,this.adPlacementType=k.LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN,this.promotedHeaderHeaderHeight=0}HideElement(){}setSizesAndIdForAllElements(X){}getAdLinkedinObject(X,B,w,K,e,k){}doesElementExists(X){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer(),!!this.rightColumnContainer}ActivateMutationObserver(){this.getRightColumnContainer()?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,k.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.rightColumnContainer=null,this.isObserverAlreadySet=!1)}getRightColumnContainer(){const X=this.linkedinConfig.RIGHT_COLUMN.QUERY_CONTAINER,B=this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_PRELOAD,w=document.querySelector(X)||document.querySelector(B)?.contentDocument?.querySelector(X);return w&&w.children.length?w:null}isPromoted(X){const B=X?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_PROMOTED),w=this.linkedinConfig.PROMOTED_ALIASES;let K=!1;if(B){this.promotedHeaderHeaderHeight=B.parentElement.offsetHeight;let X=B.textContent.trim().toLowerCase();K=w.includes(X)}return K}Detector(){this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer(),this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.rightColumnContainer.querySelectorAll(this.linkedinConfig.RIGHT_COLUMN.QUERY_AD_CONTAINER).forEach((X=>{this.isIframe(X)&&this.processIFrame(X)}))}isIframe(X){return!!X?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME)}processIFrame(X){const B=X.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME),w=B?.contentDocument;if(this.isPromoted(w)){const B=[];this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD.forEach((X=>B.push(...w.querySelectorAll(X)))),this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(X)&&(this.HideElement(X),this.AdBlockerAgent.SetHiddenAmount(B.length)),this.extractOccurrences(B,w)}}extractOccurrences(X,B){X.length&&X.forEach((X=>{if(e.GetElementSize(X),X.hasAttribute(k.ATTRIBUTE_BIS_ID))return;const w=e.GenerateAndSetBisIdToLinkedinAds(X);this.setSizesAndIdForAllElements(X);const K=this.cloneIframeWithAd(B,X),R=this.getTargetUrl(X);this.removeBisAttribute(K);const u=this.getAdLinkedinObject(X,K,this.adPlacementType,R,"","");setTimeout(this.ExtractAd.bind(this,w,u,!1,B),100)}))}cloneIframeWithAd(X,B){const w=document.createElement("html"),K=this.cloneHeadWithStyles(X),e=X.querySelector("body").cloneNode(!0),k=this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD_WRAPPER.find((X=>!!e.querySelector(X))),R=e.querySelector(k),u=e.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_STYLES_CONTAINER),A=e.querySelector("script");return A&&A.remove(),u.style.height="auto",u.style.width=`${B.offsetWidth}px`,R.parentNode.style.height="auto",R.replaceChildren(),R.appendChild(B.cloneNode(!0)),w.appendChild(K),w.appendChild(e),w}cloneHeadWithStyles(X){const B=X||document,w=document.createElement("head"),K=B.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),e=document.createElement("meta");return e.setAttribute("charset","UTF-8"),w.append(e),K&&K.forEach((X=>{let B=X.cloneNode(!0);w.appendChild(B)})),w}getTargetUrl(X){return(X.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_TARGET_URL)||X).href||""}removeBisAttribute(X){let B=X.querySelectorAll(`*[${k.ATTRIBUTE_BIS_ID}]`);B.length&&B.forEach((X=>{X.removeAttribute(k.ATTRIBUTE_BIS_ID)}))}}},9170:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X){this.id=X}InjectDetector(X,B){if(!this.#X()&&document.head){let X=document.createElement("script");this.setAttributes(X),document.head.appendChild(X)}}setAttributes(X){const B=K.getURL("../executors/linkedin.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("linkedin.js")))}}},2075:(X,B,w)=>{const K=w(2629),e=w(1050),k=w(2765),R=w(1568),u=w(5364),A=w(8384),s=w(8792),U=w(9346),l=w(2880);X.exports=class extends U{constructor(X,B,w){super(X),this.id=X,this.AdBlockerAgent=w,this.pinterestConfig=B.PinterestConfig,this.onPageRefreshed=this.onPageUrlChanged,this.available=!1,this.pinterestFeedDetector=null,this.pinterestPinDetector=null,this.pinterestSearchDetector=null,this.VideoTrafficDetector=null,this.ActivateVideoTrafficDetector()}onPageUrlChanged(X,B){this.available&&setTimeout((()=>{this.DeactivateDetectors(R.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),100)}PageRefreshed(X,B){this.pageUrl=X,this.ticketId=B,this.onPageUrlChanged&&this.onPageUrlChanged(X,B)}ActivateDetector(X){X===R.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.pinterestFeedDetector=new K(this.id,this.pinterestConfig.FEED_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestSearchDetector=new k(this.id,this.pinterestConfig.SEARCH_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestPinDetector=new e(this.id,this.pinterestConfig.PIN_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.pinterestFeedDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestFeedDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestFeedDetector.isCarousel=this.isCarousel.bind(this),this.pinterestFeedDetector.HideElement=this.HideElement.bind(this),this.pinterestFeedDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestFeedDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestFeedDetector.isVideo=this.isVideo.bind(this),this.pinterestFeedDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestFeedDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestPinDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestPinDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestPinDetector.isCarousel=this.isCarousel.bind(this),this.pinterestPinDetector.HideElement=this.HideElement.bind(this),this.pinterestPinDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestPinDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestPinDetector.isVideo=this.isVideo.bind(this),this.pinterestPinDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestPinDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestSearchDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestSearchDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestSearchDetector.isCarousel=this.isCarousel.bind(this),this.pinterestSearchDetector.HideElement=this.HideElement.bind(this),this.pinterestSearchDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestSearchDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestSearchDetector.isVideo=this.isVideo.bind(this),this.pinterestSearchDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestSearchDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this)}ActivateDetectors(){this.pinterestFeedDetector.ActivateDetector(),this.pinterestSearchDetector.ActivateDetector(),this.pinterestPinDetector.ActivateDetector()}DeactivateDetectors(X){this.pinterestFeedDetector.DeactivateDetector(X),this.pinterestSearchDetector.DeactivateDetector(X),this.pinterestPinDetector.DeactivateDetector(X)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new s(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_p",JSON.stringify(this.pinterestConfig)))}GetGlobalContainer(){return document.querySelector(this.pinterestConfig.MAIN_CONTAINER_QUERY)}getUniqueContentId(X){const B=X.querySelector(`div[${this.pinterestConfig.UNIQUE_ATTRIBUTE}]`);return B?B.getAttribute(this.pinterestConfig.UNIQUE_ATTRIBUTE):""}IsPostContentRendered(X,B,w){let K=!1;if(X){let e=l.GetFullElementSize(X);if(e.w>0&&e.h>0){l.GetImagesSpacePercentage(w,X,e).some((X=>X>=B))&&(K=!0)}}return K}sendPinterestAd(X,B){let w=document.querySelector(`[${R.ATTRIBUTE_BIS_ID}=${X}]`);w&&(u.SendCandidatePlacementsCount(this.id,1,R.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST,null),u.SendAdCandidates(this.id,[B],R.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST,null),A._X&&A.tX&&(B.videoData?w.style.cssText+=R.STYLES_OUTLINE_VIDEO_AD:w.style.cssText+=R.STYLES_OUTLINE_SUCCESS_DETECT))}}},2629:(X,B,w)=>{w(9346);const K=w(1568),e=w(2880),k=w(655);X.exports=class extends k{constructor(X,B,w,e){super(X,B,e),this.id=X,this.pinterestConfig=w,this.adBlockerAgent=e,this.adPlacementType=K.PINTEREST_AD_PLACEMENT_TYPE_FEED,this.feedContainer=null,this.lastFeedAdsCheckTime=0,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(X,B){}setSizesAndIdForAllElements(X){}getAdPinterestObject(X,B,w,K,e,k,R){}isVideo(X,B){}removeCloneElement(X){}IsPostContentRendered(X,B,w){}ActualizeDetector(){return!!this.isFeedPageURL()&&(this.feedContainer=this.getFeedContainer(),!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,K.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!0)}Detector(){let X=this.detectPromotedPins();if(X&&X.length)for(let B of X){e.GetElementSize(B);if(!B.hasAttribute(K.ATTRIBUTE_BIS_ID)){let X=e.GenerateAndSetBisIdToPinterestAds(B);this.setSizesAndIdForAllElements(B);const w=this.createHTML(B),k=this.getAdvertiserName(B),R=this.getTargetUrl(B),u=this.getTitleText(B),A=this.getAdvertiserUrl(B),s=this.getAdPinterestObject(B,w,k,R,u,A,K.PINTEREST_AD_PLACEMENT_TYPE_FEED);this.isVideo(B,this.pinterestConfig.FEED_PAGE.TAGS_FOR_VIDEO_CHECK)&&(s.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(B)&&(this.HideElement(B),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(w);let U=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,X,s),clearTimeout(U)}),100)}}}detectPromotedPins(){if(!this.feedContainer)return[];let X=[],B=this.pinterestConfig.FEED_PAGE.IMG_SPACE_PERCENTAGE,w=this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,K=Array.from(this.feedContainer.childNodes),e=this.pinterestConfig.PROMOTED_ALIASES;for(let k of K)if(this.IsPostContentRendered(k,B,this.pinterestConfig.FEED_PAGE.TAGS_FOR_LOADING_CHECK)){const B=k.querySelector(this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY);if(!B)continue;let K=B.innerText;if(!K||"style"===B.nodeName.toLowerCase()){let X=window.getComputedStyle(B,":before");K=B.textContent,X&&X.content&&!K&&(K=X.content);for(let X of w){if(!K){K="";break}let B=X[0],w=X[1],e="join"!==B?new RegExp(w,"g"):"";"join"!==B||1!==K.length?K="replace"===B?K[B](e,""):K[B](e):K=K[0]}}e.some((X=>K.search(X)>=0))&&X.push(k)}return X}getFeedContainer(){let X=this.getGlobalContainer(),B=null;return X?(B=X.querySelector(this.pinterestConfig.FEED_PAGE.CONTAINER_QUERY),B):B}get cloneBodyWithStyles(){const X=document.createElement("body"),B=document.querySelectorAll("body style");return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}get cloneHeadWithStyles(){const X=document.createElement("head"),B=document.querySelectorAll('head link[rel="stylesheet"], head script');return B&&B.forEach((B=>{let w=B.cloneNode();X.appendChild(w)})),X}createHTML(X){const B=document.createElement("html"),w=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,e=X.cloneNode(!0);return this.styleFixes(e),w.appendChild(e),B.appendChild(K),B.appendChild(w),B}getAdvertiserName(X){const B=this.pinterestConfig.FEED_PAGE.ADVERTISER_NAME_QUERY;let w=Array.from(X.querySelectorAll(B));for(let X of w)if(X&&X.innerText)return X.innerText;return""}getAdvertiserUrl(X){const B=this.pinterestConfig.FEED_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let w=X.querySelector(B);return w?w.href:""}styleFixes(X){X.style.cssText=X.style.cssText.replace(/transform.[^;]*;/,"");for(let B of this.pinterestConfig.FEED_PAGE.STYLE_FIXES){const w=X.querySelector(B.ELEMENT_QUERY);let e=B.NEW_RULES;if(w){if(B.NEW_RULES.includes("${")){let X=JSON.parse(w.getAttribute(K.ATTRIBUTE_BIS_SIZE)).h;e=B.NEW_RULES.replace(/\$\{.[^}]*\}/,X)}w.style.cssText+=e}}}getTargetUrl(X){const B=this.pinterestConfig.FEED_PAGE.TARGET_URL_QUERY;let w=X.querySelector(B),K="";return w&&w.href&&(K=w.href),K}getTitleText(X){const B=this.pinterestConfig.FEED_PAGE.TITLE_TEXT_QUERY;let w=X.querySelector(B),K="";return w&&w.textContent.length&&(K=w.textContent),K}isFeedPageURL(){return-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin|search)\//)}}},1050:(X,B,w)=>{const K=w(1568),e=w(2880),k=w(655);X.exports=class extends k{constructor(X,B,w,e){super(X,B,e),this.id=X,this.pinterestConfig=w,this.adBlockerAgent=e,this.pinContainer=null,this.adPlacementType=K.PINTEREST_AD_PLACEMENT_TYPE_PIN,this.lastPinAdsCheckTime=0,this.pinObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(X,B){}setSizesAndIdForAllElements(X){}getAdPinterestObject(X,B,w,K,e,k,R){}isVideo(X,B){}removeCloneElement(X){}IsPostContentRendered(X,B,w){}ActualizeDetector(){return this.pinContainer=this.getPinContainer(),!!this.pinContainer}ActivateMutationObserver(){this.pinContainer?(this.pinObserver||(this.pinObserver=new MutationObserver(this.DetectCandidates.bind(this,K.AD_DETECTOR_INITIATOR_MUTATION)),this.pinObserver.observe(this.pinContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.pinContainer=null,this.isObserverAlreadySet=!1)}Detector(){let X=this.detectPromotedPins();if(X&&X.length)for(let B of X){e.GetElementSize(B);if(!B.hasAttribute(K.ATTRIBUTE_BIS_ID)){let X=e.GenerateAndSetBisIdToPinterestAds(B);this.setSizesAndIdForAllElements(B);const w=this.createHTML(B),K=this.getAdvertiserName(B),k=this.getTargetUrl(B),R=this.getTitleText(B),u=this.getAdvertiserUrl(B),A=this.getAdPinterestObject(B,w,K,k,R,u,this.adPlacementType);this.isVideo(B,this.pinterestConfig.PIN_PAGE.TAGS_FOR_VIDEO_CHECK)&&(A.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(B)&&(this.HideElement(B),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(w);let s=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,X,A),clearTimeout(s)}),100)}}}detectPromotedPins(){if(!this.pinContainer)return[];let X=[],B=this.pinterestConfig.PIN_PAGE.IMG_SPACE_PERCENTAGE,w=this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,K=Array.from(this.pinContainer.childNodes),e=this.pinterestConfig.PROMOTED_ALIASES;for(let k of K)if(this.IsPostContentRendered(k,B,this.pinterestConfig.PIN_PAGE.TAGS_FOR_LOADING_CHECK)){const B=k.querySelector(this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY);if(!B)continue;let K=B.innerText;if(!K||"style"===B.nodeName.toLowerCase()){let X=window.getComputedStyle(B,":before");K=B.textContent,X&&X.content&&!K&&(K=X.content);for(let X of w){if(!K){K="";break}let B=X[0],w=X[1],e="join"!==B?new RegExp(w,"g"):"";"join"!==B||1!==K.length?K="replace"===B?K[B](e,""):K[B](e):K=K[0]}}e.some((X=>K.search(X)>=0))&&X.push(k)}return X}getPinContainer(){let X=this.getGlobalContainer(),B=null;return X?(B=X.querySelector(this.pinterestConfig.PIN_PAGE.CONTAINER_QUERY),B):B}get cloneBodyWithStyles(){const X=document.createElement("body"),B=document.querySelectorAll("body style");return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}get cloneHeadWithStyles(){const X=document.createElement("head"),B=document.querySelectorAll('head link[rel="stylesheet"], head script');return B&&B.forEach((B=>{let w=B.cloneNode();X.appendChild(w)})),X}createHTML(X){const B=document.createElement("html"),w=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,e=X.cloneNode(!0);return this.styleFixes(e),w.appendChild(e),B.appendChild(K),B.appendChild(w),B}getAdvertiserName(X){const B=this.pinterestConfig.PIN_PAGE.ADVERTISER_NAME_QUERY;let w=Array.from(X.querySelectorAll(B));for(let X of w)if(X&&X.innerText)return X.innerText;return""}getAdvertiserUrl(X){const B=this.pinterestConfig.PIN_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let w=X.querySelector(B);return w?w.href:""}getTitleText(X){const B=this.pinterestConfig.PIN_PAGE.TITLE_TEXT_QUERY;let w=X.querySelector(B),K="";return w&&w.textContent.length&&(K=w.textContent),K}styleFixes(X){X.style.cssText=X.style.cssText.replace(/transform.[^;]*;/,"");for(let B of this.pinterestConfig.PIN_PAGE.STYLE_FIXES){const w=X.querySelector(B.ELEMENT_QUERY);let e=B.NEW_RULES;if(w){if(B.NEW_RULES.includes("${")){let X=JSON.parse(w.getAttribute(K.ATTRIBUTE_BIS_SIZE)).h;e=B.NEW_RULES.replace(/\$\{.[^}]*\}/,X)}w.style.cssText+=e}}}getTargetUrl(X){const B=this.pinterestConfig.PIN_PAGE.TARGET_URL_QUERY;let w=X.querySelector(B),K="";return w&&w.href&&(K=w.href),K}isPinPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin)\//))}}},2765:(X,B,w)=>{const K=w(1568),e=w(2880),k=w(655);X.exports=class extends k{constructor(X,B,w,K){super(X,B,K),this.id=X,this.pinterestConfig=w,this.adBlockerAgent=K,this.searchContainer=null,this.lastSearchPageAdsCheckTime=0,this.searchPageObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(X,B){}setSizesAndIdForAllElements(X){}getAdPinterestObject(X,B,w,K,e,k,R){}isVideo(X,B){}removeCloneElement(X){}IsPostContentRendered(X,B,w){}ActualizeDetector(){return this.searchContainer=this.getSearchContainer(),!!this.searchContainer}ActivateMutationObserver(){this.searchContainer?(this.searchPageObserver||(this.searchPageObserver=new MutationObserver(this.DetectCandidates.bind(this,K.AD_DETECTOR_INITIATOR_MUTATION)),this.searchPageObserver.observe(this.searchContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.searchContainer=null,this.isObserverAlreadySet=!1)}Detector(){let X=this.detectPromotedPins();if(X&&X.length)for(let B of X){e.GetElementSize(B);if(!B.hasAttribute(K.ATTRIBUTE_BIS_ID)){let X=e.GenerateAndSetBisIdToPinterestAds(B);this.setSizesAndIdForAllElements(B);const w=this.createHTML(B),k=this.getAdvertiserName(B),R=this.getTargetUrl(B),u=this.getTitleText(B),A=this.getAdvertiserUrl(B),s=this.getAdPinterestObject(B,w,k,R,u,A,K.PINTEREST_AD_PLACEMENT_TYPE_SEARCH);this.isVideo(B,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_VIDEO_CHECK)&&(s.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.AdBlockerAgent.IsElementHidden(B)&&(this.HideElement(B),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(w);let U=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,X,s),clearTimeout(U)}),100)}}}detectPromotedPins(){if(!this.searchContainer)return[];let X=[],B=this.pinterestConfig.SEARCH_PAGE.IMG_SPACE_PERCENTAGE,w=this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,K=Array.from(this.searchContainer.childNodes),e=this.pinterestConfig.PROMOTED_ALIASES;for(let k of K)if(this.IsPostContentRendered(k,B,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_LOADING_CHECK)){const B=k.querySelector(this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY);if(!B)continue;let K=B.innerText;if(!K||"style"===B.nodeName.toLowerCase()){let X=window.getComputedStyle(B,":before");K=B.textContent,X&&X.content&&!K&&(K=X.content);for(let X of w){if(!K){K="";break}let B=X[0],w=X[1],e="join"!==B?new RegExp(w,"g"):"";"join"!==B||1!==K.length?K="replace"===B?K[B](e,""):K[B](e):K=K[0]}}e.some((X=>K.search(X)>=0))&&X.push(k)}return X}getSearchContainer(){let X=this.getGlobalContainer(),B=null;return X?(B=X.querySelector(this.pinterestConfig.SEARCH_PAGE.CONTAINER_QUERY),B):B}get cloneBodyWithStyles(){const X=document.createElement("body"),B=document.querySelectorAll("body style");return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}get cloneHeadWithStyles(){const X=document.createElement("head"),B=document.querySelectorAll('head link[rel="stylesheet"], head script');return B&&B.forEach((B=>{let w=B.cloneNode();X.appendChild(w)})),X}createHTML(X){const B=document.createElement("html"),w=this.cloneBodyWithStyles,K=this.cloneHeadWithStyles,e=X.cloneNode(!0);return this.styleFixes(e),w.appendChild(e),B.appendChild(K),B.appendChild(w),B}getAdvertiserName(X){const B=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_NAME_QUERY;let w=Array.from(X.querySelectorAll(B));for(let X of w)if(X&&X.innerText)return X.innerText;return""}getAdvertiserUrl(X){const B=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let w=X.querySelector(B);return w?w.href:""}styleFixes(X){X.style.cssText=X.style.cssText.replace(/transform.[^;]*;/,"");for(let B of this.pinterestConfig.SEARCH_PAGE.STYLE_FIXES){const w=X.querySelector(B.ELEMENT_QUERY);let e=B.NEW_RULES;if(w){if(B.NEW_RULES.includes("${")){let X=JSON.parse(w.getAttribute(K.ATTRIBUTE_BIS_SIZE)).h;e=B.NEW_RULES.replace(/\$\{.[^}]*\}/,X)}w.style.cssText+=e}}}getTargetUrl(X){const B=this.pinterestConfig.SEARCH_PAGE.TARGET_URL_QUERY;let w=X.querySelector(B),K="";return w&&w.href&&(K=w.href),K}getTitleText(X){const B=this.pinterestConfig.SEARCH_PAGE.TITLE_TEXT_QUERY;let w=X.querySelector(B),K="";return w&&w.textContent.length&&(K=w.textContent),K}isSearchPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(search)\//))}}},8792:(X,B,w)=>{const K=w(2880);w(1568);X.exports=class{constructor(X){this.id=X}InjectDetector(X,B){if(!this.#X()&&document.head){var w=document.createElement("script");this.setAttributes(w),document.head.appendChild(w)}}setAttributes(X){const B=K.getURL("../executors/pinterest.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("pinterest.js")))}}},5465:(X,B,w)=>{const K=w(9346),e=w(9105),k=w(1568),R=w(8384),u=w(5364),A=w(9431),s=w(1145),U=w(9955);X.exports=class extends K{constructor(X,B,w){super(X),this.id=X,this.RedditVideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=w,this.redditConfig=B.RedditConfig,this.RedditDetectorFeed=null,this.RedditDetectorComments=null,this.RedditDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(X,B){this.available&&setTimeout((()=>{this.DeactivateDetectors(k.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.RedditDetectorFeed.ActivateDetector(),this.RedditDetectorComments.ActivateDetector(),this.RedditDetectorRightColumn.ActivateDetector()}DeactivateDetectors(X){this.RedditDetectorFeed.DeactivateDetector(X),this.RedditDetectorComments.DeactivateDetector(X),this.RedditDetectorRightColumn.DeactivateDetector(X)}ActivateDetector(X){X===k.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.RedditDetectorFeed=new A(this.id,this.redditConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorComments=new s(this.id,this.redditConfig.COMMENT_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorRightColumn=new U(this.id,this.redditConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.RedditDetectorFeed.isCarousel=this.isCarousel.bind(this),this.RedditDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorFeed.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorFeed.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorFeed.HideElement=this.HideElement.bind(this),this.RedditDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorComments.HideElement=this.HideElement.bind(this),this.RedditDetectorComments.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorComments.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorComments.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorComments.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorRightColumn.HideElement=this.HideElement.bind(this),this.RedditDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorRightColumn.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorRightColumn.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this)}ActivateTrafficDetector(){this.RedditVideoTrafficDetector||(this.RedditVideoTrafficDetector=new e(this.id),this.RedditVideoTrafficDetector.InjectDetector(this.id+"_r",JSON.stringify(this.redditConfig)))}processAndSendRedditAd(X,B,w=!1){let K=document.querySelector(`[${k.ATTRIBUTE_BIS_ID}=${X}]`);if(K){let X=!!K.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK);u.SendCandidatePlacementsCount(this.id,1,k.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT,null),u.SendAdCandidates(this.id,[B],k.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT,null),R._X&&R.tX&&(K.style.cssText+=w?k.STYLES_OUTLINE_VIDEO_AD:X?k.STYLES_OUTLINE_TEXT_AD:k.STYLES_OUTLINE_SUCCESS_DETECT)}}}},1145:(X,B,w)=>{const K=w(655),e=w(1568),k=w(2880);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.id=X,this.redditConfig=K,this.commentPageContainer=null,this.AdBlockerAgent=w,this.commentPageObserver=null,this.adPlacementType=e.REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE}HideElement(){}setSizesAndIdForAllElements(X){}getAdRedditObject(X,B,w,K){}doesElementExists(X){}ActualizeDetector(){return this.commentPageContainer=this.getCommentPageContainer,!!this.commentPageContainer}ActivateMutationObserver(){this.commentPageContainer?(this.commentPageObserver||(this.commentPageObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.commentPageObserver.observe(this.commentPageContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}get getCommentPageContainer(){let X=this.redditConfig.COMMENT_PAGE.QUERIES,B=this.redditConfig.COMMENT_PAGE.MIN_HEIGHT,w=window.innerWidth,K=this.redditConfig.COMMENT_PAGE.QUERY_TO_EXCLUDE,e=this.redditConfig.COMMENT_PAGE.TOP_DISTANCE;for(let k of X){const X=Array.from(document.querySelectorAll(k));for(let k of X){const X=k.getBoundingClientRect(),R=(w-parseInt(k.offsetWidth))/w*100,u=Array.from(k.children);if(parseInt(k.offsetHeight)>B&&R>2&&(parseInt(X.top)>e||parseInt(X.top)<0)&&u.length>=3&&!k.querySelector(K))return k}}return null}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processCommentPageAds(!0),this.isCommentPage&&this.commentPageContainer&&this.processCommentPageAds()}processCommentPageAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let X=[],B=[],w=this.redditConfig.COMMENT_PAGE.IMG_SPACE_PERCENTAGE;return this.commentPageContainer&&(X=Array.from(this.commentPageContainer.children).map((X=>{let w=Array.from(X.querySelectorAll(this.redditConfig.COMMENT_PAGE.QUERY_AD_INSIDE_COMMENT_TREE));if(!w?.length)return X;for(let X of w)B.push(X)})).concat(B)),X=X.filter((X=>!!X&&this.isPromoted(X))),{allCells:X,minImgSquarePercentage:w}}extractOccurrences(){let{allCells:X,minImgSquarePercentage:B}=this.allCellsAndMinImgSpace();if(X.length)for(let w of X)if(!w.hasAttribute(e.ATTRIBUTE_BIS_ID)&&!w.hasAttribute(e.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(w,B)&&this.isAvatarImgReady(w)){let X=k.GenerateAndSetBisIdToRedditAds(w),B=this.isVideoPost(w);if(this.isShadowRootExist(w)){const K=this.deepClone(w);let e=this.buildBannerHtml(K,this.adPlacementType),k=this.lookingTargetUrl(e),R=this.getAdRedditObject(w,e,k,this.adPlacementType);B&&(R.videoData=this.lookingForVideoDataInContent(w)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(w)&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,X,R,B),100)}else{this.setSizesAndIdForAllElements(w);const K=w.cloneNode(!0);let e=this.buildBannerHtml(K,this.adPlacementType),k=this.lookingTargetUrl(e),R=this.getAdRedditObject(w,e,k,this.adPlacementType);B&&(R.videoData=this.lookingForVideoDataInContent(w)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,X,R,B),100)}}}isShadowRootExist(X){if(X.shadowRoot)return!0;return Array.from(X.querySelectorAll("*")).some((X=>X.shadowRoot))}deepClone(X){let B=1;const w=(X,K)=>{const e=(X,B)=>{for(;X;)w(X,B),X=X.nextSibling};if(X){const w=X.cloneNode(!1);"SLOT"===X.nodeName&&(X.setAttribute("data-assigning-slot-id",B),w.setAttribute("data-assigning-slot-id",B)),X.assignedSlot&&X instanceof Element&&X.assignedSlot.hasAttribute("data-assigning-slot-id")&&w.setAttribute("data-assigned-to",X.assignedSlot.getAttribute("data-assigning-slot-id")),B+=1,K.appendChild(w),X.shadowRoot&&(this.setSizesAndIdForAllElements(X.shadowRoot),X.shadowRoot&&X.shadowRoot.firstChild.setAttribute&&k.SetFullSizeToElement(X.shadowRoot.firstChild),e(X.shadowRoot.firstChild,w)),this.setSizesAndIdForAllElements(X),X&&X.setAttribute&&k.SetFullSizeToElement(X),e(X.firstChild,w)}},K=document.createElement("div");return w(X,K),this.replaceElementsToRightSlots(K.firstElementChild),K.firstElementChild}replaceElementsToRightSlots(X){const B=X.querySelectorAll("*[data-assigned-to]"),w=X.querySelectorAll("*[data-assigning-slot-id]");for(let X of B){const B=X.getAttribute("data-assigned-to");for(let K of w){if(B===K.getAttribute("data-assigning-slot-id")){K.appendChild(X);break}}}}buildBannerHtml(X,B){let w=this.commentPageContainer;this.setWrapperClass(w);let K=this.headCopyWithStyles;const e=document.createElement("html"),k=this.bodyCopyWithStyles,R=document.createElement("div"),u=w.cloneNode();return R.appendChild(u),this.setWrapperStyles(w,R),K.appendChild(this.getClassNameForStyles(X)),e.appendChild(K),u.appendChild(X),k.appendChild(R),e.appendChild(k),e}setWrapperClass(X){let B=X.parentElement,w=!1;if(B)for(let e=0;e<50&&!w&&B;e++)if(B.nextSibling&&-1!==B.nextSibling.nodeName.search(/style/i)&&B.previousSibling&&-1!==B.previousSibling.nodeName.search(/style/i)){var K=B.getAttribute("class");X.className+=X.className.length?" "+K:K,w=!0}else B=B.parentElement}get headCopyWithStyles(){const X=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((B=>{const w=B.KEY,K=B.ALL_STYLES_FROM,e=B.COMMENT_PAGE;for(let B of Array.from(X.children))if(-1!==B.nodeName.search(/^(style|link)$/gi)){if(B.dataset[w]){let X=K.some((X=>B.dataset[w].includes(X)));!X&&this.isCommentPage&&(X=e.some((X=>B.dataset[w].includes(X)))),X||B.remove()}}else B.remove()})),this.neccesaryStyleRules){const B=document.createElement("style");B.innerHTML=this.neccesaryStyleRules,X.appendChild(B)}return this.getStylesByTagName(X),X}get neccesaryStyleRules(){let X=null;const B=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((X=>{const B=new RegExp(X,"gi"),w=document.querySelector("head").outerHTML.match(B);let K;return w&&w.length&&(K=w.join("")),K})).filter((X=>X));return B&&B.length&&(X=B.join("")),X}getClassNameForStyles(X){let B=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((w=>{const K=X.querySelector(w.CLASS_NAME_CHILD);let e=K&&K.parentElement?K.parentElement:null,k="";for(let X=1;X<w.DEEP_LEVEL;X++)e&&(e=e.parentElement);e&&(k=e.classList[0],B.innerHTML+="."+k+w.STYLES)})),B}getStylesByTagName(X){let B=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((B=>{const w=new RegExp(B.ATTRIBUTE_REGEX_VALUE);return Array.from(X.querySelectorAll(B.TAG_NAME)).filter((X=>{if(X&&X[B.ATTRIBUTE_NAME]&&-1!==X[B.ATTRIBUTE_NAME].search(w))return X;X.remove()}))})).filter((X=>X)).forEach((X=>{B=B.concat(X)})),B.forEach((B=>{X.appendChild(B)}))}get bodyCopyWithStyles(){const X=document.createElement("body"),B=document.querySelector("body style")?.cloneNode(!0);return B&&X.appendChild(B),X}isPromoted(X){if(!X)return!1;let B=X,w=null;1===B.childElementCount&&B.firstElementChild.shadowRoot&&B.firstElementChild.shadowRoot.firstElementChild?w=B.firstElementChild.shadowRoot.firstElementChild:B.shadowRoot&&(w=B.shadowRoot.firstElementChild);let K=[];w&&(K=Array.from(w.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)));let e=Array.from(B.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)).concat(K);return e.length?e.some((X=>{let B=X.textContent.trim().toLowerCase();return B?this.redditConfig.PROMOTED_ALIASES.some((X=>B.indexOf(X)>=0)):X.dataset.beforeContent?(B=X.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((X=>B.indexOf(X)>=0))):void 0})):void 0}IsPostContentRendered(X,B){let w=!1;if(X){let K=X.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(K&&0===K.length){let K=k.GetFullElementSize(X);if(K.w>0){k.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,X,K).some((X=>X>=B))&&(w=!0)}}X.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(w=!0)}return w}lookingTargetUrl(X){let B="";let w=Array.from(X.querySelectorAll('a[target="_blank"]')).filter((X=>!(!X||!X.href||X.href.includes("reddit.com/user/"))));return w.length&&(B=w[0].href),B}isAvatarImgReady(X){if(!X)return!1;let B=[X],w=null;1===X.childElementCount&&X.firstElementChild.shadowRoot&&(w=X.firstElementChild.shadowRoot.firstElementChild),X.shadowRoot&&(w=X.shadowRoot.firstElementChild),w&&B.push(w);let K=!1;for(let X of B){let B=X.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(B){if(!B.shadowRoot)return!0;if(K=!!B.shadowRoot&&!!B.shadowRoot.querySelector("img"),K)break}}return K}isVideoPost(X){let B=!1;if(X){B=Array.from(X.querySelectorAll("*")).some((X=>{let B=!!X.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!B&&X.shadowRoot&&(B=!!X.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),B}))}return B}lookingForVideoDataInContent(X){const B=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let w=X.querySelector(B);if(w){let X=w.getAttribute("src");w.getAttribute("poster");if(X&&!X.includes("blob:")){const B=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let w=X.match(B),K=null;if(w?.groups?.videoId)return K=w.groups.videoId,{videoId:K,url:X}}}return{}}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}setWrapperStyles(X,B){B.style.cssText=B.style.cssText+`max-width: ${this.maxWidthContainer(X)}`}get isCommentPage(){return-1!==window.location.href.indexOf(this.redditConfig.COMMENT_PAGE.TEXT_FROM_HREF)}get isCommentPopup(){return!!document.querySelector(this.redditConfig.COMMENT_PAGE.QUERY_IS_POPUP)}}},9431:(X,B,w)=>{const K=w(655),e=w(1568),k=w(2880);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.id=X,this.feedObserver=null,this.redditConfig=K,this.feedContainer=null,this.AdBlockerAgent=w,this.lastTopPosition=null,this.adPlacementType=e.REDDIT_AD_PLACEMENT_TYPE_FEED}isCarousel(){}HideElement(){}setSizesAndIdForAllElements(X){}getAdRedditObject(X,B,w,K){}doesElementExists(X){}ActualizeDetector(){return!!this.isValidUrl&&(this.feedContainer=this.getFeedContainer,!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.lastTopPosition=parseInt(this.feedContainer.getBoundingClientRect().top),this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processFeedAds(),this.isCommentPage||this.isCommentPopup||(this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds())}processFeedAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let X=[],B=0;if(this.feedContainer){let w=Array.from(this.feedContainer.children),K=Array.from(document.querySelectorAll(this.redditConfig.FEED.QUERY_POSTS));X=w,K&&K.length&&(X=w.concat(K)),B=this.redditConfig.FEED.IMG_SPACE_PERCENTAGE}return X=X.filter((X=>this.isPromoted(X)&&X.offsetHeight<this.redditConfig.FEED.MAX_CHILD_HEIGHT)),{allCells:X,minImgSquarePercentage:B}}extractOccurrences(){let{allCells:X,minImgSquarePercentage:B}=this.allCellsAndMinImgSpace();if(X.length)for(let w of X)if(!w.hasAttribute(e.ATTRIBUTE_BIS_ID)&&!w.hasAttribute(e.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(w,B)&&this.isAvatarImgReady(w)){this.isCarousel(w)&&this.redditConfig.IS_ACTIVE_GET_SLIDES_SRC&&this.getSlidesSrc(w);let X,B=k.GenerateAndSetBisIdToRedditAds(w);if(this.isShadowRootExist(w)){const K=this.deepClone(w);let e=this.buildBannerHtml(K,this.adPlacementType);X=this.isVideoPost(e);let k=this.getAdRedditObject(w,e,"",this.adPlacementType);X&&(k.videoData=this.lookingForVideoDataInContent(w)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(w)&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,B,k,X),100)}else{this.setSizesAndIdForAllElements(w);const K=w.cloneNode(!0);let e=this.buildBannerHtml(K,this.adPlacementType);X=this.isVideoPost(e);let R=this.getAdRedditObject(w,e,"",this.adPlacementType);R.size.h<300&&(R.size=k.SetFullSizeToElement(w)),X&&(R.videoData=this.lookingForVideoDataInContent(w)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),K.remove(),setTimeout(this.ExtractAd.bind(this,B,R,X),100)}}}isShadowRootExist(X){if(X.shadowRoot)return!0;return Array.from(X.querySelectorAll("*")).some((X=>X.shadowRoot))}deepClone(X){let B=1;const w=(X,K)=>{const e=(X,B)=>{for(;X;)w(X,B),X=X.nextSibling};if(X){const w=X.cloneNode(!1);"SLOT"===X.nodeName&&(X.setAttribute("data-assigning-slot-id",B),w.setAttribute("data-assigning-slot-id",B)),X.assignedSlot&&X instanceof Element&&X.assignedSlot.hasAttribute("data-assigning-slot-id")&&w.setAttribute("data-assigned-to",X.assignedSlot.getAttribute("data-assigning-slot-id")),B+=1,K.appendChild(w),X.shadowRoot&&(this.setSizesAndIdForAllElements(X.shadowRoot),X.shadowRoot&&X.shadowRoot.firstChild?.setAttribute&&k.SetFullSizeToElement(X.shadowRoot.firstChild),e(X.shadowRoot.firstChild,w)),this.setSizesAndIdForAllElements(X),X&&X.setAttribute&&k.SetFullSizeToElement(X),e(X.firstChild,w)}},K=document.createElement("div");return w(X,K),this.replaceElementsToRightSlots(K.firstElementChild),K.firstElementChild}replaceElementsToRightSlots(X){const B=X.querySelectorAll("*[data-assigned-to]"),w=X.querySelectorAll("*[data-assigning-slot-id]");for(let X of B){const B=X.getAttribute("data-assigned-to");for(let K of w){if(B===K.getAttribute("data-assigning-slot-id")){K.appendChild(X);break}}}}getSlidesSrc(X){let B,w,K=X.querySelector("ul").parentElement;if(K.shadowRoot?.querySelector?(B=K.shadowRoot.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),w=K.shadowRoot.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS)):(B=K.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),w=K.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS)),B&&w){B.click();let X=setTimeout((()=>{w.click(),clearTimeout(X)}),100)}}buildBannerHtml(X,B){let w=this.feedContainer;this.setWrapperClass(w);let K=this.headCopyWithStyles;const e=document.createElement("html"),k=this.bodyCopyWithStyles,R=document.createElement("div"),u=w.cloneNode();return R.appendChild(u),this.setWrapperStyles(w,R),K.appendChild(this.getClassNameForStyles(X)),e.appendChild(K),u.appendChild(X),k.appendChild(R),e.appendChild(k),e}setWrapperClass(X){let B=X.parentElement,w=!1;if(B)for(let e=0;e<50&&!w&&B;e++)if(B.nextSibling&&-1!==B.nextSibling.nodeName.search(/style/i)&&B.previousSibling&&-1!==B.previousSibling.nodeName.search(/style/i)){var K=B.getAttribute("class");X.className+=X.className.length?" "+K:K,w=!0}else B=B.parentElement}setWrapperStyles(X,B){B.style.cssText=B.style.cssText+`max-width: ${this.maxWidthContainer(X)}`}get getFeedContainer(){let X=this.redditConfig.FEED.QUERIES,B=window.innerWidth,w=this.redditConfig.FEED.SECONDARY_CHECK_QUERY,K=this.redditConfig.FEED.QUERY_TO_EXCLUDE;for(let e of X){const X=Array.from(document.querySelectorAll(e));for(let e of X){const X=getComputedStyle(e),k=(B-parseInt(X.width))/B*100;if(parseInt(X.height)>1e3&&k>2&&!e.querySelector(K))return e.querySelector(w)?e.querySelector(w):e}}return null}get headCopyWithStyles(){const X=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((B=>{const w=B.KEY,K=B.ALL_STYLES_FROM,e=B.FEED_PAGE;for(let B of Array.from(X.children))if(-1!==B.nodeName.search(/^(style|link)$/gi)){if(B.dataset[w]){let X=K.some((X=>B.dataset[w].includes(X)));X||this.isCommentPage||(X=e.some((X=>B.dataset[w].includes(X)))),X||B.remove()}}else B.remove()})),this.neccesaryStyleRules){const B=document.createElement("style");B.innerHTML=this.neccesaryStyleRules,X.appendChild(B)}return this.getStylesByTagName(X),X}get neccesaryStyleRules(){let X=null;const B=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((X=>{const B=new RegExp(X,"gi"),w=document.querySelector("head").outerHTML.match(B);let K;return w&&w.length&&(K=w.join("")),K})).filter((X=>X));return B&&B.length&&(X=B.join("")),X}getClassNameForStyles(X){let B=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((w=>{const K=X.querySelector(w.CLASS_NAME_CHILD);let e=K&&K.parentElement?K.parentElement:null,k="";for(let X=1;X<w.DEEP_LEVEL;X++)e&&(e=e.parentElement);e&&(k=e.classList[0],B.innerHTML+="."+k+w.STYLES)})),B}getStylesByTagName(X){let B=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((B=>{const w=new RegExp(B.ATTRIBUTE_REGEX_VALUE);return Array.from(X.querySelectorAll(B.TAG_NAME)).filter((X=>{if(X&&X[B.ATTRIBUTE_NAME]&&-1!==X[B.ATTRIBUTE_NAME].search(w))return X;X.remove()}))})).filter((X=>X)).forEach((X=>{B=B.concat(X)})),B.forEach((B=>{X.appendChild(B)}))}get bodyCopyWithStyles(){const X=document.createElement("body"),B=Array.from(document.querySelectorAll("body style")).map((X=>{if(X)return X.cloneNode(!0)}));return B&&B.forEach((B=>{X.appendChild(B)})),X}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}isVideoPost(X){let B=!1;if(X){B=Array.from(X.querySelectorAll("*")).some((X=>{let B=!!X.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!B&&X.shadowRoot&&(B=!!X.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),B}))}return B}lookingForVideoDataInContent(X){const B=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let w=X.querySelector(B);if(w){let X=w.getAttribute("src");w.getAttribute("poster");if(X&&!X.includes("blob:")){const B=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let w=X.match(B),K=null;if(w?.groups?.videoId)return K=w.groups.videoId,{videoId:K,url:X}}}return{}}isPromoted(X){if(X){let B=X;1===B.childElementCount&&B.firstElementChild.shadowRoot&&B.firstElementChild.shadowRoot.firstElementChild&&(B=B.firstElementChild.shadowRoot.firstElementChild);let w=Array.from(B.querySelectorAll(this.redditConfig.FEED.PROMOTED_SELECTOR)),K=Array.from(B.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)),e=Array.from(X.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR)),k=w.concat(e).concat(K);if(k.length)return k.some((X=>{let B=X.textContent.trim().toLowerCase();return B?this.redditConfig.PROMOTED_ALIASES.some((X=>B.indexOf(X)>=0)):X.dataset.beforeContent?(B=X.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((X=>B.indexOf(X)>=0))):void 0}))}return!1}IsPostContentRendered(X,B){let w=!1;if(X){let K=X.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(K&&0===K.length){let K=k.GetFullElementSize(X);if(K.w>0){k.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,X,K).some((X=>X>=B))&&(w=!0)}}X.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(w=!0)}return w}isAvatarImgReady(X){if(!X)return!1;let B=[X],w=null;1===X.childElementCount&&X.firstElementChild.shadowRoot&&(w=X.firstElementChild.shadowRoot.firstElementChild),X.shadowRoot&&(w=X.shadowRoot.firstElementChild),w&&B.push(w);let K=!1;for(let X of B){let B=X.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(B){if(!B.shadowRoot)return!0;if(K=!!B.shadowRoot&&!!B.shadowRoot.querySelector("img"),K)break}}return K}get isValidUrl(){return!this.redditConfig.FEED.INVALID_URL_PATHS.some((X=>window.location.href.includes(X)))}}},9955:(X,B,w)=>{const K=w(655),e=w(1568),k=w(2880);X.exports=class extends K{constructor(X,B,w,K){super(X,B,w),this.id=X,this.rightColumnObserver=null,this.redditConfig=K,this.rightColumnContainer=null,this.AdBlockerAgent=w,this.lastTopPosition=null,this.adPlacementType=e.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN}HideElement(){}setSizesAndIdForAllElements(X){}getAdRedditObject(X,B,w,K){}doesElementExists(X){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer,!!this.rightColumnContainer}ActivateMutationObserver(){this.rightColumnContainer?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processRightColumnAds(),this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer,this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.extractOccurrences(e.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN)}allCellsAndMinImgSpace(){let X=[],B=0;return this.rightColumnContainer&&this.rightColumnContainer.children&&(X=Array.from(this.rightColumnContainer.children).map((X=>X.querySelector("div ~ div > button")?X.querySelector("div:nth-child(1)"):"HR"===X.nodeName||0===X.getBoundingClientRect().height?null:X)).filter((X=>X)),B=this.redditConfig.RIGHT_COLUMN.IMG_SPACE_PERCENTAGE),X=X.filter((X=>this.isPromoted(X))),{allCells:X,minImgSquarePercentage:B}}extractOccurrences(){let{allCells:X,minImgSquarePercentage:B}=this.allCellsAndMinImgSpace();if(X.length)for(let w of X)if(!w.hasAttribute(e.ATTRIBUTE_BIS_ID)&&!w.hasAttribute(e.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(w,B)){let X=k.GenerateAndSetBisIdToRedditAds(w);if(this.isShadowRootExist(w)){const B=this.deepClone(w);let K=this.buildBannerHtml(B),e=this.lookingTargetUrl(K),k=this.getAdRedditObject(w,K,e,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(w)&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),B.remove(),setTimeout(this.ExtractAd.bind(this,X,k),100)}else{this.setSizesAndIdForAllElements(w);const B=w.cloneNode(!0);let K=this.buildBannerHtml(B),e=this.lookingTargetUrl(K),k=this.getAdRedditObject(w,K,e,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(w)&&(this.HideElement(w),this.AdBlockerAgent.SetHiddenAmount(1)),B.remove(),setTimeout(this.ExtractAd.bind(this,X,k),100)}}}isShadowRootExist(X){if(X.shadowRoot)return!0;return Array.from(X.querySelectorAll("*")).some((X=>X.shadowRoot))}deepClone(X){let B=1;const w=(X,K)=>{const e=(X,B)=>{for(;X;)w(X,B),X=X.nextSibling};if(X){const w=X.cloneNode(!1);"SLOT"===X.nodeName&&(X.setAttribute("data-assigning-slot-id",B),w.setAttribute("data-assigning-slot-id",B)),X.assignedSlot&&X instanceof Element&&X.assignedSlot.hasAttribute("data-assigning-slot-id")&&w.setAttribute("data-assigned-to",X.assignedSlot.getAttribute("data-assigning-slot-id")),B+=1,K.appendChild(w),X.shadowRoot&&(this.setSizesAndIdForAllElements(X.shadowRoot),X.shadowRoot&&X.shadowRoot.firstChild.setAttribute&&k.SetFullSizeToElement(X.shadowRoot.firstChild),e(X.shadowRoot.firstChild,w)),this.setSizesAndIdForAllElements(X),X&&X.setAttribute&&k.SetFullSizeToElement(X),e(X.firstChild,w)}},K=document.createElement("div");return w(X,K),this.replaceElementsToRightSlots(K.firstElementChild),K.firstElementChild}buildBannerHtml(X){let B=this.rightColumnContainer;this.setWrapperClass(B);let w=this.headCopyWithStyles;const K=document.createElement("html"),e=this.bodyCopyWithStyles,k=document.createElement("div"),R=B.cloneNode();return k.appendChild(R),this.setWrapperStyles(B,k),w.appendChild(this.getClassNameForStyles(X)),K.appendChild(w),R.appendChild(X),e.appendChild(k),K.appendChild(e),K}setWrapperClass(X){let B=X.parentElement,w=!1;if(B)for(let e=0;e<50&&!w&&B;e++)if(B.nextSibling&&-1!==B.nextSibling.nodeName.search(/style/i)&&B.previousSibling&&-1!==B.previousSibling.nodeName.search(/style/i)){var K=B.getAttribute("class");X.className+=X.className.length?" "+K:K,w=!0}else B=B.parentElement}setWrapperStyles(X,B){B.style.cssText=B.style.cssText+`max-width: ${this.maxWidthContainer(X)}`}replaceElementsToRightSlots(X){const B=X.querySelectorAll("*[data-assigned-to]"),w=X.querySelectorAll("*[data-assigning-slot-id]");for(let X of B){const B=X.getAttribute("data-assigned-to");for(let K of w){if(B===K.getAttribute("data-assigning-slot-id")){K.appendChild(X);break}}}}isPromoted(X){if(X){let B=X,w=Array.from(B.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR));if(w.length)return w.some((X=>{let B=X.textContent.trim().toLowerCase();return B?this.redditConfig.PROMOTED_ALIASES.some((X=>B.indexOf(X)>=0)):X.dataset.beforeContent?(B=X.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((X=>B.indexOf(X)>=0))):void 0}))}return!1}IsPostContentRendered(X,B){let w=!1;if(X){let K=X.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(0===K?.length){let K=k.GetFullElementSize(X);if(K.w>0&&K.h>0){k.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,X,K).some((X=>X>=B))&&(w=!0)}}X.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(w=!0)}return w}lookingTargetUrl(X){let B="";let w=Array.from(X.querySelectorAll('a[target="_blank"]')).filter((X=>!(!X?.href||this.redditConfig.BAD_URL_PATTERN_FOR_TARGET_URL.some((B=>X.href.includes(B))))));return w.length&&(B=w[0].href),B}get headCopyWithStyles(){const X=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((B=>{const w=B.KEY,K=B.ALL_STYLES_FROM,e=B.FEED_PAGE;for(let B of Array.from(X.children))if(-1!==B.nodeName.search(/^(style|link)$/gi)){if(B.innerHTML=B.innerHTML.replace(/}.[^}]*{visibility:hidden}/,"}"),B.dataset[w]){let X=K.some((X=>B.dataset[w].includes(X)));X||this.isCommentPage||(X=e.some((X=>B.dataset[w].includes(X)))),X||B.remove()}}else B.remove()})),this.necessaryStyleRules){const B=document.createElement("style");B.innerHTML=this.necessaryStyleRules,X.appendChild(B)}return this.getStylesByTagName(X),X}get necessaryStyleRules(){let X=null;const B=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((X=>{const B=new RegExp(X,"gi"),w=document.querySelector("head").outerHTML.match(B);let K;return w&&w.length&&(K=w.join("")),K})).filter((X=>X));return B&&B.length&&(X=B.join("")),X}getClassNameForStyles(X){let B=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((w=>{const K=X.querySelector(w.CLASS_NAME_CHILD);let e=K&&K.parentElement?K.parentElement:null,k="";for(let X=1;X<w.DEEP_LEVEL;X++)e&&(e=e.parentElement);e&&(k=e.classList[0],B.innerHTML+="."+k+w.STYLES)})),B}getStylesByTagName(X){let B=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((B=>{const w=new RegExp(B.ATTRIBUTE_REGEX_VALUE);return Array.from(X.querySelectorAll(B.TAG_NAME)).filter((X=>{if(X&&X[B.ATTRIBUTE_NAME]&&-1!==X[B.ATTRIBUTE_NAME].search(w))return X;X.remove()}))})).filter((X=>X)).forEach((X=>{B=B.concat(X)})),B.forEach((B=>{X.appendChild(B)}))}get bodyCopyWithStyles(){const X=document.createElement("body"),B=document.querySelector("body style")?.cloneNode(!0);return B&&X.appendChild(B),X}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}get getRightColumnContainer(){const X=this.redditConfig.RIGHT_COLUMN.QUERIES;let B=null;for(let w of X){let X=Array.from(document.querySelectorAll(w));if(!X.length)continue;let K=X.filter((X=>X.children.length>2));if(K&&K.length){B=K[0];break}}return B}}},9105:(X,B,w)=>{const K=w(2880);w(1568);X.exports=class{constructor(X){this.id=X}setAttributes(X){const B=K.getURL("../executors/reddit.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}InjectDetector(){if(!this.#X()&&document.head){var X=document.createElement("script"),B=function(){document.head.appendChild(X),window.removeEventListener("DOMContentLoaded",B)};this.setAttributes(X),window.addEventListener("DOMContentLoaded",B)}}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("reddit.js")))}}},5849:(X,B,w)=>{const K=w(9346),e=w(1568),k=w(8384),R=w(5364),u=w(1687),A=w(8838),s=w(2880),U=w(9358);X.exports=class extends K{constructor(X,B,w){super(X),this.id=X,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=w,this.tiktokConfig=B.TiktokConfig,this.tiktokDetectorFeed=null,this.ActivateTrafficDetector()}onPageUrlChanged(){this.available&&setTimeout((()=>{this.DeactivateDetectors(e.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.tiktokDetectorFeed.ActivateDetector()}DeactivateDetectors(X){this.tiktokDetectorFeed.DeactivateDetector(X)}ActivateDetector(X){X===e.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.tiktokDetectorFeed=new u(this.id,this.tiktokConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.tiktokConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.tiktokDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.tiktokDetectorFeed.getTiktokAdObject=this.getTiktokAdObject.bind(this),this.tiktokDetectorFeed.ExtractAd=this.processAndSendTiktokAd.bind(this),this.tiktokDetectorFeed.removePostCopy=this.removePostCopy.bind(this),this.tiktokDetectorFeed.HideElement=this.HideElement.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new A(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_t",JSON.stringify(this.tiktokConfig)))}processAndSendTiktokAd(X,B,w=document){let K=w.querySelector(`[${e.ATTRIBUTE_BIS_ID}=${X}]`);K&&(R.SendAdCandidates(this.id,[B],e.MESSAGE_TYPE_TIKTOK_FEED_DATA,null),k._X&&k.tX&&(K.children[0].children[0].style.cssText+=e.STYLES_OUTLINE_VIDEO_AD))}getTiktokAdObject(X,B,w,K){const e=s.SetFullSizeToElement(X);return{content:U.encode(B.outerHTML),size:e,adPlacementType:K,videoId:w}}removePostCopy(X){X.remove()}}},1687:(X,B,w)=>{const K=w(2880),e=w(1568),k=w(655);X.exports=class extends k{constructor(X,B,w,K){super(X,B,w),this.tiktokConfig=K,this.id=X,this.adBlockerAgent=w,this.feedContainer=null,this.feedObserver=null}HideElement(X){}setSizesAndIdForAllElements(X){}getTiktokAdObject(X,B,w,K){}removePostCopy(X){}ActualizeDetector(){return this.feedContainer=this.#B(),!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.#w()}CheckIfAdRendered(X){for(let B of this.tiktokConfig.FEED.PREVIEW_QUERIES){const w=X.querySelector(B);if(w?.src)return new RegExp(/^https:\/\//).test(w.src)}return!1}#B(){const X=this.tiktokConfig.FEED.CONTAINER_QUERIES,B=this.tiktokConfig.FEED.CONTAINER_MIN_HEIGHT;for(let w of X){let X=document.querySelector(w);if(X){if(X.offsetHeight>=B)return X}}}#w(){let X=this.#K();if(X?.length)for(let B of X)if(this.CheckIfAdRendered(B)&&!B.hasAttribute(e.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(B);const X=K.GenerateAndSetBisIdToInstagramAds(B),w=this.#e(B),k=this.#k(B),R=this.getTiktokAdObject(B,w,k,e.TIKTOK_AD_PLACEMENT_TYPE_FEED);this.removePostCopy(w);let u=setTimeout((()=>{this.ExtractAd.call(this,X,R),clearTimeout(u)}),100)}}#K(){if(!this.feedContainer)return[];let X=Array.from(this.feedContainer.children),B=[];for(let w of X){if(this.tiktokConfig.FEED.PROMOTED_QUERIES.find((X=>w.querySelector(X)))){B.push(w);break}}return B}#e(X){const B=this.feedContainer.cloneNode(),w=document.createElement("html"),K=this.#R(),e=this.#u(),k=X.cloneNode(!0);return B.appendChild(k),K.appendChild(B),w.appendChild(e),w.appendChild(K),w}#R(){const X=document.createElement("body"),B=document.querySelectorAll('body style, body link[rel="stylesheet"]');return B&&B.forEach((B=>{const w=B.cloneNode(!0);X.appendChild(w)})),X}#u(){const X=document.createElement("head"),B=document.querySelectorAll("style"),w=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head');return B&&B.forEach((B=>{let w="";for(let X of B.sheet.cssRules)w+=X.cssText;const K=B.cloneNode(!0);K.innerHTML=w,X.appendChild(K)})),w&&w.forEach((B=>{let w=B.cloneNode(!0);X.appendChild(w)})),X}#k(X){const B=this.tiktokConfig.FEED.VIDEO_CONTAINER_QUERIES.find((B=>X.querySelector(B))),w=X.querySelector(B);if(w){const X=new RegExp(/\d{5,}/).exec(w.id);return X?X[0]:null}return null}}},8838:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X,B){this.id=X,this.AdBlockerAgent=B}InjectDetector(X){if(!this.#X()&&document.head){let X=document.createElement("script");this.setAttributes(X),document.head.appendChild(X)}}setAttributes(X){const B=K.getURL("../executors/tiktok.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B,this.AdBlockerAgent.IsEnabledForTiktok()&&X.setAttribute("adblock_use","")}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("tiktok.js")))}}},9203:(X,B,w)=>{const K=w(1568),e=w(4736);X.exports=class{constructor(X,B,w,K){this.id=X,this.videoTrafficDetector=null,this.ioManager=w,this.adBlockerAgent=K,this.config=B.twitchConfig,this.videoTrafficDetector=new e(this.id,this.config,this.ioManager),this.videoTrafficDetector.InjectDetector()}ActivateDetector(X){X===K.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0)}}},4736:(X,B,w)=>{const K=w(2880),e=w(9358),k=w(855);X.exports=class extends k{constructor(X,B,w){super(X,B,w,!0),this.id=X,this.IOManager.onGotTwitchVideoInstreamDataCallback=this.processTwitchInstreamData.bind(this),this.signature=null,this.token=null,this.config=B}InjectDetector(){if(!this.#X()&&document.head){let X=document.createElement("script");this.setAttributes(X),document.head.appendChild(X)}}setAttributes(X){const B=K.getURL("../executors/twitch.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("twitch.js")))}processTwitchInstreamData(X){this.findAndSaveSignatureAndToken(X.content);const B=this.parsePostBodyData(X);let w=this.buildInstreamAdURL(B);const K=this.prepareObjectToSend(w);this.sendCandidateToBackground(K)}findAndSaveSignatureAndToken(X){X?.includes("streamPlaybackAccessToken")&&(this.signature=X.match(/signature":(| )["'](?<sig>.[^"]*)",/)?.groups?.sig,this.token=encodeURIComponent(X.match(/value":(| )["'](?<token>.*)/).groups.token.replace(/","signature":.*/,"").replace(/\\/g,"")))}parsePostBodyData(X){if(!new RegExp("video-edge.*.ts$").test(X.url)&&"application/x-www-form-urlencoded; charset=utf-8"!==X.type)return;if(!X.encodedPostBody||0!==X.encodedPostBody.search(/^data=/))return;let B=e.decode(X.encodedPostBody.replace(/data=/,""),!1);return JSON.parse(B)}buildInstreamAdURL(X){if(!this.signature)return;const B={};if(B.channel=document.location.pathname.match(/\//g)?.length>1?"":document.location.pathname.replace(/\//g,""),!B.channel)return;B.browserFamily=K.IsChrome()?"chrome":"firefox",B.browserVersion=navigator.userAgent.match(new RegExp("(chrome|firefox)/(?<browserVersion>\\d{3}.\\d)","i")).groups.browserVersion;const{osName:w,osVersion:e}=navigator.userAgent.match(/\((?<osName>.[^ ]*)\s(?<osVersion>.[^;]*);\)?/)?.groups;B.osName=w,B.osVersion=e,B.signature=this.signature,B.token=this.token,B.p=Math.floor(1e7*Math.random())+1;for(let w of X)if(w?.properties.hasOwnProperty("play_session_id")){B.playSessionId=w.properties.play_session_id;break}return B.playSessionId?this.replaceMacrosesInUrl(B):void 0}getMacrosArray(){return this.config.URL_PATTERN_TO_GET_HLS.match(/\$\{(.[^}]*)}/g).map((X=>X.replace(/[${}]/g,"")))}replaceMacrosesInUrl(X){let B=this.config.URL_PATTERN_TO_GET_HLS;for(let[w,K]of Object.entries(X))B=B.replace(`\${${w}}`,K);return B}prepareObjectToSend(X){return{requestMethod:"GET",urlToGetInstreamData:X,url:"",contentType:"",mediaType:"",alias:"TWITCH_HLS"}}sendCandidateToBackground(X){this.IOManager.SendTwitchInstreamData(this.id,X)}}},4919:(X,B,w)=>{const K=w(8384),e=w(2880),k=w(1568),R=w(9346),u=w(5364),A=w(1402),s=w(9473);w(5473);X.exports=class extends R{constructor(X,B,w){super(X),this.id=X,this.onPageRefreshed=this.onPageUrlChanged,this.twConfig=B.TwitterConfig,this.TwitterDetectorFeed=null,this.TwitterDetectorRightColumn=null,this.VideoTrafficDetector=null,this.AdBlockerAgent=w,this.ActivateVideoTrafficDetector()}onPageUrlChanged(X,B){this.available&&setTimeout((()=>{this.DeactivateDetectors(k.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new A(this.id),this.VideoTrafficDetector.InjectDetector())}ActivateDetector(X){X===k.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.TwitterDetectorFeed=new s(this.id,this.twConfig.FEED.DETECTOR_OPTIONS,this.twConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}ActivateDetectors(){this.TwitterDetectorFeed.ActivateDetector()}AddNecessaryMethods(){this.TwitterDetectorFeed.ExtractAd=this.processAndSendTwitterAd.bind(this),this.TwitterDetectorFeed.isVideo=this.isVideo.bind(this),this.TwitterDetectorFeed.HideElement=this.HideElement.bind(this),this.TwitterDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.TwitterDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.TwitterDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.TwitterDetectorFeed.getAdTwitterObject=this.getAdTwitterObject.bind(this)}DeactivateDetectors(X){this.TwitterDetectorFeed.DeactivateDetector(X)}IsAdContentRendered(X,B){let w=!1;if(X){let K=X.querySelectorAll(this.twConfig.PROGRESS_SELECTOR);if(K&&0===K.length){let K=e.GetFullElementSize(X);if(K.w>0){e.GetImagesSpacePercentage(this.twConfig.TAGS_FOR_LOADING_CHECK,X,K).some((X=>X>=B))&&(w=!0)}}}return w}processAndSendTwitterAd(X,B,w=!1,e=document){let R=e.querySelector(`[${k.ATTRIBUTE_BIS_ID}=${X}]`);R&&(u.SendCandidatePlacementsCount(this.id,1,k.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER,null),u.SendAdCandidates(this.id,[B],k.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER,null),K._X&&K.tX&&(R.style.cssText+=w?k.STYLES_OUTLINE_VIDEO_AD:k.STYLES_OUTLINE_SUCCESS_DETECT))}}},9473:(X,B,w)=>{const K=w(2880),e=w(1568),k=w(655);X.exports=class extends k{constructor(X,B,w,e){super(X,B,e),this.available=!1,this.twConfig=w,this.AdBlockerAgent=e,this.feedObserver=null,this.activated=!1,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.lastFeedPostAdsCheckTime=K.GetCurrentTimestampMs(),this.lastFeedWhoToFollowAdsCheckTime=K.GetCurrentTimestampMs(),this.feedContainer=null}isVideo(X,B){}HideElement(){}IsAdContentRendered(X,B){}doesElementExists(X){}setSizesAndIdForAllElements(X){}getAdTwitterObject(X,B,w){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}get getFeedContainer(){const X=this.twConfig.FEED.CONTAINER;let B=Array.from(document.querySelectorAll(X)).filter((X=>X&&X.children.length>2));return B&&B.length?B[0]:null}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.startIntervalDetectCandidates.bind(this,e.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processAdsFromFeed()}processAdsFromFeed(){this.processFeedAds(),this.processFeedWhoToFollowAds()}processFeedAds(){this.extractOccurrences(e.TWITTER_AD_PLACEMENT_TYPE_FEED)}processFeedWhoToFollowAds(){this.extractOccurrences(e.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW)}allCellsAndMinImgSpace(X){let B=[],w=0;return X===e.TWITTER_AD_PLACEMENT_TYPE_FEED?(this.feedContainer&&(B=Array.from(this.feedContainer.children)),w=this.twConfig.FEED.MIN_IMGS_SPACE_PERCENTAGE):X===e.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW&&(B=Array.from(document.querySelectorAll(this.twConfig.FEED.WHO_TO_FOLLOW_SELECTOR)),w=this.twConfig.FEED.WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE),B=B.filter((X=>this.isPromoted(X))),{allCells:B,minImgSquarePercentage:w}}extractOccurrences(X){let{allCells:B,minImgSquarePercentage:w}=this.allCellsAndMinImgSpace(X);if(B.length)for(const k of B)if(!k.hasAttribute(e.ATTRIBUTE_BIS_ID)&&!k.hasAttribute(e.ATTRIBUTE_BIS_SIZE)&&this.IsAdContentRendered(k,w)){let B,w=K.GenerateAndSetBisIdToTwitterAds(k);this.setSizesAndIdForAllElements(k);let R=this.isVideo(k,this.twConfig.FEED.TAGS_FOR_VIDEO_TWEET_CHECK);const u=k.cloneNode(!0);let A=this.buildBannerHtml(u,X),s=this.chooseContent(k,A);B=this.getAdTwitterObject(s,k,X,this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT),X===e.TWITTER_AD_PLACEMENT_TYPE_FEED&&(R&&!this.isCarouselCandidate(k)?B.videoData={}:!R&&this.isCarouselCandidate(k)&&this.twConfig.COLLECT_CAROUSEL_DATA&&(B.carouselData={})),this.AdBlockerAgent.IsEnabledForTwitter()&&!this.AdBlockerAgent.IsElementHidden(k)&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),setTimeout(this.ExtractAd.bind(this,w,B,R),100)}}chooseContent(X,B){return this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT?B:X.querySelector(this.twConfig.FEED.TWEETS_SELECTOR)?X.querySelector(this.twConfig.FEED.TWEETS_SELECTOR):X}buildBannerHtml(X,B){let w=this.feedContainer;this.setWrapperClass(w),X.style.transform="none",X.style.position="relative";let K=this.headCopyWithStyles;const e=document.createElement("html"),k=document.createElement("body"),R=document.createElement("div"),u=w.cloneNode();return u.style.minHeight="auto",R.appendChild(u),this.setWrapperStyles(w,R),e.appendChild(K),u.appendChild(X),k.appendChild(R),e.appendChild(k),e}setWrapperClass(X){let B=X.parentElement,w=!1;if(B)for(let K=0;K<50&&!w&&B;K++)if(B.nextSibling&&-1!==B.nextSibling.nodeName.search(/style/i)&&B.previousSibling&&-1!==B.previousSibling.nodeName.search(/style/i)){let K=B.getAttribute("class");X.className+=X.className.length?" "+K:K,w=!0}else B=B.parentElement}setWrapperStyles(X,B){B.style.cssText=B.style.cssText+`max-width: ${this.maxWidthContainer(X)}`}maxWidthContainer(X){return X?X.offsetWidth+"px":"auto"}get headCopyWithStyles(){const X=document.createElement("head"),B=this.#A();if(B){let w=document.createElement("style");w.innerHTML=B,X.appendChild(w)}const w=Array.from(document.querySelectorAll("head meta")).map((X=>{if(X)return X.cloneNode(!0)}));return w&&w.forEach((B=>{X.appendChild(B)})),X}#A(){const X=Array.from(document.styleSheets);let B=[];for(let w of X)try{B.push(w.cssRules)}catch(X){}return B.reduce(((X,B)=>{for(let w of B)w?.cssText&&(X+=w.cssText+"\n");return X}),"")}isPromoted(X){if(X){const B=Array.from(X.querySelectorAll(this.twConfig.PROMOTED_SELECTOR));if(B.length)return B.some((X=>{const B=X.textContent,w=B.toLowerCase().trim(),K=(w.match(/ /g)||[]).length+1;return!(!B||"string"!=typeof B)&&this.twConfig.PROMOTED_ALIASES.some((X=>{if(K<6&&w.includes(X.toLowerCase().trim())&&!w.startsWith("@"))return!0}))}))}return!1}isCarouselCandidate(X){if(X){if(X.querySelector(this.twConfig.FEED.CHECK_IF_CAROUSEL_QUERY))return!0}return!1}}},5473:()=>{},1402:(X,B,w)=>{const K=w(2880);X.exports=class{constructor(X){this.id=X}InjectDetector(){if(!this.#X()&&document.head){let X=document.createElement("script"),B=function(){document.head.appendChild(X),window.removeEventListener("DOMContentLoaded",B)};this.setAttributes(X),window.addEventListener("DOMContentLoaded",B)}}setAttributes(X){const B=K.getURL("../executors/twitter.js");X.setAttribute("bis_use","true"),X.type="text/javascript",X.setAttribute("charset","utf-8"),X.setAttribute("nonce",""),X.setAttribute("data-dynamic-id",`${chrome.runtime.dynamicId}`),X.src=B}#X(){let X=document.querySelector("head");return Array.from(X.querySelectorAll("script")).map((X=>X.src)).some((X=>X.includes("twitter.js")))}}},2880:(X,B,w)=>{const K=w(1568);class e{static QuerySelectorAll(X,B){return document.__proto__.querySelectorAll.call(X,B)}static QuerySelector(X,B){return document.__proto__.querySelector.call(X,B)}static Escape(X){return X.replace(/\"/g,"&quot;")}static ToJSON(X){return"function"==typeof X.toJSON?X.toJSON():JSON.stringify(X)}static GetBaseHref(){let X=e.QuerySelector(document,"base");return X&&X.href?X.href:""}static GetTabIdKey(X){return"tb_"+X}static GetMainPageId(X){return"mp_"+X}static IsOnChromeRuntime(){let X=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch(B){X=!1}if(X)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}static GetElementSize(X){let B={x:0,y:0,w:0,h:0};if(X&&X.getBoundingClientRect){let w=X.getBoundingClientRect();B={x:~~(w.left+window.scrollX),y:~~(w.top+window.scrollY),w:~~w.width,h:~~w.height}}return B}static IsCoordinatesValid(X){return!!(X&&X.hasOwnProperty("x")&&"number"==typeof X.x&&X.hasOwnProperty("y")&&"number"==typeof X.y)}static GetFullElementSize(X,B,w){let K=e.GetElementSize(X);return e.IsCoordinatesValid(w)&&(K.x=K.x+w.x,K.y=K.y+w.y),e.IsCoordinatesValid(B)?(K.abs_x=K.x+B.x,K.abs_y=K.y+B.y):(K.abs_x=K.x,K.abs_y=K.y),K}static SetFullSizeToElement(X,B,w){let K={x:0,y:0,w:0,h:0};return e.IsCoordinatesValid(w)&&(K.x=K.x+w.x,K.y=K.y+w.y),X&&X.setAttribute&&(K=e.GetFullElementSize(X,B,w),X.setAttribute("bis_size",e.ToJSON(K))),K}static GenerateAndSetBisId(X,B){let w=B+e.GenerateQuickId();return X&&X.setAttribute&&X.setAttribute(K.ATTRIBUTE_BIS_ID,w),w}static GenerateAndSetBisIdToFrame(X){return e.GenerateAndSetBisId(X,"fr_")}static GenerateAndSetBisIdToBanner(X){return e.GenerateAndSetBisId(X,"bn_")}static GenerateAndSetBisIdToPinterestAds(X){return e.GenerateAndSetBisId(X,"pt_")}static GenerateAndSetBisIdToInstagramAds(X){return e.GenerateAndSetBisId(X,"ig_")}static GenerateAndSetBisIdToLinkedinAds(X){return e.GenerateAndSetBisId(X,"ln_")}static GenerateAndSetBisIdToFBAds(X){return e.GenerateAndSetBisId(X,"fb_")}static GenerateAndSetBisIdToTwitterAds(X){return e.GenerateAndSetBisId(X,"tw_")}static GenerateAndSetBisIdToRedditAds(X){return e.GenerateAndSetBisId(X,"rd_")}static SetBisDepth(X,B){X&&X.setAttribute&&X.setAttribute("bis_depth",B)}static SetBisChainId(X,B){X&&X.setAttribute&&X.setAttribute("bis_chainid",B)}static SetBannerId(X,B){X&&X.setAttribute&&X.setAttribute("bis_bannerid",B)}static UpdateCandidateStatusBorderColor(X,B){if(X&&X.style&&X.style.cssText&&B){let w="";B.filteredOut?w=K.STYLES_BORDER_BANNER_FILTERED:B.sentToBackend?w=K.STYLES_BORDER_BANNER_SENT:B.targetUrlExtracted?w=K.STYLES_BORDER_BANNER_URL_EXTRACTED:B.fullContentExtracted&&(w=K.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);let e=X.style.cssText;e.includes(w)||(e=e.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,w),X.style.cssText=e)}}static GetMainDomainFromHost(X){if(X&&X.split){let B=X.split(".");if(B.length>=2){let X=B[B.length-2],w=B[B.length-1];return B.length>=3&&2===w.length&&3===X.length?`${B[B.length-3]}.${X}.${w}`:X+"."+w}}return null}static GetMainDomainFromUrl(X){return e.GetMainDomainFromHost(e.GetHostNameFromUrl(X))}static GetHostNameFromUrl(X){let B=X.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=B&&B.length>2&&"string"==typeof B[2]&&B[2].length>0?B[2]:null}static IsUrlFromHost(X,B){return-1!==X.indexOf(e.GetMainDomainFromUrl(B))}static IsPublisherInBlacklist(X,B){let w=!1,K=e.GetHostNameFromUrl(X);return B&&B.length&&K&&B.includes(K)&&(w=!0),w}static GetUrlFromStyleStr(X){let B=X.replace(/"/g,"'"),w=B.indexOf("http");-1===w&&(w=B.indexOf("//"));let K=B.indexOf("'",w),e="";return w>0&&K>0&&w<K&&(e=B.substr(w,K-w)),e}static GetCurrentDataTimeStr(X=null){function B(X){return X<10?"0"+X:""+X}let w=X?new Date(X):new Date;return`${w.getFullYear()}-${B(w.getMonth()+1)}-${B(w.getDate())} ${B(w.getHours())}:${B(w.getMinutes())}:${B(w.getSeconds())}`}static GetCurrentDataTimeStrWithGMT(X=null){function B(X){return X<10?"0"+X:""+X}let w=X?new Date(X):new Date;return`${w.getFullYear()}-${B(w.getMonth()+1)}-${B(w.getDate())} ${B(w.getHours())}:${B(w.getMinutes())}:${B(w.getSeconds())} ${w.toTimeString().match(/GMT.\S*/)[0]}`}static GetWindowSize(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}static IsIframeHasContentScript(X){try{if(X&&!e.IsIframeSecure(X)&&"ok"!==X.contentDocument.body.getAttribute("bis_status"))return!1}catch(X){}return!0}static IsIframeSecure(X){return!X||0!==X.src.length&&"about:blank"!==X.src&&"about:srcdoc"!==X.src&&0!==X.src.indexOf("javascript:")}static isValidUrl(X){return"string"==typeof X&&X.length>0&&(-1!==X.indexOf("http")||-1!==X.indexOf("//"))}static IsValidBisId(X){return!!(X.startsWith("mp_")||X.startsWith("bg_")||X.startsWith("fr_"))}static IsYouTubeUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.indexOf("youtube.com")}static IsFacebookUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.indexOf("facebook.com")}static IsTwitterUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.search(/twitter|x\.com/)}static IsRedditUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.indexOf("reddit.com")}static IsPinterestUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}static IsInstagramUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.indexOf("instagram.com")}static IsLinkedinUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.indexOf("linkedin.com")}static IsTiktokUrl(X){return!!~e.GetHostNameFromUrl(X).indexOf("tiktok.com")}static IsTwitchUrl(X){let B=e.GetHostNameFromUrl(X);return!!B&&-1!==B.indexOf("twitch.tv")}static GetFullIdStr(X,B,w){return`ext:${chrome.runtime.id}-chainId:${X}-frameId:${B}-bisId:${w}`}static GetRandomIntInRange(X,B){return parseInt((Math.random()*(B-X)+X).toFixed(0))}static GetCurrentTimestamp(){return Date.now()/1e3|0}static GetCurrentTimestampMs(){return Date.now()}static GenerateQuickId(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}static GenerateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(X){let B=16*Math.random()|0;return("x"==X?B:3&B|8).toString(16)}))}static IsInFilterList(X,B){let w=!1;if(X)for(let K=0;K<X.length&&!w;K++)-1!==B.indexOf(X[K])&&(w=!0);return w}static IsChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}static IsFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static IsFBVideoDataValid(X){let B=!1;if(X)try{"number"==typeof X.detectionTime&&"string"==typeof X.videoId&&"string"==typeof X.videoUrl&&X.videoId.length&&X.videoUrl.length&&(B=!0)}catch(X){}return B}static GetDefaultAdblockerStatus(){return{[K.ADBLOCKER_FOR_DISPLAY]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_FACEBOOK]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_TWITTER]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_REDDIT]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_PINTEREST]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_INSTAGRAM]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_TIKTOK]:K.ADBLOCKER_STATUS_DISABLED,[K.ADBLOCKER_FOR_LINKEDIN]:K.ADBLOCKER_STATUS_DISABLED,[K.USE_LOCAL_CONFIG]:K.ADBLOCKER_STATUS_DISABLED}}static GetImagesSpacePercentage(X,B,w){let K=[];if(!B)return K;const k=w.w*w.h;let R=[],u=Array.from(B.querySelectorAll("*")).map((B=>B.shadowRoot?B.shadowRoot.querySelectorAll(X):"IMG"===B.nodeName||"IFRAME"===B.nodeName?B:B.querySelectorAll(X))).filter((X=>X)).reduce(((X,B)=>(B&&B.length&&B.forEach((B=>{X.includes(B)||X.push(B)})),"IMG"!==B.nodeName&&"IFRAME"!==B.nodeName||X.push(B),X)),[]);if(!u?.length||0===k)return K;for(let B of u){let w=B;w&&w.shadowRoot&&(w=w.shadowRoot.firstElementChild.querySelector(X));let K=e.GetElementSize(w);R.push(K.w*K.h/k*100)}return R}static CheckDocumentReadyState(X){return document.readyState===X}static getURL(X){return chrome.runtime.getURL(X)}static getDataFromStorageLocal(X){return chrome.storage.local.get([X]).then((B=>B[X]?B[X]:B))}static getDataFromStorageSync(X){return new Promise(((B,w)=>{try{chrome.storage.sync.get([X]).then((w=>{w[X]?B(w[X]):B(w)}))}catch(X){w(X)}}))}static GetCookie(X){let B=X+"=",w=decodeURIComponent(document.cookie).split(";");for(let X=0;X<w.length;X++){let K=w[X];for(;" "==K.charAt(0);)K=K.substring(1);if(0==K.indexOf(B))return K.substring(B.length,K.length)}return""}static GetOriginFromHref(X){X&&X.search(/^http/)}static GetLocaleDateString(){try{return(new Date).toJSON().replace("T",", ")}catch(X){return(new Date).toTimeString()}}static GetAllCookies(){return document.cookie}static async waitForElement(X,B=1e4){return new Promise(((w,K)=>{const e=document.querySelector(X);if(e)return w(e);const k=new MutationObserver((()=>{const B=document.querySelector(X);B&&(k.disconnect(),w(B))}));k.observe(document.body,{childList:!0,subtree:!0}),B&&setTimeout((()=>{k.disconnect(),K(new Error(`Element ${X} not found within timeout`))}),B)}))}static getRegExpFromString(X){let B=X.replace(/.*\/([gimy]*)$/,"$1"),w=X.replace(new RegExp("^/(.*?)/"+B+"$"),"$1");return new RegExp(w,B)}}X.exports=e},1568:(X,B,w)=>{const K=w(9358);X.exports=class{static get DOCUMENT_READYSTATE_LOADING(){return"loading"}static get DOCUMENT_READYSTATE_INTERACTIVE(){return"interactive"}static get DOCUMENT_READYSTATE_COMPLETE(){return"complete"}static get ATTRIBUTE_BIS_ID(){return"bis_id"}static get ATTRIBUTE_BIS_SIZE(){return"bis_size"}static get ATTRIBUTE_BIS_STYLE(){return"bis_style"}static get ATTRIBUTE_BIS_STATUS(){return"bis_status"}static get ATTRIBUTE_BIS_LABEL(){return"bis_label"}static get ATTRIBUTE_BIS_ELEMENT_ID(){return"bis_element_id"}static get ATTRIBUTE_BIS_HIDE_HEIGHT(){return"bis_hide_height"}static get ATTRIBUTE_BIS_HIDE_WIDTH(){return"bis_hide_width"}static get ATTRIBUTE_BIS_HIDE_STATUS(){return"bis_hide_status"}static get ATTRIBUTE_BIS_HIDE_LEFT_OFFSET(){return"bis_hide_left_offset"}static get ATTRIBUTE_BIS_PRECISE_AD(){return"bis_precise_ad"}static get ACTIVATION_BY_ADS_MANAGER(){return"ACTIVATION_BY_ADS_MANAGER"}static get ACTIVATION_BY_ADS_SELF(){return"ACTIVATION_BY_ADS_SELF"}static get MESSAGE_ID(){return"PANELOS_MESSAGE"}static get MESSAGE_TYPE_TEST(){return"TEST"}static get MESSAGE_TYPE_IFRAME_CONTENT(){return"IFRAME_CONTENT"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}static get MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}static get MESSAGE_TYPE_TAB_INITIALIZATION(){return"TAB_INITIALIZATION"}static get MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}static get MESSAGE_TYPE_TAB_URL_CHANGED(){return"TAB_URL_CHANGED"}static get MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED(){return"TAB_ADBLOCKER_STATUS_CHANGED"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION(){return"IFRAME_INITIALIZATION"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE(){return"IFRAME_INITIALIZATION_RESPONSE"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}static get MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL(){return"GET_WINDOW_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND(){return"GET_WINDOW_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL(){return"GET_WINDOW_CLICK_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_FRAME_CONTENT(){return"GET_FRAME_CONTENT"}static get MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK(){return"TARGET_URL_DETECTION_BY_CLICK"}static get MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET(){return"NEW_PAGE_CREATED_TICKET"}static get MESSAGE_TYPE_PANEL_REGULATOR_RESULT(){return"PANEL_REGULATOR_RESULT"}static get MESSAGE_TYPE_OUT_TICKET(){return"OUT_TICKET"}static get MESSAGE_TYPE_CHAIN_ACTIVATION(){return"CHAIN_ACTIVATION"}static get MESSAGE_TYPE_HEADER_INFO_TO_STORAGE(){return"HEADER_INFO_TO_STORAGE"}static get MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE(){return"LINKEDIN_FRAME_CONTENT_TO_STORAGE"}static get MESSAGE_TYPE_CANDIDATES_DATA_SKINADS(){return"CANDIDATES_DATA_SKINADS"}static get MESSAGE_TYPE_CANDIDATES_DATA_BANNERS(){return"CANDIDATES_DATA_BANNERS"}static get MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK(){return"CANDIDATES_DATA_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH(){return"CANDIDATES_VIDEO_DATA_TWITCH"}static get MESSAGE_TYPE_CANDIDATES_DATA_TWITTER(){return"CANDIDATES_DATA_TWITTER"}static get MESSAGE_TYPE_CANDIDATES_DATA_REDDIT(){return"CANDIDATES_DATA_REDDIT"}static get MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST(){return"CANDIDATES_DATA_PINTEREST"}static get MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM(){return"CANDIDATES_DATA_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN(){return"CANDIDATES_DATA_LINKEDIN"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER(){return"CANDIDATE_PLACEMENTS_TWITTER"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT(){return"CANDIDATE_PLACEMENTS_REDDIT"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST(){return"CANDIDATE_PLACEMENTS_PINTEREST"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5(){return"CANDIDATE_PLACEMENTS_HTML5"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN(){return"CANDIDATE_PLACEMENTS_LINKEDIN"}static get MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_VIDEO_XHR_CANDIDATE(){return"VIDEO_XHR_CANDIDATE"}static get MESSAGE_TYPE_VIDEO_HAR(){return"VIDEO_HAR"}static get MESSAGE_TYPE_FACEBOOK_VIDEO_DATA(){return"FACEBOOK_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA(){return"FACEBOOK_INSTREAM_DATA"}static get MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_CANVAS_TEXT(){return"FACEBOOK_CANVAS_TEXT"}static get MESSAGE_TYPE_PINTEREST_VIDEO_DATA(){return"PINTEREST_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_VIDEO_DATA(){return"TWITTER_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_CAROUSEL_DATA(){return"TWITTER_CAROUSEL_DATA"}static get MESSAGE_TYPE_REDDIT_VIDEO_DATA(){return"REDDIT_VIDEO_DATA"}static get MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA(){return"REDDIT_RIGHT_COLUMN_DATA"}static get MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA(){return"INSTAGRAM_VIDEO_DATA"}static get MESSAGE_TYPE_INSTAGRAM_STORY_DATA(){return"INSTAGRAM_STORY_DATA"}static get MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA(){return"INSTAGRAM_FULL_TEXT_DATA"}static get MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}static get MESSAGE_TYPE_LINKEDIN_VIDEO_DATA(){return"LINKEDIN_VIDEO_DATA"}static get MESSAGE_TYPE_LINKEDIN_SLIDES_DATA(){return"LINKEDIN_SLIDES_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA(){return"VIDEO_TWITCH_INSTREAM_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_ACCESS_TOKEN_DATA(){return"VIDEO_XHR_ACCESS_TOKEN_DATA"}static get MESSAGE_TYPE_TIKTOK_FEED_DATA(){return"TIKTOK_FEED_DATA"}static get MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES(){return"TIKTOK_VIDEO_CANDIDATES"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID(){return"GET_PANALYTICS_ID"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION(){return"GET_PANELOS_VERSION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS(){return"GET_ADBLOCKER_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS(){return"GET_ADBLOCKER_COUNTERS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER(){return"ENABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER(){return"DISABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS(){return"GET_DATA_COLLECTION_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION(){return"ENABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION(){return"DISABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}static get MESSAGE_TYPE_GET_EXCLUDE_LIST(){return"GET_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST(){return"ADD_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST(){return"REMOVE_FROM_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_GET_CURRENT_DOMAIN(){return"GET_CURRENT_DOMAIN"}static get MESSAGE_TYPE_GET_CURRENT_PAGE_URL(){return"GET_CURRENT_PAGE_URL"}static get MESSAGE_TYPE_USE_LOCAL_CONFIG(){return"USE_LOCAL_CONFIG"}static get MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS(){return"GET_LOCAL_CONFIG_STATUS"}static get ADBLOCKER_STATUS_ENABLED(){return"enabled"}static get ADBLOCKER_STATUS_DISABLED(){return"disabled"}static get VIDEO_TRAFFIC_SOURCE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_SOURCE_JS(){return"JS"}static get VIDEO_TRAFFIC_SOURCE_XHR(){return"XHR"}static get VIDEO_TRAFFIC_MEDIA_TYPE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON(){return"JSON"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON(){return"JSON_FB"}static get VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE(){return"YT_JSON_NEXTPAGE"}static get VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH(){return"feedWatch"}static get FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE(){return"marketplace"}static get FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN(){return"rightColumn"}static get FACEBOOK_AD_PLACEMENT_TYPE_STORIES(){return"stories"}static get FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE(){return"videoPage"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_NAME(){return"[ADVERTISER_NAME]"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID(){return"[VIDEO_ID]"}static get TWITTER_AD_PLACEMENT_TYPE_FEED(){return"feedPost"}static get TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW(){return"feedWhoToFollow"}static get TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW(){return"rightColumnWhoToFollow"}static get REDDIT_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE(){return"commentPage"}static get REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get LINKEDIN_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get PINTEREST_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get PINTEREST_AD_PLACEMENT_TYPE_SEARCH(){return"searchPage"}static get PINTEREST_AD_PLACEMENT_TYPE_PIN(){return"pinPage"}static get PINTEREST_LOADER_TYPE_PIN_PAGE(){return"pinPage"}static get PINTEREST_LOADER_TYPE_USER_INFO(){return"userInfo"}static get INSTAGRAM_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get INSTAGRAM_AD_PLACEMENT_TYPE_STORY(){return"story"}static get TIKTOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get KNOWN_CSS_NAMES(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}static get FACEBOOK_DESIGN_VERSION_OLD(){return 1}static get FACEBOOK_DESIGN_VERSION_NEW(){return 2}static get OUT_TICKET_TYPE_SINGLE(){return"SINGLE"}static get OUT_TICKET_TYPE_MULTI(){return"MULTI"}static get ADBLOCKER_FOR_DISPLAY(){return"DISPLAY"}static get ADBLOCKER_FOR_FACEBOOK(){return"FACEBOOK"}static get ADBLOCKER_FOR_TWITTER(){return"TWITTER"}static get ADBLOCKER_FOR_REDDIT(){return"REDDIT"}static get ADBLOCKER_FOR_PINTEREST(){return"PINTEREST"}static get ADBLOCKER_FOR_INSTAGRAM(){return"INSTAGRAM"}static get ADBLOCKER_FOR_TIKTOK(){return"TIKTOK"}static get ADBLOCKER_FOR_LINKEDIN(){return"LINKEDIN"}static get USE_LOCAL_CONFIG(){return"CONFIG"}static get AD_DETECTOR_INITIATOR_TIMER(){return"timer"}static get AD_DETECTOR_INITIATOR_MUTATION(){return"mutation"}static get AD_DETECTOR_INITIATOR_PAGECHANGE(){return"pagechange"}static get AD_DETECTOR_INITIATOR_ACTIVATION(){return"activation"}static get AD_DETECTOR_INITIATOR_URL(){return"url"}static get AD_DETECTOR_INITIATOR_SCROLL_EVENT(){return"scroll"}static get IFRAMES_CHAIN_BUILDING_STATUS_NONE(){return 0}static get IFRAMES_CHAIN_BUILDING_STATUS_INITED(){return 1}static get IFRAMES_CHAIN_BUILDING_STATUS_STARTED(){return 2}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED(){return 3}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED(){return 4}static get IFRAMES_CHAIN_BUILDING_STATUS_FINISHED(){return 5}static get IFRAMES_TRAFFIC_FILENAME_TO_INJECT(){return"fr-co.js"}static get CANDIDATE_PROCESS_STATUS_DETECTED(){return 1}static get CANDIDATE_PROCESS_STATUS_START_PROCESSING(){return 2}static get CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED(){return 3}static get CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT(){return 4}static get TICKET_BUILDING_STATUS_INIT(){return 0}static get TICKET_BUILDING_STATUS_STARTED(){return 1}static get TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES(){return 2}static get TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES(){return 3}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE(){return 4}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE(){return 5}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE(){return 6}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE(){return 7}static get TICKET_BUILDING_STATUS_DONE(){return 8}static get MESSAGE_TYPE_CONFIG_NOT_FOUND(){return"CONFIG_NOT_FOUND"}static get MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE(){return"CONFIG_UPDATED_IN_STORAGE"}static get TICKET_ALIAS_PANALYTICSID(){return K.decode("cGFuZWxpc3RJZA==")}static get TICKET_ALIAS_PINSTANCEID(){return K.decode("cGFuZWxJZA==")}static get MAX_OUT_TICKETS_QUEUE_LENGTH(){return 20}static EXCLUDE_DOMAINS_LIST(){return"EXCLUDE_DOMAINS_LIST"}static EXCLUDE_PAGES_LIST(){return"EXCLUDE_PAGES_LIST"}static get STYLES_BORDER_BANNER_CONTENT_EXTRACTED(){return"border: 6px solid blue !important;"}static get STYLES_BORDER_BANNER_URL_EXTRACTED(){return"border: 6px solid blueviolet !important;"}static get STYLES_BORDER_BANNER_FILTERED(){return"border: 6px solid orange !important;"}static get STYLES_BORDER_BANNER_SENT(){return"border: 6px solid green !important;"}static get STYLES_OUTLINE_SUCCESS_DETECT(){return"outline: green solid 6px !important;"}static get STYLES_OUTLINE_VIDEO_AD(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}static get STYLES_OUTLINE_TEXT_AD(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}static get STYLES_CONSOLE_LOGS_INFO(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}static get STYLES_CONSOLE_LOGS_ERROR(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}static get STYLES_HIDE_INSTAGRAM_FEED_AD(){return["position: absolute !important; height: 0px !important; margin: 0px !important; padding: 0px !important; overflow: hidden !important;","height: 0px !important; visibility: hidden !important;"]}static get STYLES_HIDE_ELEMENT(){return"left: -10000px !important; position: absolute !important; height: 0;"}}},6882:(X,B,w)=>{const K=w(1568),e=w(2880);X.exports=class{static get EmptyMessage(){return{posdMessageId:K.MESSAGE_ID,posdHash:e.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:"",dynamicAppId:chrome?.runtime?.dynamicId}}static IsValid(X){try{if(void 0!==X&&void 0!==X.posdMessageId&&void 0!==X.type&&void 0!==X.content){const B=chrome?.runtime?.dynamicId;return X.posdMessageId===K.MESSAGE_ID&&X.dynamicAppId===B}}catch(X){throw X}return!1}static IsStrictValid(X){try{if(void 0!==X&&void 0!==X.posdMessageId&&void 0!==X.from&&void 0!==X.to&&void 0!==X.type&&void 0!==X.content)return X.posdMessageId===K.MESSAGE_ID}catch(X){throw X}return!1}}},533:(X,B,w)=>{const K=w(1568);X.exports=class{constructor(){}getStylesByElementsBisId(X){let B={};return this.addStylesForNode(X,B),X.querySelectorAll("*").forEach((X=>{this.addStylesForNode(X,B)})),B}addStylesForNode(X,B){let w=this.getStyles(X);B[X.getAttribute(K.ATTRIBUTE_BIS_ELEMENT_ID)]=w}getStyles(X){let B=window.getComputedStyle(X,null);return this.minimiseComputedStyles(B)}minimiseComputedStyles(X){let B={};for(let w=0;w<X.length;w++){let e=X.item(w),k=X.getPropertyValue(e);B[k]||(B[k]=[]);let R=K.KNOWN_CSS_NAMES.indexOf(e);R>=0?B[k].push(R):B[k].push(e)}return B}}},9358:X=>{var B={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(X,w=!0){if(TextEncoder&&atob&&btoa&&w)return B.bytesToBase64((new TextEncoder).encode(X));let K,e,k,R,u,A,s,U="",l=0;for(X=B._utf8_encode(X);l<X.length;)K=X.charCodeAt(l++),e=X.charCodeAt(l++),k=X.charCodeAt(l++),R=K>>2,u=(3&K)<<4|e>>4,A=(15&e)<<2|k>>6,s=63&k,isNaN(e)?A=s=64:isNaN(k)&&(s=64),U=U+this._keyStr.charAt(R)+this._keyStr.charAt(u)+this._keyStr.charAt(A)+this._keyStr.charAt(s);return U},decode:function(X,w=!0){if("{"===X[0])return X;if(TextDecoder&&atob&&btoa&&w)return(new TextDecoder).decode(B.base64ToBytes(X));let K,e,k,R,u,A,s,U="",l=0;for(X=X.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<X.length;)R=this._keyStr.indexOf(X.charAt(l++)),u=this._keyStr.indexOf(X.charAt(l++)),A=this._keyStr.indexOf(X.charAt(l++)),s=this._keyStr.indexOf(X.charAt(l++)),K=R<<2|u>>4,e=(15&u)<<4|A>>2,k=(3&A)<<6|s,U+=String.fromCharCode(K),64!=A&&(U+=String.fromCharCode(e)),64!=s&&(U+=String.fromCharCode(k));return U=B._utf8_decode(U),U},_utf8_encode:function(X){X=X.replace(/\r\n/g,"\n");let B="";for(let w=0;w<X.length;w++){let K=X.charCodeAt(w);K<128?B+=String.fromCharCode(K):K>127&&K<2048?(B+=String.fromCharCode(K>>6|192),B+=String.fromCharCode(63&K|128)):(B+=String.fromCharCode(K>>12|224),B+=String.fromCharCode(K>>6&63|128),B+=String.fromCharCode(63&K|128))}return B},_utf8_decode:function(X){let B="",w=0,K=0,e=0,k=0;for(;w<X.length;)K=X.charCodeAt(w),K<128?(B+=String.fromCharCode(K),w++):K>191&&K<224?(e=X.charCodeAt(w+1),B+=String.fromCharCode((31&K)<<6|63&e),w+=2):(e=X.charCodeAt(w+1),k=X.charCodeAt(w+2),B+=String.fromCharCode((15&K)<<12|(63&e)<<6|63&k),w+=3);return B},base64ToBytes:function(X){const B=atob(X);return Uint8Array.from(B,(X=>X.codePointAt(0)))},bytesToBase64:function(X){const B=Array.from(X,(X=>String.fromCodePoint(X))).join("");return btoa(B)}};X.exports=B}},B={};function w(K){var e=B[K];if(void 0!==e)return e.exports;var k=B[K]={exports:{}};return X[K](k,k.exports,w),k.exports}w.n=X=>{var B=X&&X.__esModule?()=>X.default:()=>X;return w.d(B,{a:B}),B},w.d=(X,B)=>{for(var K in B)w.o(B,K)&&!w.o(X,K)&&Object.defineProperty(X,K,{enumerable:!0,get:B[K]})},w.o=(X,B)=>Object.prototype.hasOwnProperty.call(X,B),(()=>{"use strict";w(7452);const X=w(1568),B=w(3129),K=w(3870),e=w(2880);if(self===top){(new B).Init()}else if(e.CheckDocumentReadyState(X.DOCUMENT_READYSTATE_LOADING))document.addEventListener("DOMContentLoaded",(()=>{(new K).Init()}));else if(e.CheckDocumentReadyState(X.DOCUMENT_READYSTATE_INTERACTIVE)||e.CheckDocumentReadyState(X.DOCUMENT_READYSTATE_COMPLETE)){(new K).Init()}})()})();